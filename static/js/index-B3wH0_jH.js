var PA=Object.defineProperty,AA=Object.defineProperties;var MA=Object.getOwnPropertyDescriptors;var N1=Object.getOwnPropertySymbols;var TA=Object.prototype.hasOwnProperty,kA=Object.prototype.propertyIsEnumerable;var R1=(i,u,a)=>u in i?PA(i,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[u]=a,C1=(i,u)=>{for(var a in u||(u={}))TA.call(u,a)&&R1(i,a,u[a]);if(N1)for(var a of N1(u))kA.call(u,a)&&R1(i,a,u[a]);return i},I1=(i,u)=>AA(i,MA(u));import{dl as $a,dm as Ni,dn as tn,dp as L1,dq as ui,dr as Sp,ds as Wa,dt as Gc,du as ZO,dv as ri,dw as ci,dx as Tn,dy as DA,dz as Ii,dA as cm,dB as NA,dC as jp,dD as oi,dE as Pp,dF as JO,dG as Du,dH as by,dI as mo,dJ as QO,dK as Ua,dL as ew,dM as Hc,dN as Nu,dO as sm,dP as sn,dQ as my,dR as ml,dS as Ri,dT as kn,dU as Fa,dV as bo,dW as _l,dX as Ap,dY as si,dZ as dr,d_ as qt,d$ as Xc,e0 as RA,e1 as Ol,e2 as tw,e3 as fa,e4 as nw,e5 as rw,e6 as Ub,e7 as wr,e8 as ii,e9 as CA,ea as IA,eb as Mp,ec as ow,ed as Yc,ee as iw,ef as Ga,eg as aw,eh as lm,ei as LA,ej as wl,ek as BA,el as Mu,em as Tp,en as uw,eo as cw,ep as zA,eq as bl,er as fm,es as pm,et as sw,eu as lw,ev as FA,ew as fw,ex as pw,ey as $A,ez as dw,eA as WA,eB as UA,eC as GA,eD as HA,eE as ry,eF as XA,eG as YA,eH as VA,eI as dm,eJ as KA,eK as hw,eL as yw,eM as vw,eN as hm,eO as gw,eP as qA,eQ as ZA,eR as JA,eS as QA,eT as Wc,eU as e2,eV as t2,eW as n2,eX as r2,eY as o2,eZ as i2,e_ as a2,e$ as u2,f0 as c2,f1 as s2,f2 as l2,f3 as f2,f4 as p2,f5 as d2,f6 as h2,f7 as y2,f8 as v2,f9 as g2,fa as b2,fb as m2,fc as _2,fd as O2,b4 as w2,fe as x2,ff as E2,fg as S2,O as j2,d as _y,a as za,m as bw,u as Co,k as Pu,g as Tu,F as mw,l as _w,A as P2,f as ni,q as B1,B as A2,s as z1,v as Ow,_ as ym,j as Gb,t as M2,b as Jh,a0 as vm,w as ll,e as Vh,h as Cb,i as hp,C as T2,D as k2}from"./index-WlA0U7AG.js";import{S as D2}from"./vue-json-pretty-Buva-fKQ.js";var N2=NaN;function F1(i){return typeof i=="number"?i:$a(i)?N2:+i}function Oy(i,u){return function(a,f){var o;if(a===void 0&&f===void 0)return u;if(a!==void 0&&(o=a),f!==void 0){if(o===void 0)return f;typeof a=="string"||typeof f=="string"?(a=Ni(a),f=Ni(f)):(a=F1(a),f=F1(f)),o=i(a,f)}return o}}var R2=Oy(function(i,u){return i+u},0);const C2=R2;var I2="Expected a function";function L2(i,u){if(typeof u!="function")throw new TypeError(I2);return i=tn(i),function(){if(--i<1)return u.apply(this,arguments)}}var oy=L1&&new L1,ww=oy?function(i,u){return oy.set(i,u),i}:ui;function Ep(i){return function(){var u=arguments;switch(u.length){case 0:return new i;case 1:return new i(u[0]);case 2:return new i(u[0],u[1]);case 3:return new i(u[0],u[1],u[2]);case 4:return new i(u[0],u[1],u[2],u[3]);case 5:return new i(u[0],u[1],u[2],u[3],u[4]);case 6:return new i(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new i(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var a=Sp(i.prototype),f=i.apply(a,u);return Wa(f)?f:a}}var B2=1;function z2(i,u,a){var f=u&B2,o=Ep(i);function d(){var h=this&&this!==Gc&&this instanceof d?o:i;return h.apply(f?a:this,arguments)}return d}var F2=Math.max;function xw(i,u,a,f){for(var o=-1,d=i.length,h=a.length,m=-1,g=u.length,E=F2(d-h,0),P=Array(g+E),j=!f;++m<g;)P[m]=u[m];for(;++o<h;)(j||o<d)&&(P[a[o]]=i[o]);for(;E--;)P[m++]=i[o++];return P}var $2=Math.max;function Ew(i,u,a,f){for(var o=-1,d=i.length,h=-1,m=a.length,g=-1,E=u.length,P=$2(d-m,0),j=Array(P+E),k=!f;++o<P;)j[o]=i[o];for(var T=o;++g<E;)j[T+g]=u[g];for(;++h<m;)(k||o<d)&&(j[T+a[h]]=i[o++]);return j}function W2(i,u){for(var a=i.length,f=0;a--;)i[a]===u&&++f;return f}function wy(){}var U2=4294967295;function pn(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U2,this.__views__=[]}pn.prototype=Sp(wy.prototype);pn.prototype.constructor=pn;var gm=oy?function(i){return oy.get(i)}:ZO,yl={},G2=Object.prototype,H2=G2.hasOwnProperty;function Qh(i){for(var u=i.name+"",a=yl[u],f=H2.call(yl,u)?a.length:0;f--;){var o=a[f],d=o.func;if(d==null||d==i)return o.name}return u}function ai(i,u){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=void 0}ai.prototype=Sp(wy.prototype);ai.prototype.constructor=ai;function Sw(i){if(i instanceof pn)return i.clone();var u=new ai(i.__wrapped__,i.__chain__);return u.__actions__=ri(i.__actions__),u.__index__=i.__index__,u.__values__=i.__values__,u}var X2=Object.prototype,Y2=X2.hasOwnProperty;function $(i){if(ci(i)&&!Tn(i)&&!(i instanceof pn)){if(i instanceof ai)return i;if(Y2.call(i,"__wrapped__"))return Sw(i)}return new ai(i)}$.prototype=wy.prototype;$.prototype.constructor=$;function Hb(i){var u=Qh(i),a=$[u];if(typeof a!="function"||!(u in pn.prototype))return!1;if(i===a)return!0;var f=gm(a);return!!f&&i===f[0]}var jw=DA(ww),V2=/\{\n\/\* \[wrapped with (.+)\] \*/,K2=/,? & /;function q2(i){var u=i.match(V2);return u?u[1].split(K2):[]}var Z2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function J2(i,u){var a=u.length;if(!a)return i;var f=a-1;return u[f]=(a>1?"& ":"")+u[f],u=u.join(a>2?", ":" "),i.replace(Z2,`{
/* [wrapped with `+u+`] */
`)}var Q2=1,eM=2,tM=8,nM=16,rM=32,oM=64,iM=128,aM=256,uM=512,cM=[["ary",iM],["bind",Q2],["bindKey",eM],["curry",tM],["curryRight",nM],["flip",uM],["partial",rM],["partialRight",oM],["rearg",aM]];function sM(i,u){return Ii(cM,function(a){var f="_."+a[0];u&a[1]&&!cm(i,f)&&i.push(f)}),i.sort()}function Pw(i,u,a){var f=u+"";return NA(i,J2(f,sM(q2(f),a)))}var lM=1,fM=2,pM=4,dM=8,$1=32,W1=64;function Aw(i,u,a,f,o,d,h,m,g,E){var P=u&dM,j=P?h:void 0,k=P?void 0:h,T=P?d:void 0,C=P?void 0:d;u|=P?$1:W1,u&=~(P?W1:$1),u&pM||(u&=~(lM|fM));var N=[i,u,o,T,j,C,k,m,g,E],I=a.apply(void 0,N);return Hb(i)&&jw(I,N),I.placeholder=f,Pw(I,i,u)}function xl(i){var u=i;return u.placeholder}var hM=Math.min;function yM(i,u){for(var a=i.length,f=hM(u.length,a),o=ri(i);f--;){var d=u[f];i[f]=jp(d,a)?o[d]:void 0}return i}var U1="__lodash_placeholder__";function ku(i,u){for(var a=-1,f=i.length,o=0,d=[];++a<f;){var h=i[a];(h===u||h===U1)&&(i[a]=U1,d[o++]=a)}return d}var vM=1,gM=2,bM=8,mM=16,_M=128,OM=512;function xy(i,u,a,f,o,d,h,m,g,E){var P=u&_M,j=u&vM,k=u&gM,T=u&(bM|mM),C=u&OM,N=k?void 0:Ep(i);function I(){for(var U=arguments.length,G=Array(U),te=U;te--;)G[te]=arguments[te];if(T)var ae=xl(I),ie=W2(G,ae);if(f&&(G=xw(G,f,o,T)),d&&(G=Ew(G,d,h,T)),U-=ie,T&&U<E){var Q=ku(G,ae);return Aw(i,u,xy,I.placeholder,a,G,Q,m,g,E-U)}var ee=j?a:this,V=k?ee[i]:i;return U=G.length,m?G=yM(G,m):C&&U>1&&G.reverse(),P&&g<U&&(G.length=g),this&&this!==Gc&&this instanceof I&&(V=N||Ep(V)),V.apply(ee,G)}return I}function wM(i,u,a){var f=Ep(i);function o(){for(var d=arguments.length,h=Array(d),m=d,g=xl(o);m--;)h[m]=arguments[m];var E=d<3&&h[0]!==g&&h[d-1]!==g?[]:ku(h,g);if(d-=E.length,d<a)return Aw(i,u,xy,o.placeholder,void 0,h,E,void 0,void 0,a-d);var P=this&&this!==Gc&&this instanceof o?f:i;return oi(P,this,h)}return o}var xM=1;function EM(i,u,a,f){var o=u&xM,d=Ep(i);function h(){for(var m=-1,g=arguments.length,E=-1,P=f.length,j=Array(P+g),k=this&&this!==Gc&&this instanceof h?d:i;++E<P;)j[E]=f[E];for(;g--;)j[E++]=arguments[++m];return oi(k,o?a:this,j)}return h}var G1="__lodash_placeholder__",Ib=1,SM=2,jM=4,H1=8,yp=128,X1=256,PM=Math.min;function AM(i,u){var a=i[1],f=u[1],o=a|f,d=o<(Ib|SM|yp),h=f==yp&&a==H1||f==yp&&a==X1&&i[7].length<=u[8]||f==(yp|X1)&&u[7].length<=u[8]&&a==H1;if(!(d||h))return i;f&Ib&&(i[2]=u[2],o|=a&Ib?0:jM);var m=u[3];if(m){var g=i[3];i[3]=g?xw(g,m,u[4]):m,i[4]=g?ku(i[3],G1):u[4]}return m=u[5],m&&(g=i[5],i[5]=g?Ew(g,m,u[6]):m,i[6]=g?ku(i[5],G1):u[6]),m=u[7],m&&(i[7]=m),f&yp&&(i[8]=i[8]==null?u[8]:PM(i[8],u[8])),i[9]==null&&(i[9]=u[9]),i[0]=u[0],i[1]=o,i}var MM="Expected a function",Y1=1,TM=2,Lb=8,Bb=16,zb=32,V1=64,K1=Math.max;function Ha(i,u,a,f,o,d,h,m){var g=u&TM;if(!g&&typeof i!="function")throw new TypeError(MM);var E=f?f.length:0;if(E||(u&=~(zb|V1),f=o=void 0),h=h===void 0?h:K1(tn(h),0),m=m===void 0?m:tn(m),E-=o?o.length:0,u&V1){var P=f,j=o;f=o=void 0}var k=g?void 0:gm(i),T=[i,u,a,f,o,P,j,d,h,m];if(k&&AM(T,k),i=T[0],u=T[1],a=T[2],f=T[3],o=T[4],m=T[9]=T[9]===void 0?g?0:i.length:K1(T[9]-E,0),!m&&u&(Lb|Bb)&&(u&=~(Lb|Bb)),!u||u==Y1)var C=z2(i,u,a);else u==Lb||u==Bb?C=wM(i,u,m):(u==zb||u==(Y1|zb))&&!o.length?C=EM(i,u,a,f):C=xy.apply(void 0,T);var N=k?ww:jw;return Pw(N(C,T),i,u)}var kM=128;function Mw(i,u,a){return u=a?void 0:u,u=i&&u==null?i.length:u,Ha(i,kM,void 0,void 0,void 0,void 0,u)}var DM=Object.prototype,NM=DM.hasOwnProperty,RM=Pp(function(i,u){if(JO(u)||Du(u)){by(u,mo(u),i);return}for(var a in u)NM.call(u,a)&&QO(i,a,u[a])});const CM=RM;var IM=Pp(function(i,u){by(u,Ua(u),i)});const q1=IM;var LM=Pp(function(i,u,a,f){by(u,Ua(u),i,f)});const iy=LM;var BM=Pp(function(i,u,a,f){by(u,mo(u),i,f)});const zM=BM;function bm(i,u){for(var a=-1,f=u.length,o=Array(f),d=i==null;++a<f;)o[a]=d?void 0:ew(i,u[a]);return o}var FM=Hc(bm);const $M=FM;var WM="[object DOMException]",UM="[object Error]";function mm(i){if(!ci(i))return!1;var u=Nu(i);return u==UM||u==WM||typeof i.message=="string"&&typeof i.name=="string"&&!sm(i)}var GM=sn(function(i,u){try{return oi(i,void 0,u)}catch(a){return mm(a)?a:new Error(a)}});const Tw=GM;var HM="Expected a function";function kw(i,u){var a;if(typeof u!="function")throw new TypeError(HM);return i=tn(i),function(){return--i>0&&(a=u.apply(this,arguments)),i<=1&&(u=void 0),a}}var XM=1,YM=32,_m=sn(function(i,u,a){var f=XM;if(a.length){var o=ku(a,xl(_m));f|=YM}return Ha(i,f,u,a,o)});_m.placeholder={};const Dw=_m;var VM=Hc(function(i,u){return Ii(u,function(a){a=my(a),ml(i,a,Dw(i[a],i))}),i});const KM=VM;var qM=1,ZM=2,JM=32,Om=sn(function(i,u,a){var f=qM|ZM;if(a.length){var o=ku(a,xl(Om));f|=JM}return Ha(u,f,i,a,o)});Om.placeholder={};const QM=Om;function Ru(i,u,a){var f=i.length;return a=a===void 0?f:a,!u&&a>=f?i:Ri(i,u,a)}var eT="\\ud800-\\udfff",tT="\\u0300-\\u036f",nT="\\ufe20-\\ufe2f",rT="\\u20d0-\\u20ff",oT=tT+nT+rT,iT="\\ufe0e\\ufe0f",aT="\\u200d",uT=RegExp("["+aT+eT+oT+iT+"]");function El(i){return uT.test(i)}function cT(i){return i.split("")}var Nw="\\ud800-\\udfff",sT="\\u0300-\\u036f",lT="\\ufe20-\\ufe2f",fT="\\u20d0-\\u20ff",pT=sT+lT+fT,dT="\\ufe0e\\ufe0f",hT="["+Nw+"]",Xb="["+pT+"]",Yb="\\ud83c[\\udffb-\\udfff]",yT="(?:"+Xb+"|"+Yb+")",Rw="[^"+Nw+"]",Cw="(?:\\ud83c[\\udde6-\\uddff]){2}",Iw="[\\ud800-\\udbff][\\udc00-\\udfff]",vT="\\u200d",Lw=yT+"?",Bw="["+dT+"]?",gT="(?:"+vT+"(?:"+[Rw,Cw,Iw].join("|")+")"+Bw+Lw+")*",bT=Bw+Lw+gT,mT="(?:"+[Rw+Xb+"?",Xb,Cw,Iw,hT].join("|")+")",_T=RegExp(Yb+"(?="+Yb+")|"+mT+bT,"g");function OT(i){return i.match(_T)||[]}function Ci(i){return El(i)?OT(i):cT(i)}function zw(i){return function(u){u=kn(u);var a=El(u)?Ci(u):void 0,f=a?a[0]:u.charAt(0),o=a?Ru(a,1).join(""):u.slice(1);return f[i]()+o}}var wT=zw("toUpperCase");const wm=wT;function Fw(i){return wm(kn(i).toLowerCase())}function xm(i,u,a,f){var o=-1,d=i==null?0:i.length;for(f&&d&&(a=i[++o]);++o<d;)a=u(a,i[o],o,i);return a}function Em(i){return function(u){return i==null?void 0:i[u]}}var xT={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ET=Em(xT);const ST=ET;var jT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,PT="\\u0300-\\u036f",AT="\\ufe20-\\ufe2f",MT="\\u20d0-\\u20ff",TT=PT+AT+MT,kT="["+TT+"]",DT=RegExp(kT,"g");function $w(i){return i=kn(i),i&&i.replace(jT,ST).replace(DT,"")}var NT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function RT(i){return i.match(NT)||[]}var CT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function IT(i){return CT.test(i)}var Ww="\\ud800-\\udfff",LT="\\u0300-\\u036f",BT="\\ufe20-\\ufe2f",zT="\\u20d0-\\u20ff",FT=LT+BT+zT,Uw="\\u2700-\\u27bf",Gw="a-z\\xdf-\\xf6\\xf8-\\xff",$T="\\xac\\xb1\\xd7\\xf7",WT="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",UT="\\u2000-\\u206f",GT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hw="A-Z\\xc0-\\xd6\\xd8-\\xde",HT="\\ufe0e\\ufe0f",Xw=$T+WT+UT+GT,Yw="['’]",Z1="["+Xw+"]",XT="["+FT+"]",Vw="\\d+",YT="["+Uw+"]",Kw="["+Gw+"]",qw="[^"+Ww+Xw+Vw+Uw+Gw+Hw+"]",VT="\\ud83c[\\udffb-\\udfff]",KT="(?:"+XT+"|"+VT+")",qT="[^"+Ww+"]",Zw="(?:\\ud83c[\\udde6-\\uddff]){2}",Jw="[\\ud800-\\udbff][\\udc00-\\udfff]",pl="["+Hw+"]",ZT="\\u200d",J1="(?:"+Kw+"|"+qw+")",JT="(?:"+pl+"|"+qw+")",Q1="(?:"+Yw+"(?:d|ll|m|re|s|t|ve))?",eO="(?:"+Yw+"(?:D|LL|M|RE|S|T|VE))?",Qw=KT+"?",ex="["+HT+"]?",QT="(?:"+ZT+"(?:"+[qT,Zw,Jw].join("|")+")"+ex+Qw+")*",ek="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nk=ex+Qw+QT,rk="(?:"+[YT,Zw,Jw].join("|")+")"+nk,ok=RegExp([pl+"?"+Kw+"+"+Q1+"(?="+[Z1,pl,"$"].join("|")+")",JT+"+"+eO+"(?="+[Z1,pl+J1,"$"].join("|")+")",pl+"?"+J1+"+"+Q1,pl+"+"+eO,tk,ek,Vw,rk].join("|"),"g");function ik(i){return i.match(ok)||[]}function tx(i,u,a){return i=kn(i),u=a?void 0:u,u===void 0?IT(i)?ik(i):RT(i):i.match(u)||[]}var ak="['’]",uk=RegExp(ak,"g");function Sl(i){return function(u){return xm(tx($w(u).replace(uk,"")),i,"")}}var ck=Sl(function(i,u,a){return u=u.toLowerCase(),i+(a?Fw(u):u)});const sk=ck;var lk=Gc.isFinite,fk=Math.min;function Sm(i){var u=Math[i];return function(a,f){if(a=Fa(a),f=f==null?0:fk(tn(f),292),f&&lk(a)){var o=(kn(a)+"e").split("e"),d=u(o[0]+"e"+(+o[1]+f));return o=(kn(d)+"e").split("e"),+(o[0]+"e"+(+o[1]-f))}return u(a)}}var pk=Sm("ceil");const dk=pk;function nx(i){var u=$(i);return u.__chain__=!0,u}var hk=Math.ceil,yk=Math.max;function vk(i,u,a){(a?bo(i,u,a):u===void 0)?u=1:u=yk(tn(u),0);var f=i==null?0:i.length;if(!f||u<1)return[];for(var o=0,d=0,h=Array(hk(f/u));o<f;)h[d++]=Ri(i,o,o+=u);return h}function Vc(i,u,a){return i===i&&(a!==void 0&&(i=i<=a?i:a),u!==void 0&&(i=i>=u?i:u)),i}function gk(i,u,a){return a===void 0&&(a=u,u=void 0),a!==void 0&&(a=Fa(a),a=a===a?a:0),u!==void 0&&(u=Fa(u),u=u===u?u:0),Vc(Fa(i),u,a)}var bk=1,mk=4;function _k(i,u){return u=typeof u=="function"?u:void 0,_l(i,bk|mk,u)}var Ok=4;function wk(i,u){return u=typeof u=="function"?u:void 0,_l(i,Ok,u)}function xk(){return new ai(this.value(),this.__chain__)}function Ek(i){for(var u=-1,a=i==null?0:i.length,f=0,o=[];++u<a;){var d=i[u];d&&(o[f++]=d)}return o}function Sk(){var i=arguments.length;if(!i)return[];for(var u=Array(i-1),a=arguments[0],f=i;f--;)u[f-1]=arguments[f];return Ap(Tn(a)?ri(a):[a],si(u,1))}var jk="Expected a function";function Pk(i){var u=i==null?0:i.length,a=qt;return i=u?dr(i,function(f){if(typeof f[1]!="function")throw new TypeError(jk);return[a(f[0]),f[1]]}):[],sn(function(f){for(var o=-1;++o<u;){var d=i[o];if(oi(d[0],this,f))return oi(d[1],this,f)}})}function rx(i,u,a){var f=a.length;if(i==null)return!f;for(i=Object(i);f--;){var o=a[f],d=u[o],h=i[o];if(h===void 0&&!(o in i)||!d(h))return!1}return!0}function Ak(i){var u=mo(i);return function(a){return rx(a,i,u)}}var Mk=1;function Tk(i){return Ak(_l(i,Mk))}function kk(i,u){return u==null||rx(i,u,mo(u))}function Dk(i,u,a,f){for(var o=-1,d=i==null?0:i.length;++o<d;){var h=i[o];u(f,h,a(h),i)}return f}function Nk(i,u,a,f){return Xc(i,function(o,d,h){u(f,o,a(o),h)}),f}function Ey(i,u){return function(a,f){var o=Tn(a)?Dk:Nk,d=u?u():{};return o(a,i,qt(f),d)}}var Rk=Object.prototype,Ck=Rk.hasOwnProperty,Ik=Ey(function(i,u,a){Ck.call(i,a)?++i[a]:ml(i,a,1)});const Lk=Ik;function Bk(i,u){var a=Sp(i);return u==null?a:RA(a,u)}var zk=8;function jm(i,u,a){u=a?void 0:u;var f=Ha(i,zk,void 0,void 0,void 0,void 0,void 0,u);return f.placeholder=jm.placeholder,f}jm.placeholder={};var Fk=16;function Pm(i,u,a){u=a?void 0:u;var f=Ha(i,Fk,void 0,void 0,void 0,void 0,void 0,u);return f.placeholder=Pm.placeholder,f}Pm.placeholder={};function $k(i,u){return i==null||i!==i?u:i}var ox=Object.prototype,Wk=ox.hasOwnProperty,Uk=sn(function(i,u){i=Object(i);var a=-1,f=u.length,o=f>2?u[2]:void 0;for(o&&bo(u[0],u[1],o)&&(f=1);++a<f;)for(var d=u[a],h=Ua(d),m=-1,g=h.length;++m<g;){var E=h[m],P=i[E];(P===void 0||Ol(P,ox[E])&&!Wk.call(i,E))&&(i[E]=d[E])}return i});const Gk=Uk;function ix(i,u,a,f,o,d){return Wa(i)&&Wa(u)&&(d.set(u,i),tw(i,u,void 0,ix,d),d.delete(u)),i}var Hk=Pp(function(i,u,a,f){tw(i,u,a,f)});const ax=Hk;var Xk=sn(function(i){return i.push(void 0,ix),oi(ax,void 0,i)});const Yk=Xk;var Vk="Expected a function";function ux(i,u,a){if(typeof i!="function")throw new TypeError(Vk);return setTimeout(function(){i.apply(void 0,a)},u)}var Kk=sn(function(i,u){return ux(i,1,u)});const qk=Kk;var Zk=sn(function(i,u,a){return ux(i,Fa(u)||0,a)});const Jk=Zk;var Qk=200;function kp(i,u,a,f){var o=-1,d=cm,h=!0,m=i.length,g=[],E=u.length;if(!m)return g;a&&(u=dr(u,fa(a))),f?(d=rw,h=!1):u.length>=Qk&&(d=Ub,h=!1,u=new nw(u));e:for(;++o<m;){var P=i[o],j=a==null?P:a(P);if(P=f||P!==0?P:0,h&&j===j){for(var k=E;k--;)if(u[k]===j)continue e;g.push(P)}else d(u,j,f)||g.push(P)}return g}var eD=sn(function(i,u){return wr(i)?kp(i,si(u,1,wr,!0)):[]});const tD=eD;var nD=sn(function(i,u){var a=ii(u);return wr(a)&&(a=void 0),wr(i)?kp(i,si(u,1,wr,!0),qt(a)):[]});const rD=nD;var oD=sn(function(i,u){var a=ii(u);return wr(a)&&(a=void 0),wr(i)?kp(i,si(u,1,wr,!0),void 0,a):[]});const iD=oD;var aD=Oy(function(i,u){return i/u},1);const uD=aD;function cD(i,u,a){var f=i==null?0:i.length;return f?(u=a||u===void 0?1:tn(u),Ri(i,u<0?0:u,f)):[]}function sD(i,u,a){var f=i==null?0:i.length;return f?(u=a||u===void 0?1:tn(u),u=f-u,Ri(i,0,u<0?0:u)):[]}function Sy(i,u,a,f){for(var o=i.length,d=f?o:-1;(f?d--:++d<o)&&u(i[d],d,i););return a?Ri(i,f?0:d,f?d+1:o):Ri(i,f?d+1:0,f?o:d)}function lD(i,u){return i&&i.length?Sy(i,qt(u),!0,!0):[]}function fD(i,u){return i&&i.length?Sy(i,qt(u),!0):[]}function da(i){return typeof i=="function"?i:ui}function tO(i,u){var a=Tn(i)?Ii:Xc;return a(i,da(u))}function pD(i,u){for(var a=i==null?0:i.length;a--&&u(i[a],a,i)!==!1;);return i}var cx=CA(!0);function Am(i,u){return i&&cx(i,u,mo)}var dD=IA(Am,!0);const sx=dD;function nO(i,u){var a=Tn(i)?pD:sx;return a(i,da(u))}function hD(i,u,a){i=kn(i),u=Ni(u);var f=i.length;a=a===void 0?f:Vc(tn(a),0,f);var o=a;return a-=u.length,a>=0&&i.slice(a,o)==u}function yD(i,u){return dr(u,function(a){return[a,i[a]]})}function vD(i){var u=-1,a=Array(i.size);return i.forEach(function(f){a[++u]=[f,f]}),a}var gD="[object Map]",bD="[object Set]";function lx(i){return function(u){var a=Mp(u);return a==gD?ow(u):a==bD?vD(u):yD(u,i(u))}}var mD=lx(mo);const rO=mD;var _D=lx(Ua);const oO=_D;var OD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wD=Em(OD);const xD=wD;var fx=/[&<>"']/g,ED=RegExp(fx.source);function px(i){return i=kn(i),i&&ED.test(i)?i.replace(fx,xD):i}var dx=/[\\^$.*+?()[\]{}|]/g,SD=RegExp(dx.source);function jD(i){return i=kn(i),i&&SD.test(i)?i.replace(dx,"\\$&"):i}function hx(i,u){for(var a=-1,f=i==null?0:i.length;++a<f;)if(!u(i[a],a,i))return!1;return!0}function PD(i,u){var a=!0;return Xc(i,function(f,o,d){return a=!!u(f,o,d),a}),a}function AD(i,u,a){var f=Tn(i)?hx:PD;return a&&bo(i,u,a)&&(u=void 0),f(i,qt(u))}var MD=4294967295;function yx(i){return i?Vc(tn(i),0,MD):0}function TD(i,u,a,f){var o=i.length;for(a=tn(a),a<0&&(a=-a>o?0:o+a),f=f===void 0||f>o?o:tn(f),f<0&&(f+=o),f=a>f?0:yx(f);a<f;)i[a++]=u;return i}function kD(i,u,a,f){var o=i==null?0:i.length;return o?(a&&typeof a!="number"&&bo(i,u,a)&&(a=0,f=o),TD(i,u,a,f)):[]}function vx(i,u){var a=[];return Xc(i,function(f,o,d){u(f,o,d)&&a.push(f)}),a}function DD(i,u){var a=Tn(i)?Yc:vx;return a(i,qt(u))}function gx(i){return function(u,a,f){var o=Object(u);if(!Du(u)){var d=qt(a);u=mo(u),a=function(m){return d(o[m],m,o)}}var h=i(u,a,f);return h>-1?o[d?u[h]:h]:void 0}}var ND=Math.max;function bx(i,u,a){var f=i==null?0:i.length;if(!f)return-1;var o=a==null?0:tn(a);return o<0&&(o=ND(f+o,0)),iw(i,qt(u),o)}var RD=gx(bx);const CD=RD;function mx(i,u,a){var f;return a(i,function(o,d,h){if(u(o,d,h))return f=d,!1}),f}function ID(i,u){return mx(i,qt(u),Ga)}var LD=gx(aw);const BD=LD;function zD(i,u){return mx(i,qt(u),Am)}function iO(i){return i&&i.length?i[0]:void 0}var FD=1/0;function $D(i,u){return si(lm(i,u),FD)}function WD(i,u,a){return a=a===void 0?1:tn(a),si(lm(i,u),a)}function UD(i,u){var a=i==null?0:i.length;return a?(u=u===void 0?1:tn(u),si(i,u)):[]}var GD=512;function HD(i){return Ha(i,GD)}var XD=Sm("floor");const YD=XD;var VD="Expected a function",KD=8,qD=32,ZD=128,JD=256;function _x(i){return Hc(function(u){var a=u.length,f=a,o=ai.prototype.thru;for(i&&u.reverse();f--;){var d=u[f];if(typeof d!="function")throw new TypeError(VD);if(o&&!h&&Qh(d)=="wrapper")var h=new ai([],!0)}for(f=h?f:a;++f<a;){d=u[f];var m=Qh(d),g=m=="wrapper"?gm(d):void 0;g&&Hb(g[0])&&g[1]==(ZD|KD|qD|JD)&&!g[4].length&&g[9]==1?h=h[Qh(g[0])].apply(h,g[3]):h=d.length==1&&Hb(d)?h[m]():h.thru(d)}return function(){var E=arguments,P=E[0];if(h&&E.length==1&&Tn(P))return h.plant(P).value();for(var j=0,k=a?u[j].apply(this,E):P;++j<a;)k=u[j].call(this,k);return k}})}var QD=_x();const eN=QD;var tN=_x(!0);const nN=tN;function rN(i,u){return i==null?i:LA(i,da(u),Ua)}function oN(i,u){return i==null?i:cx(i,da(u),Ua)}function iN(i,u){return i&&Ga(i,da(u))}function aN(i,u){return i&&Am(i,da(u))}function jy(i,u){return Yc(u,function(a){return wl(i[a])})}function uN(i){return i==null?[]:jy(i,mo(i))}function cN(i){return i==null?[]:jy(i,Ua(i))}var sN=Object.prototype,lN=sN.hasOwnProperty,fN=Ey(function(i,u,a){lN.call(i,a)?i[a].push(u):ml(i,a,[u])});const pN=fN;function Mm(i,u){return i>u}function Py(i){return function(u,a){return typeof u=="string"&&typeof a=="string"||(u=Fa(u),a=Fa(a)),i(u,a)}}var dN=Py(Mm);const hN=dN;var yN=Py(function(i,u){return i>=u});const vN=yN;var gN=Object.prototype,bN=gN.hasOwnProperty;function mN(i,u){return i!=null&&bN.call(i,u)}function _N(i,u){return i!=null&&BA(i,u,mN)}var ON=Math.max,wN=Math.min;function xN(i,u,a){return i>=wN(u,a)&&i<ON(u,a)}function EN(i,u,a){return u=Mu(u),a===void 0?(a=u,u=0):a=Mu(a),i=Fa(i),xN(i,u,a)}var SN="[object String]";function Ay(i){return typeof i=="string"||!Tn(i)&&ci(i)&&Nu(i)==SN}function Tm(i,u){return dr(u,function(a){return i[a]})}function jl(i){return i==null?[]:Tm(i,mo(i))}var jN=Math.max;function PN(i,u,a,f){i=Du(i)?i:jl(i),a=a&&!f?tn(a):0;var o=i.length;return a<0&&(a=jN(o+a,0)),Ay(i)?a<=o&&i.indexOf(u,a)>-1:!!o&&Tp(i,u,a)>-1}var AN=Math.max;function MN(i,u,a){var f=i==null?0:i.length;if(!f)return-1;var o=a==null?0:tn(a);return o<0&&(o=AN(f+o,0)),Tp(i,u,o)}function TN(i){var u=i==null?0:i.length;return u?Ri(i,0,-1):[]}var kN=Math.min;function km(i,u,a){for(var f=a?rw:cm,o=i[0].length,d=i.length,h=d,m=Array(d),g=1/0,E=[];h--;){var P=i[h];h&&u&&(P=dr(P,fa(u))),g=kN(P.length,g),m[h]=!a&&(u||o>=120&&P.length>=120)?new nw(h&&P):void 0}P=i[0];var j=-1,k=m[0];e:for(;++j<o&&E.length<g;){var T=P[j],C=u?u(T):T;if(T=a||T!==0?T:0,!(k?Ub(k,C):f(E,C,a))){for(h=d;--h;){var N=m[h];if(!(N?Ub(N,C):f(i[h],C,a)))continue e}k&&k.push(C),E.push(T)}}return E}function Dm(i){return wr(i)?i:[]}var DN=sn(function(i){var u=dr(i,Dm);return u.length&&u[0]===i[0]?km(u):[]});const NN=DN;var RN=sn(function(i){var u=ii(i),a=dr(i,Dm);return u===ii(a)?u=void 0:a.pop(),a.length&&a[0]===i[0]?km(a,qt(u)):[]});const CN=RN;var IN=sn(function(i){var u=ii(i),a=dr(i,Dm);return u=typeof u=="function"?u:void 0,u&&a.pop(),a.length&&a[0]===i[0]?km(a,void 0,u):[]});const LN=IN;function BN(i,u,a,f){return Ga(i,function(o,d,h){u(f,a(o),d,h)}),f}function Ox(i,u){return function(a,f){return BN(a,i,u(f),{})}}var zN=Object.prototype,FN=zN.toString,$N=Ox(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=FN.call(u)),i[u]=a},uw(ui));const WN=$N;var wx=Object.prototype,UN=wx.hasOwnProperty,GN=wx.toString,HN=Ox(function(i,u,a){u!=null&&typeof u.toString!="function"&&(u=GN.call(u)),UN.call(i,u)?i[u].push(a):i[u]=[a]},qt);const XN=HN;function Dp(i,u,a){u=cw(u,i),i=zA(i,u);var f=i==null?i:i[my(ii(u))];return f==null?void 0:oi(f,i,a)}var YN=sn(Dp);const VN=YN;var KN=sn(function(i,u,a){var f=-1,o=typeof u=="function",d=Du(i)?Array(i.length):[];return Xc(i,function(h){d[++f]=o?oi(u,h,a):Dp(h,u,a)}),d});const qN=KN;var ZN="[object ArrayBuffer]";function JN(i){return ci(i)&&Nu(i)==ZN}var aO=bl&&bl.isArrayBuffer,QN=aO?fa(aO):JN;const eR=QN;var tR="[object Boolean]";function nR(i){return i===!0||i===!1||ci(i)&&Nu(i)==tR}var rR="[object Date]";function oR(i){return ci(i)&&Nu(i)==rR}var uO=bl&&bl.isDate,iR=uO?fa(uO):oR;const aR=iR;function uR(i){return ci(i)&&i.nodeType===1&&!sm(i)}var cR="[object Map]",sR="[object Set]",lR=Object.prototype,fR=lR.hasOwnProperty;function pR(i){if(i==null)return!0;if(Du(i)&&(Tn(i)||typeof i=="string"||typeof i.splice=="function"||fm(i)||pm(i)||sw(i)))return!i.length;var u=Mp(i);if(u==cR||u==sR)return!i.size;if(JO(i))return!lw(i).length;for(var a in i)if(fR.call(i,a))return!1;return!0}function dR(i,u,a){a=typeof a=="function"?a:void 0;var f=a?a(i,u):void 0;return f===void 0?FA(i,u,void 0,a):!!f}var hR=Gc.isFinite;function yR(i){return typeof i=="number"&&hR(i)}function xx(i){return typeof i=="number"&&i==tn(i)}function vR(i,u){return i===u||fw(i,u,pw(u))}function gR(i,u,a){return a=typeof a=="function"?a:void 0,fw(i,u,pw(u),a)}var bR="[object Number]";function Ex(i){return typeof i=="number"||ci(i)&&Nu(i)==bR}function mR(i){return Ex(i)&&i!=+i}var _R=$A?wl:dw,OR="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function wR(i){if(_R(i))throw new Error(OR);return WA(i)}function xR(i){return i===null}var ER="[object RegExp]";function SR(i){return ci(i)&&Nu(i)==ER}var cO=bl&&bl.isRegExp,jR=cO?fa(cO):SR;const Nm=jR;var sO=9007199254740991;function PR(i){return xx(i)&&i>=-sO&&i<=sO}var AR="[object WeakMap]";function MR(i){return ci(i)&&Mp(i)==AR}var TR="[object WeakSet]";function kR(i){return ci(i)&&Nu(i)==TR}var DR=1;function NR(i){return qt(typeof i=="function"?i:_l(i,DR))}var RR=Array.prototype,CR=RR.join;function IR(i,u){return i==null?"":CR.call(i,u)}var LR=Sl(function(i,u,a){return i+(a?"-":"")+u.toLowerCase()});const BR=LR;var zR=Ey(function(i,u,a){ml(i,a,u)});const FR=zR;function $R(i,u,a){for(var f=a+1;f--;)if(i[f]===u)return f;return f}var WR=Math.max,UR=Math.min;function GR(i,u,a){var f=i==null?0:i.length;if(!f)return-1;var o=f;return a!==void 0&&(o=tn(a),o=o<0?WR(f+o,0):UR(o,f-1)),u===u?$R(i,u,o):iw(i,UA,o,!0)}var HR=Sl(function(i,u,a){return i+(a?" ":"")+u.toLowerCase()});const XR=HR;var YR=zw("toLowerCase");const VR=YR;function Rm(i,u){return i<u}var KR=Py(Rm);const qR=KR;var ZR=Py(function(i,u){return i<=u});const JR=ZR;function QR(i,u){var a={};return u=qt(u),Ga(i,function(f,o,d){ml(a,u(f,o,d),f)}),a}function eC(i,u){var a={};return u=qt(u),Ga(i,function(f,o,d){ml(a,o,u(f,o,d))}),a}var tC=1;function nC(i){return GA(_l(i,tC))}var rC=1;function oC(i,u){return HA(i,_l(u,rC))}function My(i,u,a){for(var f=-1,o=i.length;++f<o;){var d=i[f],h=u(d);if(h!=null&&(m===void 0?h===h&&!$a(h):a(h,m)))var m=h,g=d}return g}function iC(i){return i&&i.length?My(i,ui,Mm):void 0}function aC(i,u){return i&&i.length?My(i,qt(u),Mm):void 0}function Cm(i,u){for(var a,f=-1,o=i.length;++f<o;){var d=u(i[f]);d!==void 0&&(a=a===void 0?d:a+d)}return a}var uC=NaN;function Sx(i,u){var a=i==null?0:i.length;return a?Cm(i,u)/a:uC}function cC(i){return Sx(i,ui)}function sC(i,u){return Sx(i,qt(u))}var lC=sn(function(i,u){return function(a){return Dp(a,i,u)}});const fC=lC;var pC=sn(function(i,u){return function(a){return Dp(i,a,u)}});const dC=pC;function hC(i){return i&&i.length?My(i,ui,Rm):void 0}function yC(i,u){return i&&i.length?My(i,qt(u),Rm):void 0}function jx(i,u,a){var f=mo(u),o=jy(u,f),d=!(Wa(a)&&"chain"in a)||!!a.chain,h=wl(i);return Ii(o,function(m){var g=u[m];i[m]=g,h&&(i.prototype[m]=function(){var E=this.__chain__;if(d||E){var P=i(this.__wrapped__),j=P.__actions__=ri(this.__actions__);return j.push({func:g,args:arguments,thisArg:i}),P.__chain__=E,P}return g.apply(i,Ap([this.value()],arguments))})}),i}var vC=Oy(function(i,u){return i*u},1);const gC=vC;var bC="Expected a function";function Np(i){if(typeof i!="function")throw new TypeError(bC);return function(){var u=arguments;switch(u.length){case 0:return!i.call(this);case 1:return!i.call(this,u[0]);case 2:return!i.call(this,u[0],u[1]);case 3:return!i.call(this,u[0],u[1],u[2])}return!i.apply(this,u)}}function mC(i){for(var u,a=[];!(u=i.next()).done;)a.push(u.value);return a}var _C="[object Map]",OC="[object Set]",Fb=ry?ry.iterator:void 0;function Px(i){if(!i)return[];if(Du(i))return Ay(i)?Ci(i):ri(i);if(Fb&&i[Fb])return mC(i[Fb]());var u=Mp(i),a=u==_C?ow:u==OC?XA:jl;return a(i)}function wC(){this.__values__===void 0&&(this.__values__=Px(this.value()));var i=this.__index__>=this.__values__.length,u=i?void 0:this.__values__[this.__index__++];return{done:i,value:u}}function Ax(i,u){var a=i.length;if(a)return u+=u<0?a:0,jp(u,a)?i[u]:void 0}function xC(i,u){return i&&i.length?Ax(i,tn(u)):void 0}function EC(i){return i=tn(i),sn(function(u){return Ax(u,i)})}function Mx(i,u){if(i==null)return{};var a=dr(YA(i),function(f){return[f]});return u=qt(u),VA(i,a,function(f,o){return u(f,o[0])})}function SC(i,u){return Mx(i,Np(qt(u)))}function jC(i){return kw(2,i)}function PC(i,u){var a=i.length;for(i.sort(u);a--;)i[a]=i[a].value;return i}function Tx(i,u){if(i!==u){var a=i!==void 0,f=i===null,o=i===i,d=$a(i),h=u!==void 0,m=u===null,g=u===u,E=$a(u);if(!m&&!E&&!d&&i>u||d&&h&&g&&!m&&!E||f&&h&&g||!a&&g||!o)return 1;if(!f&&!d&&!E&&i<u||E&&a&&o&&!f&&!d||m&&a&&o||!h&&o||!g)return-1}return 0}function AC(i,u,a){for(var f=-1,o=i.criteria,d=u.criteria,h=o.length,m=a.length;++f<h;){var g=Tx(o[f],d[f]);if(g){if(f>=m)return g;var E=a[f];return g*(E=="desc"?-1:1)}}return i.index-u.index}function kx(i,u,a){u.length?u=dr(u,function(d){return Tn(d)?function(h){return dm(h,d.length===1?d[0]:d)}:d}):u=[ui];var f=-1;u=dr(u,fa(qt));var o=KA(i,function(d,h,m){var g=dr(u,function(E){return E(d)});return{criteria:g,index:++f,value:d}});return PC(o,function(d,h){return AC(d,h,a)})}function MC(i,u,a,f){return i==null?[]:(Tn(u)||(u=u==null?[]:[u]),a=f?void 0:a,Tn(a)||(a=a==null?[]:[a]),kx(i,u,a))}function Im(i){return Hc(function(u){return u=dr(u,fa(qt)),sn(function(a){var f=this;return i(u,function(o){return oi(o,f,a)})})})}var TC=Im(dr);const kC=TC;var DC=sn,NC=Math.min,RC=DC(function(i,u){u=u.length==1&&Tn(u[0])?dr(u[0],fa(qt)):dr(si(u,1),fa(qt));var a=u.length;return sn(function(f){for(var o=-1,d=NC(f.length,a);++o<d;)f[o]=u[o].call(this,f[o]);return oi(i,this,f)})});const CC=RC;var IC=Im(hx);const LC=IC;var BC=Im(hw);const zC=BC;var FC=9007199254740991,$C=Math.floor;function Vb(i,u){var a="";if(!i||u<1||u>FC)return a;do u%2&&(a+=i),u=$C(u/2),u&&(i+=i);while(u);return a}var WC=yw("length"),Dx="\\ud800-\\udfff",UC="\\u0300-\\u036f",GC="\\ufe20-\\ufe2f",HC="\\u20d0-\\u20ff",XC=UC+GC+HC,YC="\\ufe0e\\ufe0f",VC="["+Dx+"]",Kb="["+XC+"]",qb="\\ud83c[\\udffb-\\udfff]",KC="(?:"+Kb+"|"+qb+")",Nx="[^"+Dx+"]",Rx="(?:\\ud83c[\\udde6-\\uddff]){2}",Cx="[\\ud800-\\udbff][\\udc00-\\udfff]",qC="\\u200d",Ix=KC+"?",Lx="["+YC+"]?",ZC="(?:"+qC+"(?:"+[Nx,Rx,Cx].join("|")+")"+Lx+Ix+")*",JC=Lx+Ix+ZC,QC="(?:"+[Nx+Kb+"?",Kb,Rx,Cx,VC].join("|")+")",lO=RegExp(qb+"(?="+qb+")|"+QC+JC,"g");function eI(i){for(var u=lO.lastIndex=0;lO.test(i);)++u;return u}function Pl(i){return El(i)?eI(i):WC(i)}var tI=Math.ceil;function ay(i,u){u=u===void 0?" ":Ni(u);var a=u.length;if(a<2)return a?Vb(u,i):u;var f=Vb(u,tI(i/Pl(u)));return El(u)?Ru(Ci(f),0,i).join(""):f.slice(0,i)}var nI=Math.ceil,rI=Math.floor;function oI(i,u,a){i=kn(i),u=tn(u);var f=u?Pl(i):0;if(!u||f>=u)return i;var o=(u-f)/2;return ay(rI(o),a)+i+ay(nI(o),a)}function iI(i,u,a){i=kn(i),u=tn(u);var f=u?Pl(i):0;return u&&f<u?i+ay(u-f,a):i}function aI(i,u,a){i=kn(i),u=tn(u);var f=u?Pl(i):0;return u&&f<u?ay(u-f,a)+i:i}var uI=/^\s+/,cI=Gc.parseInt;function sI(i,u,a){return a||u==null?u=0:u&&(u=+u),cI(kn(i).replace(uI,""),u||0)}var lI=32,Lm=sn(function(i,u){var a=ku(u,xl(Lm));return Ha(i,lI,void 0,u,a)});Lm.placeholder={};const Bx=Lm;var fI=64,Bm=sn(function(i,u){var a=ku(u,xl(Bm));return Ha(i,fI,void 0,u,a)});Bm.placeholder={};const pI=Bm;var dI=Ey(function(i,u,a){i[a?0:1].push(u)},function(){return[[],[]]});const hI=dI;function yI(i){for(var u,a=this;a instanceof wy;){var f=Sw(a);f.__index__=0,f.__values__=void 0,u?o.__wrapped__=f:u=f;var o=f;a=a.__wrapped__}return o.__wrapped__=i,u}function vI(i){return function(u){return i==null?void 0:dm(i,u)}}function gI(i,u,a,f){for(var o=a-1,d=i.length;++o<d;)if(f(i[o],u))return o;return-1}var bI=Array.prototype,fO=bI.splice;function zm(i,u,a,f){var o=f?gI:Tp,d=-1,h=u.length,m=i;for(i===u&&(u=ri(u)),a&&(m=dr(i,fa(a)));++d<h;)for(var g=0,E=u[d],P=a?a(E):E;(g=o(m,P,g,f))>-1;)m!==i&&fO.call(m,g,1),fO.call(i,g,1);return i}function zx(i,u){return i&&i.length&&u&&u.length?zm(i,u):i}var mI=sn(zx);const _I=mI;function OI(i,u,a){return i&&i.length&&u&&u.length?zm(i,u,qt(a)):i}function wI(i,u,a){return i&&i.length&&u&&u.length?zm(i,u,void 0,a):i}var xI=Array.prototype,EI=xI.splice;function Fx(i,u){for(var a=i?u.length:0,f=a-1;a--;){var o=u[a];if(a==f||o!==d){var d=o;jp(o)?EI.call(i,o,1):vw(i,o)}}return i}var SI=Hc(function(i,u){var a=i==null?0:i.length,f=bm(i,u);return Fx(i,dr(u,function(o){return jp(o,a)?+o:o}).sort(Tx)),f});const jI=SI;var PI=Math.floor,AI=Math.random;function Fm(i,u){return i+PI(AI()*(u-i+1))}var MI=parseFloat,TI=Math.min,kI=Math.random;function DI(i,u,a){if(a&&typeof a!="boolean"&&bo(i,u,a)&&(u=a=void 0),a===void 0&&(typeof u=="boolean"?(a=u,u=void 0):typeof i=="boolean"&&(a=i,i=void 0)),i===void 0&&u===void 0?(i=0,u=1):(i=Mu(i),u===void 0?(u=i,i=0):u=Mu(u)),i>u){var f=i;i=u,u=f}if(a||i%1||u%1){var o=kI();return TI(i+o*(u-i+MI("1e-"+((o+"").length-1))),u)}return Fm(i,u)}var NI=Math.ceil,RI=Math.max;function CI(i,u,a,f){for(var o=-1,d=RI(NI((u-i)/(a||1)),0),h=Array(d);d--;)h[f?d:++o]=i,i+=a;return h}function $x(i){return function(u,a,f){return f&&typeof f!="number"&&bo(u,a,f)&&(a=f=void 0),u=Mu(u),a===void 0?(a=u,u=0):a=Mu(a),f=f===void 0?u<a?1:-1:Mu(f),CI(u,a,f,i)}}var II=$x();const LI=II;var BI=$x(!0);const zI=BI;var FI=256,$I=Hc(function(i,u){return Ha(i,FI,void 0,void 0,void 0,u)});const WI=$I;function Wx(i,u,a,f,o){return o(i,function(d,h,m){a=f?(f=!1,d):u(a,d,h,m)}),a}function UI(i,u,a){var f=Tn(i)?xm:Wx,o=arguments.length<3;return f(i,qt(u),a,o,Xc)}function GI(i,u,a,f){var o=i==null?0:i.length;for(f&&o&&(a=i[--o]);o--;)a=u(a,i[o],o,i);return a}function HI(i,u,a){var f=Tn(i)?GI:Wx,o=arguments.length<3;return f(i,qt(u),a,o,sx)}function XI(i,u){var a=Tn(i)?Yc:vx;return a(i,Np(qt(u)))}function YI(i,u){var a=[];if(!(i&&i.length))return a;var f=-1,o=[],d=i.length;for(u=qt(u);++f<d;){var h=i[f];u(h,f,i)&&(a.push(h),o.push(f))}return Fx(i,o),a}function VI(i,u,a){return(a?bo(i,u,a):u===void 0)?u=1:u=tn(u),Vb(kn(i),u)}function KI(){var i=arguments,u=kn(i[0]);return i.length<3?u:u.replace(i[1],i[2])}var qI="Expected a function";function ZI(i,u){if(typeof i!="function")throw new TypeError(qI);return u=u===void 0?u:tn(u),sn(i,u)}function JI(i,u,a){u=cw(u,i);var f=-1,o=u.length;for(o||(o=1,i=void 0);++f<o;){var d=i==null?void 0:i[my(u[f])];d===void 0&&(f=o,d=a),i=wl(d)?d.call(i):d}return i}var QI=Array.prototype,e3=QI.reverse;function Zb(i){return i==null?i:e3.call(i)}var t3=Sm("round");const n3=t3;function Ux(i){var u=i.length;return u?i[Fm(0,u-1)]:void 0}function r3(i){return Ux(jl(i))}function o3(i){var u=Tn(i)?Ux:r3;return u(i)}function Ty(i,u){var a=-1,f=i.length,o=f-1;for(u=u===void 0?f:u;++a<u;){var d=Fm(a,o),h=i[d];i[d]=i[a],i[a]=h}return i.length=u,i}function i3(i,u){return Ty(ri(i),Vc(u,0,i.length))}function a3(i,u){var a=jl(i);return Ty(a,Vc(u,0,a.length))}function u3(i,u,a){(a?bo(i,u,a):u===void 0)?u=1:u=tn(u);var f=Tn(i)?i3:a3;return f(i,u)}function c3(i,u,a,f){return f=typeof f=="function"?f:void 0,i==null?i:hm(i,u,a,f)}function s3(i){return Ty(ri(i))}function l3(i){return Ty(jl(i))}function f3(i){var u=Tn(i)?s3:l3;return u(i)}var p3="[object Map]",d3="[object Set]";function h3(i){if(i==null)return 0;if(Du(i))return Ay(i)?Pl(i):i.length;var u=Mp(i);return u==p3||u==d3?i.size:lw(i).length}function y3(i,u,a){var f=i==null?0:i.length;return f?(a&&typeof a!="number"&&bo(i,u,a)?(u=0,a=f):(u=u==null?0:tn(u),a=a===void 0?f:tn(a)),Ri(i,u,a)):[]}var v3=Sl(function(i,u,a){return i+(a?"_":"")+u.toLowerCase()});const g3=v3;function b3(i,u){var a;return Xc(i,function(f,o,d){return a=u(f,o,d),!a}),!!a}function m3(i,u,a){var f=Tn(i)?hw:b3;return a&&bo(i,u,a)&&(u=void 0),f(i,qt(u))}var _3=sn(function(i,u){if(i==null)return[];var a=u.length;return a>1&&bo(i,u[0],u[1])?u=[]:a>2&&bo(u[0],u[1],u[2])&&(u=[u[0]]),kx(i,si(u,1),[])});const O3=_3;var w3=4294967295,x3=w3-1,E3=Math.floor,S3=Math.min;function $m(i,u,a,f){var o=0,d=i==null?0:i.length;if(d===0)return 0;u=a(u);for(var h=u!==u,m=u===null,g=$a(u),E=u===void 0;o<d;){var P=E3((o+d)/2),j=a(i[P]),k=j!==void 0,T=j===null,C=j===j,N=$a(j);if(h)var I=f||C;else E?I=C&&(f||k):m?I=C&&k&&(f||!T):g?I=C&&k&&!T&&(f||!N):T||N?I=!1:I=f?j<=u:j<u;I?o=P+1:d=P}return S3(d,x3)}var j3=4294967295,P3=j3>>>1;function ky(i,u,a){var f=0,o=i==null?f:i.length;if(typeof u=="number"&&u===u&&o<=P3){for(;f<o;){var d=f+o>>>1,h=i[d];h!==null&&!$a(h)&&(a?h<=u:h<u)?f=d+1:o=d}return o}return $m(i,u,ui,a)}function A3(i,u){return ky(i,u)}function M3(i,u,a){return $m(i,u,qt(a))}function T3(i,u){var a=i==null?0:i.length;if(a){var f=ky(i,u);if(f<a&&Ol(i[f],u))return f}return-1}function k3(i,u){return ky(i,u,!0)}function D3(i,u,a){return $m(i,u,qt(a),!0)}function N3(i,u){var a=i==null?0:i.length;if(a){var f=ky(i,u,!0)-1;if(Ol(i[f],u))return f}return-1}function Gx(i,u){for(var a=-1,f=i.length,o=0,d=[];++a<f;){var h=i[a],m=u?u(h):h;if(!a||!Ol(m,g)){var g=m;d[o++]=h===0?0:h}}return d}function R3(i){return i&&i.length?Gx(i):[]}function C3(i,u){return i&&i.length?Gx(i,qt(u)):[]}var I3=4294967295;function L3(i,u,a){return a&&typeof a!="number"&&bo(i,u,a)&&(u=a=void 0),a=a===void 0?I3:a>>>0,a?(i=kn(i),i&&(typeof u=="string"||u!=null&&!Nm(u))&&(u=Ni(u),!u&&El(i))?Ru(Ci(i),0,a):i.split(u,a)):[]}var B3="Expected a function",z3=Math.max;function F3(i,u){if(typeof i!="function")throw new TypeError(B3);return u=u==null?0:z3(tn(u),0),sn(function(a){var f=a[u],o=Ru(a,0,u);return f&&Ap(o,f),oi(i,this,o)})}var $3=Sl(function(i,u,a){return i+(a?" ":"")+wm(u)});const W3=$3;function U3(i,u,a){return i=kn(i),a=a==null?0:Vc(tn(a),0,i.length),u=Ni(u),i.slice(a,a+u.length)==u}function G3(){return{}}function H3(){return""}function X3(){return!0}var Y3=Oy(function(i,u){return i-u},0);const V3=Y3;function K3(i){return i&&i.length?Cm(i,ui):0}function q3(i,u){return i&&i.length?Cm(i,qt(u)):0}function Z3(i){var u=i==null?0:i.length;return u?Ri(i,1,u):[]}function J3(i,u,a){return i&&i.length?(u=a||u===void 0?1:tn(u),Ri(i,0,u<0?0:u)):[]}function Q3(i,u,a){var f=i==null?0:i.length;return f?(u=a||u===void 0?1:tn(u),u=f-u,Ri(i,u<0?0:u,f)):[]}function eL(i,u){return i&&i.length?Sy(i,qt(u),!1,!0):[]}function tL(i,u){return i&&i.length?Sy(i,qt(u)):[]}function nL(i,u){return u(i),i}var Hx=Object.prototype,rL=Hx.hasOwnProperty;function pO(i,u,a,f){return i===void 0||Ol(i,Hx[a])&&!rL.call(f,a)?u:i}var oL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function iL(i){return"\\"+oL[i]}var aL=/<%=([\s\S]+?)%>/g;const Xx=aL;var uL=/<%-([\s\S]+?)%>/g;const cL=uL;var sL=/<%([\s\S]+?)%>/g;const lL=sL;var fL={escape:cL,evaluate:lL,interpolate:Xx,variable:"",imports:{_:{escape:px}}};const Jb=fL;var pL="Invalid `variable` option passed into `_.template`",dL=/\b__p \+= '';/g,hL=/\b(__p \+=) '' \+/g,yL=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vL=/[()=,{}\[\]\/\s]/,gL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kh=/($^)/,bL=/['\n\r\u2028\u2029\\]/g,mL=Object.prototype,dO=mL.hasOwnProperty;function _L(i,u,a){var f=Jb.imports._.templateSettings||Jb;a&&bo(i,u,a)&&(u=void 0),i=kn(i),u=iy({},u,f,pO);var o=iy({},u.imports,f.imports,pO),d=mo(o),h=Tm(o,d),m,g,E=0,P=u.interpolate||Kh,j="__p += '",k=RegExp((u.escape||Kh).source+"|"+P.source+"|"+(P===Xx?gL:Kh).source+"|"+(u.evaluate||Kh).source+"|$","g"),T=dO.call(u,"sourceURL")?"//# sourceURL="+(u.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(k,function(I,U,G,te,ae,ie){return G||(G=te),j+=i.slice(E,ie).replace(bL,iL),U&&(m=!0,j+=`' +
__e(`+U+`) +
'`),ae&&(g=!0,j+=`';
`+ae+`;
__p += '`),G&&(j+=`' +
((__t = (`+G+`)) == null ? '' : __t) +
'`),E=ie+I.length,I}),j+=`';
`;var C=dO.call(u,"variable")&&u.variable;if(!C)j=`with (obj) {
`+j+`
}
`;else if(vL.test(C))throw new Error(pL);j=(g?j.replace(dL,""):j).replace(hL,"$1").replace(yL,"$1;"),j="function("+(C||"obj")+`) {
`+(C?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var N=Tw(function(){return Function(d,T+"return "+j).apply(void 0,h)});if(N.source=j,mm(N))throw N;return N}function Rp(i,u){return u(i)}var OL=9007199254740991,$b=4294967295,wL=Math.min;function xL(i,u){if(i=tn(i),i<1||i>OL)return[];var a=$b,f=wL(i,$b);u=da(u),i-=$b;for(var o=gw(f,u);++a<i;)u(a);return o}function EL(){return this}function Yx(i,u){var a=i;return a instanceof pn&&(a=a.value()),xm(u,function(f,o){return o.func.apply(o.thisArg,Ap([f],o.args))},a)}function Wb(){return Yx(this.__wrapped__,this.__actions__)}function SL(i){return kn(i).toLowerCase()}function jL(i){return Tn(i)?dr(i,my):$a(i)?[i]:ri(qA(kn(i)))}var hO=9007199254740991;function PL(i){return i?Vc(tn(i),-hO,hO):i===0?i:0}function AL(i){return kn(i).toUpperCase()}function ML(i,u,a){var f=Tn(i),o=f||fm(i)||pm(i);if(u=qt(u),a==null){var d=i&&i.constructor;o?a=f?new d:[]:Wa(i)?a=wl(d)?Sp(ZA(i)):{}:a={}}return(o?Ii:Ga)(i,function(h,m,g){return u(a,h,m,g)}),a}function Vx(i,u){for(var a=i.length;a--&&Tp(u,i[a],0)>-1;);return a}function Kx(i,u){for(var a=-1,f=i.length;++a<f&&Tp(u,i[a],0)>-1;);return a}function TL(i,u,a){if(i=kn(i),i&&(a||u===void 0))return JA(i);if(!i||!(u=Ni(u)))return i;var f=Ci(i),o=Ci(u),d=Kx(f,o),h=Vx(f,o)+1;return Ru(f,d,h).join("")}function kL(i,u,a){if(i=kn(i),i&&(a||u===void 0))return i.slice(0,QA(i)+1);if(!i||!(u=Ni(u)))return i;var f=Ci(i),o=Vx(f,Ci(u))+1;return Ru(f,0,o).join("")}var DL=/^\s+/;function NL(i,u,a){if(i=kn(i),i&&(a||u===void 0))return i.replace(DL,"");if(!i||!(u=Ni(u)))return i;var f=Ci(i),o=Kx(f,Ci(u));return Ru(f,o).join("")}var RL=30,CL="...",IL=/\w*$/;function LL(i,u){var a=RL,f=CL;if(Wa(u)){var o="separator"in u?u.separator:o;a="length"in u?tn(u.length):a,f="omission"in u?Ni(u.omission):f}i=kn(i);var d=i.length;if(El(i)){var h=Ci(i);d=h.length}if(a>=d)return i;var m=a-Pl(f);if(m<1)return f;var g=h?Ru(h,0,m).join(""):i.slice(0,m);if(o===void 0)return g+f;if(h&&(m+=g.length-m),Nm(o)){if(i.slice(m).search(o)){var E,P=g;for(o.global||(o=RegExp(o.source,kn(IL.exec(o))+"g")),o.lastIndex=0;E=o.exec(P);)var j=E.index;g=g.slice(0,j===void 0?m:j)}}else if(i.indexOf(Ni(o),m)!=m){var k=g.lastIndexOf(o);k>-1&&(g=g.slice(0,k))}return g+f}function BL(i){return Mw(i,1)}var zL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},FL=Em(zL);const $L=FL;var qx=/&(?:amp|lt|gt|quot|#39);/g,WL=RegExp(qx.source);function UL(i){return i=kn(i),i&&WL.test(i)?i.replace(qx,$L):i}var GL=sn(function(i){var u=ii(i);return wr(u)&&(u=void 0),Wc(si(i,1,wr,!0),qt(u))});const HL=GL;var XL=sn(function(i){var u=ii(i);return u=typeof u=="function"?u:void 0,Wc(si(i,1,wr,!0),void 0,u)});const YL=XL;function VL(i){return i&&i.length?Wc(i):[]}function KL(i,u){return i&&i.length?Wc(i,qt(u)):[]}function qL(i,u){return u=typeof u=="function"?u:void 0,i&&i.length?Wc(i,void 0,u):[]}var ZL=0;function JL(i){var u=++ZL;return kn(i)+u}function QL(i,u){return i==null?!0:vw(i,u)}var e4=Math.max;function Wm(i){if(!(i&&i.length))return[];var u=0;return i=Yc(i,function(a){if(wr(a))return u=e4(a.length,u),!0}),gw(u,function(a){return dr(i,yw(a))})}function Zx(i,u){if(!(i&&i.length))return[];var a=Wm(i);return u==null?a:dr(a,function(f){return oi(u,void 0,f)})}function Jx(i,u,a,f){return hm(i,u,a(dm(i,u)),f)}function t4(i,u,a){return i==null?i:Jx(i,u,da(a))}function n4(i,u,a,f){return f=typeof f=="function"?f:void 0,i==null?i:Jx(i,u,da(a),f)}var r4=Sl(function(i,u,a){return i+(a?" ":"")+u.toUpperCase()});const o4=r4;function i4(i){return i==null?[]:Tm(i,Ua(i))}var a4=sn(function(i,u){return wr(i)?kp(i,u):[]});const u4=a4;function c4(i,u){return Bx(da(u),i)}var s4=Hc(function(i){var u=i.length,a=u?i[0]:0,f=this.__wrapped__,o=function(d){return bm(d,i)};return u>1||this.__actions__.length||!(f instanceof pn)||!jp(a)?this.thru(o):(f=f.slice(a,+a+(u?1:0)),f.__actions__.push({func:Rp,args:[o],thisArg:void 0}),new ai(f,this.__chain__).thru(function(d){return u&&!d.length&&d.push(void 0),d}))});const l4=s4;function f4(){return nx(this)}function p4(){var i=this.__wrapped__;if(i instanceof pn){var u=i;return this.__actions__.length&&(u=new pn(this)),u=u.reverse(),u.__actions__.push({func:Rp,args:[Zb],thisArg:void 0}),new ai(u,this.__chain__)}return this.thru(Zb)}function Um(i,u,a){var f=i.length;if(f<2)return f?Wc(i[0]):[];for(var o=-1,d=Array(f);++o<f;)for(var h=i[o],m=-1;++m<f;)m!=o&&(d[o]=kp(d[o]||h,i[m],u,a));return Wc(si(d,1),u,a)}var d4=sn(function(i){return Um(Yc(i,wr))});const h4=d4;var y4=sn(function(i){var u=ii(i);return wr(u)&&(u=void 0),Um(Yc(i,wr),qt(u))});const v4=y4;var g4=sn(function(i){var u=ii(i);return u=typeof u=="function"?u:void 0,Um(Yc(i,wr),void 0,u)});const b4=g4;var m4=sn(Wm);const _4=m4;function Qx(i,u,a){for(var f=-1,o=i.length,d=u.length,h={};++f<o;){var m=f<d?u[f]:void 0;a(h,i[f],m)}return h}function O4(i,u){return Qx(i||[],u||[],QO)}function w4(i,u){return Qx(i||[],u||[],hm)}var x4=sn(function(i){var u=i.length,a=u>1?i[u-1]:void 0;return a=typeof a=="function"?(i.pop(),a):void 0,Zx(i,a)});const E4=x4,yt={chunk:vk,compact:Ek,concat:Sk,difference:tD,differenceBy:rD,differenceWith:iD,drop:cD,dropRight:sD,dropRightWhile:lD,dropWhile:fD,fill:kD,findIndex:bx,findLastIndex:aw,first:iO,flatten:e2,flattenDeep:t2,flattenDepth:UD,fromPairs:n2,head:iO,indexOf:MN,initial:TN,intersection:NN,intersectionBy:CN,intersectionWith:LN,join:IR,last:ii,lastIndexOf:GR,nth:xC,pull:_I,pullAll:zx,pullAllBy:OI,pullAllWith:wI,pullAt:jI,remove:YI,reverse:Zb,slice:y3,sortedIndex:A3,sortedIndexBy:M3,sortedIndexOf:T3,sortedLastIndex:k3,sortedLastIndexBy:D3,sortedLastIndexOf:N3,sortedUniq:R3,sortedUniqBy:C3,tail:Z3,take:J3,takeRight:Q3,takeRightWhile:eL,takeWhile:tL,union:r2,unionBy:HL,unionWith:YL,uniq:VL,uniqBy:KL,uniqWith:qL,unzip:Wm,unzipWith:Zx,without:u4,xor:h4,xorBy:v4,xorWith:b4,zip:_4,zipObject:O4,zipObjectDeep:w4,zipWith:E4},Nn={countBy:Lk,each:tO,eachRight:nO,every:AD,filter:DD,find:CD,findLast:BD,flatMap:o2,flatMapDeep:$D,flatMapDepth:WD,forEach:tO,forEachRight:nO,groupBy:pN,includes:PN,invokeMap:qN,keyBy:FR,map:lm,orderBy:MC,partition:hI,reduce:UI,reduceRight:HI,reject:XI,sample:o3,sampleSize:u3,shuffle:f3,size:h3,some:m3,sortBy:O3},S4={now:i2},cr={after:L2,ary:Mw,before:kw,bind:Dw,bindKey:QM,curry:jm,curryRight:Pm,debounce:a2,defer:qk,delay:Jk,flip:HD,memoize:u2,negate:Np,once:jC,overArgs:CC,partial:Bx,partialRight:pI,rearg:WI,rest:ZI,spread:F3,throttle:c2,unary:BL,wrap:c4},Nt={castArray:s2,clone:l2,cloneDeep:f2,cloneDeepWith:_k,cloneWith:wk,conformsTo:kk,eq:Ol,gt:hN,gte:vN,isArguments:sw,isArray:Tn,isArrayBuffer:eR,isArrayLike:Du,isArrayLikeObject:wr,isBoolean:nR,isBuffer:fm,isDate:aR,isElement:uR,isEmpty:pR,isEqual:p2,isEqualWith:dR,isError:mm,isFinite:yR,isFunction:wl,isInteger:xx,isLength:d2,isMap:h2,isMatch:vR,isMatchWith:gR,isNaN:mR,isNative:wR,isNil:y2,isNull:xR,isNumber:Ex,isObject:Wa,isObjectLike:ci,isPlainObject:sm,isRegExp:Nm,isSafeInteger:PR,isSet:v2,isString:Ay,isSymbol:$a,isTypedArray:pm,isUndefined:g2,isWeakMap:MR,isWeakSet:kR,lt:qR,lte:JR,toArray:Px,toFinite:Mu,toInteger:tn,toLength:yx,toNumber:Fa,toPlainObject:b2,toSafeInteger:PL,toString:kn},io={add:C2,ceil:dk,divide:uD,floor:YD,max:iC,maxBy:aC,mean:cC,meanBy:sC,min:hC,minBy:yC,multiply:gC,round:n3,subtract:V3,sum:K3,sumBy:q3},Gm={clamp:gk,inRange:EN,random:DI},Ht={assign:CM,assignIn:q1,assignInWith:iy,assignWith:zM,at:$M,create:Bk,defaults:Gk,defaultsDeep:Yk,entries:rO,entriesIn:oO,extend:q1,extendWith:iy,findKey:ID,findLastKey:zD,forIn:rN,forInRight:oN,forOwn:iN,forOwnRight:aN,functions:uN,functionsIn:cN,get:ew,has:_N,hasIn:m2,invert:WN,invertBy:XN,invoke:VN,keys:mo,keysIn:Ua,mapKeys:QR,mapValues:eC,merge:_2,mergeWith:ax,omit:O2,omitBy:SC,pick:w2,pickBy:Mx,result:JI,set:x2,setWith:c3,toPairs:rO,toPairsIn:oO,transform:ML,unset:QL,update:t4,updateWith:n4,values:jl,valuesIn:i4},ha={at:l4,chain:nx,commit:xk,lodash:$,next:wC,plant:yI,reverse:p4,tap:nL,thru:Rp,toIterator:EL,toJSON:Wb,value:Wb,valueOf:Wb,wrapperChain:f4},Sn={camelCase:sk,capitalize:Fw,deburr:$w,endsWith:hD,escape:px,escapeRegExp:jD,kebabCase:BR,lowerCase:XR,lowerFirst:VR,pad:oI,padEnd:iI,padStart:aI,parseInt:sI,repeat:VI,replace:KI,snakeCase:g3,split:L3,startCase:W3,startsWith:U3,template:_L,templateSettings:Jb,toLower:SL,toUpper:AL,trim:TL,trimEnd:kL,trimStart:NL,truncate:LL,unescape:UL,upperCase:o4,upperFirst:wm,words:tx},jn={attempt:Tw,bindAll:KM,cond:Pk,conforms:Tk,constant:uw,defaultTo:$k,flow:eN,flowRight:nN,identity:ui,iteratee:NR,matches:nC,matchesProperty:oC,method:fC,methodOf:dC,mixin:jx,noop:ZO,nthArg:EC,over:kC,overEvery:LC,overSome:zC,property:E2,propertyOf:vI,range:LI,rangeRight:zI,stubArray:S2,stubFalse:dw,stubObject:G3,stubString:H3,stubTrue:X3,times:xL,toPath:jL,uniqueId:JL};function j4(){var i=new pn(this.__wrapped__);return i.__actions__=ri(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ri(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ri(this.__views__),i}function P4(){if(this.__filtered__){var i=new pn(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}var A4=Math.max,M4=Math.min;function T4(i,u,a){for(var f=-1,o=a.length;++f<o;){var d=a[f],h=d.size;switch(d.type){case"drop":i+=h;break;case"dropRight":u-=h;break;case"take":u=M4(u,i+h);break;case"takeRight":i=A4(i,u-h);break}}return{start:i,end:u}}var k4=1,D4=2,N4=Math.min;function R4(){var i=this.__wrapped__.value(),u=this.__dir__,a=Tn(i),f=u<0,o=a?i.length:0,d=T4(0,o,this.__views__),h=d.start,m=d.end,g=m-h,E=f?m:h-1,P=this.__iteratees__,j=P.length,k=0,T=N4(g,this.__takeCount__);if(!a||!f&&o==g&&T==g)return Yx(i,this.__actions__);var C=[];e:for(;g--&&k<T;){E+=u;for(var N=-1,I=i[E];++N<j;){var U=P[N],G=U.iteratee,te=U.type,ae=G(I);if(te==D4)I=ae;else if(!ae){if(te==k4)continue e;break e}}C[k++]=I}return C}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var C4="4.17.21",I4=2,L4=1,B4=3,eE=4294967295,z4=Array.prototype,F4=Object.prototype,tE=F4.hasOwnProperty,yO=ry?ry.iterator:void 0,$4=Math.max,vO=Math.min,Hm=function(i){return function(u,a,f){if(f==null){var o=Wa(a),d=o&&mo(a),h=d&&d.length&&jy(a,d);(h?h.length:o)||(f=a,a=u,u=this)}return i(u,a,f)}}(jx);$.after=cr.after;$.ary=cr.ary;$.assign=Ht.assign;$.assignIn=Ht.assignIn;$.assignInWith=Ht.assignInWith;$.assignWith=Ht.assignWith;$.at=Ht.at;$.before=cr.before;$.bind=cr.bind;$.bindAll=jn.bindAll;$.bindKey=cr.bindKey;$.castArray=Nt.castArray;$.chain=ha.chain;$.chunk=yt.chunk;$.compact=yt.compact;$.concat=yt.concat;$.cond=jn.cond;$.conforms=jn.conforms;$.constant=jn.constant;$.countBy=Nn.countBy;$.create=Ht.create;$.curry=cr.curry;$.curryRight=cr.curryRight;$.debounce=cr.debounce;$.defaults=Ht.defaults;$.defaultsDeep=Ht.defaultsDeep;$.defer=cr.defer;$.delay=cr.delay;$.difference=yt.difference;$.differenceBy=yt.differenceBy;$.differenceWith=yt.differenceWith;$.drop=yt.drop;$.dropRight=yt.dropRight;$.dropRightWhile=yt.dropRightWhile;$.dropWhile=yt.dropWhile;$.fill=yt.fill;$.filter=Nn.filter;$.flatMap=Nn.flatMap;$.flatMapDeep=Nn.flatMapDeep;$.flatMapDepth=Nn.flatMapDepth;$.flatten=yt.flatten;$.flattenDeep=yt.flattenDeep;$.flattenDepth=yt.flattenDepth;$.flip=cr.flip;$.flow=jn.flow;$.flowRight=jn.flowRight;$.fromPairs=yt.fromPairs;$.functions=Ht.functions;$.functionsIn=Ht.functionsIn;$.groupBy=Nn.groupBy;$.initial=yt.initial;$.intersection=yt.intersection;$.intersectionBy=yt.intersectionBy;$.intersectionWith=yt.intersectionWith;$.invert=Ht.invert;$.invertBy=Ht.invertBy;$.invokeMap=Nn.invokeMap;$.iteratee=jn.iteratee;$.keyBy=Nn.keyBy;$.keys=mo;$.keysIn=Ht.keysIn;$.map=Nn.map;$.mapKeys=Ht.mapKeys;$.mapValues=Ht.mapValues;$.matches=jn.matches;$.matchesProperty=jn.matchesProperty;$.memoize=cr.memoize;$.merge=Ht.merge;$.mergeWith=Ht.mergeWith;$.method=jn.method;$.methodOf=jn.methodOf;$.mixin=Hm;$.negate=Np;$.nthArg=jn.nthArg;$.omit=Ht.omit;$.omitBy=Ht.omitBy;$.once=cr.once;$.orderBy=Nn.orderBy;$.over=jn.over;$.overArgs=cr.overArgs;$.overEvery=jn.overEvery;$.overSome=jn.overSome;$.partial=cr.partial;$.partialRight=cr.partialRight;$.partition=Nn.partition;$.pick=Ht.pick;$.pickBy=Ht.pickBy;$.property=jn.property;$.propertyOf=jn.propertyOf;$.pull=yt.pull;$.pullAll=yt.pullAll;$.pullAllBy=yt.pullAllBy;$.pullAllWith=yt.pullAllWith;$.pullAt=yt.pullAt;$.range=jn.range;$.rangeRight=jn.rangeRight;$.rearg=cr.rearg;$.reject=Nn.reject;$.remove=yt.remove;$.rest=cr.rest;$.reverse=yt.reverse;$.sampleSize=Nn.sampleSize;$.set=Ht.set;$.setWith=Ht.setWith;$.shuffle=Nn.shuffle;$.slice=yt.slice;$.sortBy=Nn.sortBy;$.sortedUniq=yt.sortedUniq;$.sortedUniqBy=yt.sortedUniqBy;$.split=Sn.split;$.spread=cr.spread;$.tail=yt.tail;$.take=yt.take;$.takeRight=yt.takeRight;$.takeRightWhile=yt.takeRightWhile;$.takeWhile=yt.takeWhile;$.tap=ha.tap;$.throttle=cr.throttle;$.thru=Rp;$.toArray=Nt.toArray;$.toPairs=Ht.toPairs;$.toPairsIn=Ht.toPairsIn;$.toPath=jn.toPath;$.toPlainObject=Nt.toPlainObject;$.transform=Ht.transform;$.unary=cr.unary;$.union=yt.union;$.unionBy=yt.unionBy;$.unionWith=yt.unionWith;$.uniq=yt.uniq;$.uniqBy=yt.uniqBy;$.uniqWith=yt.uniqWith;$.unset=Ht.unset;$.unzip=yt.unzip;$.unzipWith=yt.unzipWith;$.update=Ht.update;$.updateWith=Ht.updateWith;$.values=Ht.values;$.valuesIn=Ht.valuesIn;$.without=yt.without;$.words=Sn.words;$.wrap=cr.wrap;$.xor=yt.xor;$.xorBy=yt.xorBy;$.xorWith=yt.xorWith;$.zip=yt.zip;$.zipObject=yt.zipObject;$.zipObjectDeep=yt.zipObjectDeep;$.zipWith=yt.zipWith;$.entries=Ht.toPairs;$.entriesIn=Ht.toPairsIn;$.extend=Ht.assignIn;$.extendWith=Ht.assignInWith;Hm($,$);$.add=io.add;$.attempt=jn.attempt;$.camelCase=Sn.camelCase;$.capitalize=Sn.capitalize;$.ceil=io.ceil;$.clamp=Gm.clamp;$.clone=Nt.clone;$.cloneDeep=Nt.cloneDeep;$.cloneDeepWith=Nt.cloneDeepWith;$.cloneWith=Nt.cloneWith;$.conformsTo=Nt.conformsTo;$.deburr=Sn.deburr;$.defaultTo=jn.defaultTo;$.divide=io.divide;$.endsWith=Sn.endsWith;$.eq=Nt.eq;$.escape=Sn.escape;$.escapeRegExp=Sn.escapeRegExp;$.every=Nn.every;$.find=Nn.find;$.findIndex=yt.findIndex;$.findKey=Ht.findKey;$.findLast=Nn.findLast;$.findLastIndex=yt.findLastIndex;$.findLastKey=Ht.findLastKey;$.floor=io.floor;$.forEach=Nn.forEach;$.forEachRight=Nn.forEachRight;$.forIn=Ht.forIn;$.forInRight=Ht.forInRight;$.forOwn=Ht.forOwn;$.forOwnRight=Ht.forOwnRight;$.get=Ht.get;$.gt=Nt.gt;$.gte=Nt.gte;$.has=Ht.has;$.hasIn=Ht.hasIn;$.head=yt.head;$.identity=ui;$.includes=Nn.includes;$.indexOf=yt.indexOf;$.inRange=Gm.inRange;$.invoke=Ht.invoke;$.isArguments=Nt.isArguments;$.isArray=Tn;$.isArrayBuffer=Nt.isArrayBuffer;$.isArrayLike=Nt.isArrayLike;$.isArrayLikeObject=Nt.isArrayLikeObject;$.isBoolean=Nt.isBoolean;$.isBuffer=Nt.isBuffer;$.isDate=Nt.isDate;$.isElement=Nt.isElement;$.isEmpty=Nt.isEmpty;$.isEqual=Nt.isEqual;$.isEqualWith=Nt.isEqualWith;$.isError=Nt.isError;$.isFinite=Nt.isFinite;$.isFunction=Nt.isFunction;$.isInteger=Nt.isInteger;$.isLength=Nt.isLength;$.isMap=Nt.isMap;$.isMatch=Nt.isMatch;$.isMatchWith=Nt.isMatchWith;$.isNaN=Nt.isNaN;$.isNative=Nt.isNative;$.isNil=Nt.isNil;$.isNull=Nt.isNull;$.isNumber=Nt.isNumber;$.isObject=Wa;$.isObjectLike=Nt.isObjectLike;$.isPlainObject=Nt.isPlainObject;$.isRegExp=Nt.isRegExp;$.isSafeInteger=Nt.isSafeInteger;$.isSet=Nt.isSet;$.isString=Nt.isString;$.isSymbol=Nt.isSymbol;$.isTypedArray=Nt.isTypedArray;$.isUndefined=Nt.isUndefined;$.isWeakMap=Nt.isWeakMap;$.isWeakSet=Nt.isWeakSet;$.join=yt.join;$.kebabCase=Sn.kebabCase;$.last=ii;$.lastIndexOf=yt.lastIndexOf;$.lowerCase=Sn.lowerCase;$.lowerFirst=Sn.lowerFirst;$.lt=Nt.lt;$.lte=Nt.lte;$.max=io.max;$.maxBy=io.maxBy;$.mean=io.mean;$.meanBy=io.meanBy;$.min=io.min;$.minBy=io.minBy;$.stubArray=jn.stubArray;$.stubFalse=jn.stubFalse;$.stubObject=jn.stubObject;$.stubString=jn.stubString;$.stubTrue=jn.stubTrue;$.multiply=io.multiply;$.nth=yt.nth;$.noop=jn.noop;$.now=S4.now;$.pad=Sn.pad;$.padEnd=Sn.padEnd;$.padStart=Sn.padStart;$.parseInt=Sn.parseInt;$.random=Gm.random;$.reduce=Nn.reduce;$.reduceRight=Nn.reduceRight;$.repeat=Sn.repeat;$.replace=Sn.replace;$.result=Ht.result;$.round=io.round;$.sample=Nn.sample;$.size=Nn.size;$.snakeCase=Sn.snakeCase;$.some=Nn.some;$.sortedIndex=yt.sortedIndex;$.sortedIndexBy=yt.sortedIndexBy;$.sortedIndexOf=yt.sortedIndexOf;$.sortedLastIndex=yt.sortedLastIndex;$.sortedLastIndexBy=yt.sortedLastIndexBy;$.sortedLastIndexOf=yt.sortedLastIndexOf;$.startCase=Sn.startCase;$.startsWith=Sn.startsWith;$.subtract=io.subtract;$.sum=io.sum;$.sumBy=io.sumBy;$.template=Sn.template;$.times=jn.times;$.toFinite=Nt.toFinite;$.toInteger=tn;$.toLength=Nt.toLength;$.toLower=Sn.toLower;$.toNumber=Nt.toNumber;$.toSafeInteger=Nt.toSafeInteger;$.toString=Nt.toString;$.toUpper=Sn.toUpper;$.trim=Sn.trim;$.trimEnd=Sn.trimEnd;$.trimStart=Sn.trimStart;$.truncate=Sn.truncate;$.unescape=Sn.unescape;$.uniqueId=jn.uniqueId;$.upperCase=Sn.upperCase;$.upperFirst=Sn.upperFirst;$.each=Nn.forEach;$.eachRight=Nn.forEachRight;$.first=yt.head;Hm($,function(){var i={};return Ga($,function(u,a){tE.call($.prototype,a)||(i[a]=u)}),i}(),{chain:!1});$.VERSION=C4;($.templateSettings=Sn.templateSettings).imports._=$;Ii(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){$[i].placeholder=$});Ii(["drop","take"],function(i,u){pn.prototype[i]=function(a){a=a===void 0?1:$4(tn(a),0);var f=this.__filtered__&&!u?new pn(this):this.clone();return f.__filtered__?f.__takeCount__=vO(a,f.__takeCount__):f.__views__.push({size:vO(a,eE),type:i+(f.__dir__<0?"Right":"")}),f},pn.prototype[i+"Right"]=function(a){return this.reverse()[i](a).reverse()}});Ii(["filter","map","takeWhile"],function(i,u){var a=u+1,f=a==L4||a==B4;pn.prototype[i]=function(o){var d=this.clone();return d.__iteratees__.push({iteratee:qt(o),type:a}),d.__filtered__=d.__filtered__||f,d}});Ii(["head","last"],function(i,u){var a="take"+(u?"Right":"");pn.prototype[i]=function(){return this[a](1).value()[0]}});Ii(["initial","tail"],function(i,u){var a="drop"+(u?"":"Right");pn.prototype[i]=function(){return this.__filtered__?new pn(this):this[a](1)}});pn.prototype.compact=function(){return this.filter(ui)};pn.prototype.find=function(i){return this.filter(i).head()};pn.prototype.findLast=function(i){return this.reverse().find(i)};pn.prototype.invokeMap=sn(function(i,u){return typeof i=="function"?new pn(this):this.map(function(a){return Dp(a,i,u)})});pn.prototype.reject=function(i){return this.filter(Np(qt(i)))};pn.prototype.slice=function(i,u){i=tn(i);var a=this;return a.__filtered__&&(i>0||u<0)?new pn(a):(i<0?a=a.takeRight(-i):i&&(a=a.drop(i)),u!==void 0&&(u=tn(u),a=u<0?a.dropRight(-u):a.take(u-i)),a)};pn.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()};pn.prototype.toArray=function(){return this.take(eE)};Ga(pn.prototype,function(i,u){var a=/^(?:filter|find|map|reject)|While$/.test(u),f=/^(?:head|last)$/.test(u),o=$[f?"take"+(u=="last"?"Right":""):u],d=f||/^find/.test(u);o&&($.prototype[u]=function(){var h=this.__wrapped__,m=f?[1]:arguments,g=h instanceof pn,E=m[0],P=g||Tn(h),j=function(U){var G=o.apply($,Ap([U],m));return f&&k?G[0]:G};P&&a&&typeof E=="function"&&E.length!=1&&(g=P=!1);var k=this.__chain__,T=!!this.__actions__.length,C=d&&!k,N=g&&!T;if(!d&&P){h=N?h:new pn(this);var I=i.apply(h,m);return I.__actions__.push({func:Rp,args:[j],thisArg:void 0}),new ai(I,k)}return C&&N?i.apply(this,m):(I=this.thru(j),C?f?I.value()[0]:I.value():I)})});Ii(["pop","push","shift","sort","splice","unshift"],function(i){var u=z4[i],a=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",f=/^(?:pop|shift)$/.test(i);$.prototype[i]=function(){var o=arguments;if(f&&!this.__chain__){var d=this.value();return u.apply(Tn(d)?d:[],o)}return this[a](function(h){return u.apply(Tn(h)?h:[],o)})}});Ga(pn.prototype,function(i,u){var a=$[u];if(a){var f=a.name+"";tE.call(yl,f)||(yl[f]=[]),yl[f].push({name:u,func:a})}});yl[xy(void 0,I4).name]=[{name:"wrapper",func:void 0}];pn.prototype.clone=j4;pn.prototype.reverse=P4;pn.prototype.value=R4;$.prototype.at=ha.at;$.prototype.chain=ha.wrapperChain;$.prototype.commit=ha.commit;$.prototype.next=ha.next;$.prototype.plant=ha.plant;$.prototype.reverse=ha.reverse;$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=ha.value;$.prototype.first=$.prototype.head;yO&&($.prototype[yO]=ha.toIterator);const W4=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],U4={flowElementList:W4};var Qb={exports:{}};(function(i,u){(function(a,f){i.exports=f()})(window,function(){return function(a){var f={};function o(d){if(f[d])return f[d].exports;var h=f[d]={i:d,l:!1,exports:{}};return a[d].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=a,o.c=f,o.d=function(d,h,m){o.o(d,h)||Object.defineProperty(d,h,{enumerable:!0,get:m})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,h){if(1&h&&(d=o(d)),8&h||4&h&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(o.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&h&&typeof d!="string")for(var g in d)o.d(m,g,function(E){return d[E]}.bind(null,g));return m},o.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(h,"a",h),h},o.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},o.p="",o(o.s=222)}([function(a,f,o){o.d(f,"a",function(){return ie}),o.d(f,"b",function(){return ae}),o.d(f,"c",function(){return Ze}),o.d(f,"d",function(){return mt}),o.d(f,"e",function(){return U}),o.d(f,"f",function(){return te}),o.d(f,"g",function(){return U}),o.d(f,"h",function(){return Ye}),o.d(f,"i",function(){return h}),o.d(f,"j",function(){return xt}),o.d(f,"k",function(){return q});var d,h,m,g,E,P,j,k={},T=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(se,ce){for(var he in ce)se[he]=ce[he];return se}function I(se){var ce=se.parentNode;ce&&ce.removeChild(se)}function U(se,ce,he){var De,Ge,ze,Et={};for(ze in ce)ze=="key"?De=ce[ze]:ze=="ref"?Ge=ce[ze]:Et[ze]=ce[ze];if(arguments.length>2&&(Et.children=arguments.length>3?d.call(arguments,2):he),typeof se=="function"&&se.defaultProps!=null)for(ze in se.defaultProps)Et[ze]===void 0&&(Et[ze]=se.defaultProps[ze]);return G(se,Et,De,Ge,null)}function G(se,ce,he,De,Ge){var ze={type:se,props:ce,key:he,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ge==null?++m:Ge};return Ge==null&&h.vnode!=null&&h.vnode(ze),ze}function te(){return{current:null}}function ae(se){return se.children}function ie(se,ce){this.props=se,this.context=ce}function Q(se,ce){if(ce==null)return se.__?Q(se.__,se.__.__k.indexOf(se)+1):null;for(var he;ce<se.__k.length;ce++)if((he=se.__k[ce])!=null&&he.__e!=null)return he.__e;return typeof se.type=="function"?Q(se):null}function ee(se){var ce,he;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,ce=0;ce<se.__k.length;ce++)if((he=se.__k[ce])!=null&&he.__e!=null){se.__e=se.__c.base=he.__e;break}return ee(se)}}function V(se){(!se.__d&&(se.__d=!0)&&g.push(se)&&!z.__r++||P!==h.debounceRendering)&&((P=h.debounceRendering)||E)(z)}function z(){for(var se;z.__r=g.length;)se=g.sort(function(ce,he){return ce.__v.__b-he.__v.__b}),g=[],se.some(function(ce){var he,De,Ge,ze,Et,Rt;ce.__d&&(Et=(ze=(he=ce).__v).__e,(Rt=he.__P)&&(De=[],(Ge=N({},ze)).__v=ze.__v+1,je(Rt,ze,Ge,he.__n,Rt.ownerSVGElement!==void 0,ze.__h!=null?[Et]:null,De,Et==null?Q(ze):Et,ze.__h),ve(De,ze),ze.__e!=Et&&ee(ze)))})}function H(se,ce,he,De,Ge,ze,Et,Rt,At,gt){var Te,lt,fe,at,zt,dn,Ft,rn=De&&De.__k||T,mn=rn.length;for(he.__k=[],Te=0;Te<ce.length;Te++)if((at=he.__k[Te]=(at=ce[Te])==null||typeof at=="boolean"?null:typeof at=="string"||typeof at=="number"||typeof at=="bigint"?G(null,at,null,null,at):Array.isArray(at)?G(ae,{children:at},null,null,null):at.__b>0?G(at.type,at.props,at.key,null,at.__v):at)!=null){if(at.__=he,at.__b=he.__b+1,(fe=rn[Te])===null||fe&&at.key==fe.key&&at.type===fe.type)rn[Te]=void 0;else for(lt=0;lt<mn;lt++){if((fe=rn[lt])&&at.key==fe.key&&at.type===fe.type){rn[lt]=void 0;break}fe=null}je(se,at,fe=fe||k,Ge,ze,Et,Rt,At,gt),zt=at.__e,(lt=at.ref)&&fe.ref!=lt&&(Ft||(Ft=[]),fe.ref&&Ft.push(fe.ref,null,at),Ft.push(lt,at.__c||zt,at)),zt!=null?(dn==null&&(dn=zt),typeof at.type=="function"&&at.__k===fe.__k?at.__d=At=Y(at,At,se):At=ue(se,at,fe,rn,zt,At),typeof he.type=="function"&&(he.__d=At)):At&&fe.__e==At&&At.parentNode!=se&&(At=Q(fe))}for(he.__e=dn,Te=mn;Te--;)rn[Te]!=null&&(typeof he.type=="function"&&rn[Te].__e!=null&&rn[Te].__e==he.__d&&(he.__d=Q(De,Te+1)),We(rn[Te],rn[Te]));if(Ft)for(Te=0;Te<Ft.length;Te++)Me(Ft[Te],Ft[++Te],Ft[++Te])}function Y(se,ce,he){for(var De,Ge=se.__k,ze=0;Ge&&ze<Ge.length;ze++)(De=Ge[ze])&&(De.__=se,ce=typeof De.type=="function"?Y(De,ce,he):ue(he,De,De,Ge,De.__e,ce));return ce}function q(se,ce){return ce=ce||[],se==null||typeof se=="boolean"||(Array.isArray(se)?se.some(function(he){q(he,ce)}):ce.push(se)),ce}function ue(se,ce,he,De,Ge,ze){var Et,Rt,At;if(ce.__d!==void 0)Et=ce.__d,ce.__d=void 0;else if(he==null||Ge!=ze||Ge.parentNode==null)e:if(ze==null||ze.parentNode!==se)se.appendChild(Ge),Et=null;else{for(Rt=ze,At=0;(Rt=Rt.nextSibling)&&At<De.length;At+=2)if(Rt==Ge)break e;se.insertBefore(Ge,ze),Et=ze}return Et!==void 0?Et:Ge.nextSibling}function Ee(se,ce,he){ce[0]==="-"?se.setProperty(ce,he):se[ce]=he==null?"":typeof he!="number"||C.test(ce)?he:he+"px"}function be(se,ce,he,De,Ge){var ze;e:if(ce==="style")if(typeof he=="string")se.style.cssText=he;else{if(typeof De=="string"&&(se.style.cssText=De=""),De)for(ce in De)he&&ce in he||Ee(se.style,ce,"");if(he)for(ce in he)De&&he[ce]===De[ce]||Ee(se.style,ce,he[ce])}else if(ce[0]==="o"&&ce[1]==="n")ze=ce!==(ce=ce.replace(/Capture$/,"")),ce=ce.toLowerCase()in se?ce.toLowerCase().slice(2):ce.slice(2),se.l||(se.l={}),se.l[ce+ze]=he,he?De||se.addEventListener(ce,ze?Fe:Ae,ze):se.removeEventListener(ce,ze?Fe:Ae,ze);else if(ce!=="dangerouslySetInnerHTML"){if(Ge)ce=ce.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ce!=="href"&&ce!=="list"&&ce!=="form"&&ce!=="tabIndex"&&ce!=="download"&&ce in se)try{se[ce]=he==null?"":he;break e}catch(Et){}typeof he=="function"||(he!=null&&(he!==!1||ce[0]==="a"&&ce[1]==="r")?se.setAttribute(ce,he):se.removeAttribute(ce))}}function Ae(se){this.l[se.type+!1](h.event?h.event(se):se)}function Fe(se){this.l[se.type+!0](h.event?h.event(se):se)}function je(se,ce,he,De,Ge,ze,Et,Rt,At){var gt,Te,lt,fe,at,zt,dn,Ft,rn,mn,Dn,It=ce.type;if(ce.constructor!==void 0)return null;he.__h!=null&&(At=he.__h,Rt=ce.__e=he.__e,ce.__h=null,ze=[Rt]),(gt=h.__b)&&gt(ce);try{e:if(typeof It=="function"){if(Ft=ce.props,rn=(gt=It.contextType)&&De[gt.__c],mn=gt?rn?rn.props.value:gt.__:De,he.__c?dn=(Te=ce.__c=he.__c).__=Te.__E:("prototype"in It&&It.prototype.render?ce.__c=Te=new It(Ft,mn):(ce.__c=Te=new ie(Ft,mn),Te.constructor=It,Te.render=ot),rn&&rn.sub(Te),Te.props=Ft,Te.state||(Te.state={}),Te.context=mn,Te.__n=De,lt=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),It.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=N({},Te.__s)),N(Te.__s,It.getDerivedStateFromProps(Ft,Te.__s))),fe=Te.props,at=Te.state,lt)It.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(It.getDerivedStateFromProps==null&&Ft!==fe&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(Ft,mn),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(Ft,Te.__s,mn)===!1||ce.__v===he.__v){Te.props=Ft,Te.state=Te.__s,ce.__v!==he.__v&&(Te.__d=!1),Te.__v=ce,ce.__e=he.__e,ce.__k=he.__k,ce.__k.forEach(function(Hn){Hn&&(Hn.__=ce)}),Te.__h.length&&Et.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(Ft,Te.__s,mn),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(fe,at,zt)})}Te.context=mn,Te.props=Ft,Te.state=Te.__s,(gt=h.__r)&&gt(ce),Te.__d=!1,Te.__v=ce,Te.__P=se,gt=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s,Te.getChildContext!=null&&(De=N(N({},De),Te.getChildContext())),lt||Te.getSnapshotBeforeUpdate==null||(zt=Te.getSnapshotBeforeUpdate(fe,at)),Dn=gt!=null&&gt.type===ae&&gt.key==null?gt.props.children:gt,H(se,Array.isArray(Dn)?Dn:[Dn],ce,he,De,Ge,ze,Et,Rt,At),Te.base=ce.__e,ce.__h=null,Te.__h.length&&Et.push(Te),dn&&(Te.__E=Te.__=null),Te.__e=!1}else ze==null&&ce.__v===he.__v?(ce.__k=he.__k,ce.__e=he.__e):ce.__e=Pe(he.__e,ce,he,De,Ge,ze,Et,At);(gt=h.diffed)&&gt(ce)}catch(Hn){ce.__v=null,(At||ze!=null)&&(ce.__e=Rt,ce.__h=!!At,ze[ze.indexOf(Rt)]=null),h.__e(Hn,ce,he)}}function ve(se,ce){h.__c&&h.__c(ce,se),se.some(function(he){try{se=he.__h,he.__h=[],se.some(function(De){De.call(he)})}catch(De){h.__e(De,he.__v)}})}function Pe(se,ce,he,De,Ge,ze,Et,Rt){var At,gt,Te,lt=he.props,fe=ce.props,at=ce.type,zt=0;if(at==="svg"&&(Ge=!0),ze!=null){for(;zt<ze.length;zt++)if((At=ze[zt])&&"setAttribute"in At==!!at&&(at?At.localName===at:At.nodeType===3)){se=At,ze[zt]=null;break}}if(se==null){if(at===null)return document.createTextNode(fe);se=Ge?document.createElementNS("http://www.w3.org/2000/svg",at):document.createElement(at,fe.is&&fe),ze=null,Rt=!1}if(at===null)lt===fe||Rt&&se.data===fe||(se.data=fe);else{if(ze=ze&&d.call(se.childNodes),gt=(lt=he.props||k).dangerouslySetInnerHTML,Te=fe.dangerouslySetInnerHTML,!Rt){if(ze!=null)for(lt={},zt=0;zt<se.attributes.length;zt++)lt[se.attributes[zt].name]=se.attributes[zt].value;(Te||gt)&&(Te&&(gt&&Te.__html==gt.__html||Te.__html===se.innerHTML)||(se.innerHTML=Te&&Te.__html||""))}if(function(dn,Ft,rn,mn,Dn){var It;for(It in rn)It==="children"||It==="key"||It in Ft||be(dn,It,null,rn[It],mn);for(It in Ft)Dn&&typeof Ft[It]!="function"||It==="children"||It==="key"||It==="value"||It==="checked"||rn[It]===Ft[It]||be(dn,It,Ft[It],rn[It],mn)}(se,fe,lt,Ge,Rt),Te)ce.__k=[];else if(zt=ce.props.children,H(se,Array.isArray(zt)?zt:[zt],ce,he,De,Ge&&at!=="foreignObject",ze,Et,ze?ze[0]:he.__k&&Q(he,0),Rt),ze!=null)for(zt=ze.length;zt--;)ze[zt]!=null&&I(ze[zt]);Rt||("value"in fe&&(zt=fe.value)!==void 0&&(zt!==lt.value||zt!==se.value||at==="progress"&&!zt)&&be(se,"value",zt,lt.value,!1),"checked"in fe&&(zt=fe.checked)!==void 0&&zt!==se.checked&&be(se,"checked",zt,lt.checked,!1))}return se}function Me(se,ce,he){try{typeof se=="function"?se(ce):se.current=ce}catch(De){h.__e(De,he)}}function We(se,ce,he){var De,Ge;if(h.unmount&&h.unmount(se),(De=se.ref)&&(De.current&&De.current!==se.__e||Me(De,null,ce)),(De=se.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(ze){h.__e(ze,ce)}De.base=De.__P=null}if(De=se.__k)for(Ge=0;Ge<De.length;Ge++)De[Ge]&&We(De[Ge],ce,typeof se.type!="function");he||se.__e==null||I(se.__e),se.__e=se.__d=void 0}function ot(se,ce,he){return this.constructor(se,he)}function xt(se,ce,he){var De,Ge,ze;h.__&&h.__(se,ce),Ge=(De=typeof he=="function")?null:he&&he.__k||ce.__k,ze=[],je(ce,se=(!De&&he||ce).__k=U(ae,null,[se]),Ge||k,k,ce.ownerSVGElement!==void 0,!De&&he?[he]:Ge?null:ce.firstChild?d.call(ce.childNodes):null,ze,!De&&he?he:Ge?Ge.__e:ce.firstChild,De),ve(ze,se)}function Ye(se,ce){xt(se,ce,Ye)}function Ze(se,ce,he){var De,Ge,ze,Et=N({},se.props);for(ze in ce)ze=="key"?De=ce[ze]:ze=="ref"?Ge=ce[ze]:Et[ze]=ce[ze];return arguments.length>2&&(Et.children=arguments.length>3?d.call(arguments,2):he),G(se.type,Et,De||se.key,Ge||se.ref,null)}function mt(se,ce){var he={__c:ce="__cC"+j++,__:se,Consumer:function(De,Ge){return De.children(Ge)},Provider:function(De){var Ge,ze;return this.getChildContext||(Ge=[],(ze={})[ce]=this,this.getChildContext=function(){return ze},this.shouldComponentUpdate=function(Et){this.props.value!==Et.value&&Ge.some(V)},this.sub=function(Et){Ge.push(Et);var Rt=Et.componentWillUnmount;Et.componentWillUnmount=function(){Ge.splice(Ge.indexOf(Et),1),Rt&&Rt.call(Et)}}),De.children}};return he.Provider.__=he.Consumer.contextType=he}d=T.slice,h={__e:function(se,ce){for(var he,De,Ge;ce=ce.__;)if((he=ce.__c)&&!he.__)try{if((De=he.constructor)&&De.getDerivedStateFromError!=null&&(he.setState(De.getDerivedStateFromError(se)),Ge=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(se),Ge=he.__d),Ge)return he.__E=he}catch(ze){se=ze}throw se}},m=0,ie.prototype.setState=function(se,ce){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof se=="function"&&(se=se(N({},he),this.props)),se&&N(he,se),se!=null&&this.__v&&(ce&&this.__h.push(ce),V(this))},ie.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),V(this))},ie.prototype.render=ae,g=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,j=0},function(a,f,o){(function(d,h){o.d(f,"a",function(){return V}),o.d(f,"b",function(){return ec}),o.d(f,"c",function(){return so}),o.d(f,"d",function(){return St}),o.d(f,"e",function(){return Ke}),o.d(f,"f",function(){return Ve}),o.d(f,"g",function(){return _t}),o.d(f,"h",function(){return Po}),o.d(f,"i",function(){return Dn}),o.d(f,"j",function(){return ut}),o.d(f,"k",function(){return Bo}),o.d(f,"l",function(){return Gu}),o.d(f,"m",function(){return dn}),o.d(f,"n",function(){return Bi}),o.d(f,"o",function(){return Y}),o.d(f,"p",function(){return ns}),o.d(f,"q",function(){return zo}),o.d(f,"r",function(){return Va}),o.d(f,"s",function(){return Zr}),o.d(f,"t",function(){return Un}),o.d(f,"u",function(){return Ya}),o.d(f,"v",function(){return ts}),o.d(f,"w",function(){return Ku}),o.d(f,"x",function(){return zi}),o.d(f,"y",function(){return qr}),o.d(f,"z",function(){return Yn}),o.d(f,"A",function(){return Cr}),o.d(f,"B",function(){return wo}),o.d(f,"C",function(){return gt}),o.d(f,"D",function(){return rs}),o.d(f,"E",function(){return hn}),o.d(f,"F",function(){return yn}),o.d(f,"G",function(){return Wu}),o.d(f,"H",function(){return $u}),o.d(f,"I",function(){return qu}),o.d(f,"J",function(){return or}),o.d(f,"K",function(){return de}),o.d(f,"L",function(){return En}),o.d(f,"M",function(){return qa});var m=[];Object.freeze(m);var g={};function E(){return++ft.mobxGuid}function P(O){throw j(!1,O),"X"}function j(O,w){if(!O)throw new Error("[mobx] "+(w||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(g);function k(O){var w=!1;return function(){if(!w)return w=!0,O.apply(this,arguments)}}var T=function(){};function C(O){return O!==null&&typeof O=="object"}function N(O){if(O===null||typeof O!="object")return!1;var w=Object.getPrototypeOf(O);return w===Object.prototype||w===null}function I(O,w,M){Object.defineProperty(O,w,{enumerable:!1,writable:!0,configurable:!0,value:M})}function U(O,w){var M="isMobX"+O;return w.prototype[M]=!0,function(B){return C(B)&&B[M]===!0}}function G(O){return O instanceof Map}function te(O){return O instanceof Set}function ae(O){var w=new Set;for(var M in O)w.add(M);return Object.getOwnPropertySymbols(O).forEach(function(B){Object.getOwnPropertyDescriptor(O,B).enumerable&&w.add(B)}),Array.from(w)}function ie(O){return O&&O.toString?O.toString():new String(O).toString()}function Q(O){return O===null?null:typeof O=="object"?""+O:O}var ee=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:Object.getOwnPropertyNames,V=Symbol("mobx administration"),z=function(){function O(w){w===void 0&&(w="Atom@"+E()),this.name=w,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=lt.NOT_TRACKING}return O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.reportObserved=function(){return Xa(this)},O.prototype.reportChanged=function(){Tr(),function(w){w.lowestObserverState!==lt.STALE&&(w.lowestObserverState=lt.STALE,w.observers.forEach(function(M){M.dependenciesState===lt.UP_TO_DATE&&(M.isTracing!==fe.NONE&&co(M,w),M.onBecomeStale()),M.dependenciesState=lt.STALE}))}(this),Br()},O.prototype.toString=function(){return this.name},O}(),H=U("Atom",z);function Y(O,w,M){w===void 0&&(w=T),M===void 0&&(M=T);var B,K=new z(O);return w!==T&&Qc("onBecomeObserved",K,w,B),M!==T&&hn(K,M),K}var q={identity:function(O,w){return O===w},structural:function(O,w){return Ne(O,w)},default:function(O,w){return Object.is(O,w)},shallow:function(O,w){return Ne(O,w,1)}},ue=function(O,w){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,B){M.__proto__=B}||function(M,B){for(var K in B)B.hasOwnProperty(K)&&(M[K]=B[K])},ue(O,w)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(O){for(var w,M=1,B=arguments.length;M<B;M++)for(var K in w=arguments[M])Object.prototype.hasOwnProperty.call(w,K)&&(O[K]=w[K]);return O},Ee.apply(this,arguments)};function be(O){var w=typeof Symbol=="function"&&O[Symbol.iterator],M=0;return w?w.call(O):{next:function(){return O&&M>=O.length&&(O=void 0),{value:O&&O[M++],done:!O}}}}function Ae(O,w){var M=typeof Symbol=="function"&&O[Symbol.iterator];if(!M)return O;var B,K,pe=M.call(O),Se=[];try{for(;(w===void 0||w-- >0)&&!(B=pe.next()).done;)Se.push(B.value)}catch($e){K={error:$e}}finally{try{B&&!B.done&&(M=pe.return)&&M.call(pe)}finally{if(K)throw K.error}}return Se}function Fe(){for(var O=[],w=0;w<arguments.length;w++)O=O.concat(Ae(arguments[w]));return O}var je=Symbol("mobx did run lazy initializers"),ve=Symbol("mobx pending decorators"),Pe={},Me={};function We(O,w){var M=w?Pe:Me;return M[O]||(M[O]={configurable:!0,enumerable:w,get:function(){return ot(this),this[O]},set:function(B){ot(this),this[O]=B}})}function ot(O){var w,M;if(O[je]!==!0){var B=O[ve];if(B){I(O,je,!0);var K=Fe(Object.getOwnPropertySymbols(B),Object.keys(B));try{for(var pe=be(K),Se=pe.next();!Se.done;Se=pe.next()){var $e=B[Se.value];$e.propertyCreator(O,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ct){w={error:ct}}finally{try{Se&&!Se.done&&(M=pe.return)&&M.call(pe)}finally{if(w)throw w.error}}}}}function xt(O,w){return function(){var M,B=function(K,pe,Se,$e){if($e===!0)return w(K,pe,Se,K,M),null;if(!Object.prototype.hasOwnProperty.call(K,ve)){var ct=K[ve];I(K,ve,Ee({},ct))}return K[ve][pe]={prop:pe,propertyCreator:w,descriptor:Se,decoratorTarget:K,decoratorArguments:M},We(pe,O)};return Ye(arguments)?(M=m,B.apply(null,arguments)):(M=Array.prototype.slice.call(arguments),B)}}function Ye(O){return(O.length===2||O.length===3)&&(typeof O[1]=="string"||typeof O[1]=="symbol")||O.length===4&&O[3]===!0}function Ze(O,w,M){return zi(O)?O:Array.isArray(O)?gt.array(O,{name:M}):N(O)?gt.object(O,void 0,{name:M}):G(O)?gt.map(O,{name:M}):te(O)?gt.set(O,{name:M}):O}function mt(O){return O}function se(O){j(O);var w=xt(!0,function(B,K,pe,Se,$e){var ct=pe?pe.initializer?pe.initializer.call(B):pe.value:void 0;zr(B).addObservableProp(K,ct,O)}),M=(d!==void 0&&d.env,w);return M.enhancer=O,M}var ce={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(O){return O==null?ce:typeof O=="string"?{name:O,deep:!0,proxy:!0}:O}Object.freeze(ce);var De=se(Ze),Ge=se(function(O,w,M){return O==null||Cr(O)||qr(O)||Yn(O)||Er(O)?O:Array.isArray(O)?gt.array(O,{name:M,deep:!1}):N(O)?gt.object(O,void 0,{name:M,deep:!1}):G(O)?gt.map(O,{name:M,deep:!1}):te(O)?gt.set(O,{name:M,deep:!1}):P(!1)}),ze=se(mt),Et=se(function(O,w,M){return Ne(O,w)?w:O});function Rt(O){return O.defaultDecorator?O.defaultDecorator.enhancer:O.deep===!1?mt:Ze}var At={box:function(O,w){arguments.length>2&&Te("box");var M=he(w);return new Bn(O,Rt(M),M.name,!0,M.equals)},array:function(O,w){arguments.length>2&&Te("array");var M=he(w);return ba(O,Rt(M),M.name)},map:function(O,w){arguments.length>2&&Te("map");var M=he(w);return new ec(O,Rt(M),M.name)},set:function(O,w){arguments.length>2&&Te("set");var M=he(w);return new So(O,Rt(M),M.name)},object:function(O,w,M){typeof arguments[1]=="string"&&Te("object");var B=he(M);if(B.proxy===!1)return zo({},O,w,B);var K=Hu(B),pe=zo({},void 0,void 0,B),Se=Fi(pe);return es(Se,O,w,K),Se},ref:ze,shallow:Ge,deep:De,struct:Et},gt=function(O,w,M){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(zi(O))return O;var B=N(O)?gt.object(O,w,M):Array.isArray(O)?gt.array(O,w):G(O)?gt.map(O,w):te(O)?gt.set(O,w):O;if(B!==O)return B;P(!1)};function Te(O){P("Expected one or two arguments to observable."+O+". Did you accidentally try to use observable."+O+" as decorator?")}Object.keys(At).forEach(function(O){return gt[O]=At[O]});var lt,fe,at=xt(!1,function(O,w,M,B,K){var pe=M.get,Se=M.set,$e=K[0]||{};zr(O).addComputedProp(O,w,Ee({get:pe,set:Se,context:O},$e))}),zt=at({equals:q.structural}),dn=function(O,w,M){if(typeof w=="string"||O!==null&&typeof O=="object"&&arguments.length===1)return at.apply(null,arguments);var B=typeof w=="object"?w:{};return B.get=O,B.set=typeof w=="function"?w:B.set,B.name=B.name||O.name||"",new Oo(B)};dn.struct=zt,function(O){O[O.NOT_TRACKING=-1]="NOT_TRACKING",O[O.UP_TO_DATE=0]="UP_TO_DATE",O[O.POSSIBLY_STALE=1]="POSSIBLY_STALE",O[O.STALE=2]="STALE"}(lt||(lt={})),function(O){O[O.NONE=0]="NONE",O[O.LOG=1]="LOG",O[O.BREAK=2]="BREAK"}(fe||(fe={}));var Ft=function(O){this.cause=O};function rn(O){return O instanceof Ft}function mn(O){switch(O.dependenciesState){case lt.UP_TO_DATE:return!1;case lt.NOT_TRACKING:case lt.STALE:return!0;case lt.POSSIBLY_STALE:for(var w=Ve(!0),M=oe(),B=O.observing,K=B.length,pe=0;pe<K;pe++){var Se=B[pe];if(Lo(Se)){if(ft.disableErrorBoundaries)Se.get();else try{Se.get()}catch($e){return _e(M),Ke(w),!0}if(O.dependenciesState===lt.STALE)return _e(M),Ke(w),!0}}return pt(O),_e(M),Ke(w),!1}}function Dn(){return ft.trackingDerivation!==null}function It(O){var w=O.observers.size>0;ft.computationDepth>0&&w&&P(!1),ft.allowStateChanges||!w&&ft.enforceActions!=="strict"||P(!1)}function Hn(O,w,M){var B=Ve(!0);pt(O),O.newObserving=new Array(O.observing.length+100),O.unboundDepsCount=0,O.runId=++ft.runId;var K,pe=ft.trackingDerivation;if(ft.trackingDerivation=O,ft.disableErrorBoundaries===!0)K=w.call(M);else try{K=w.call(M)}catch(Se){K=new Ft(Se)}return ft.trackingDerivation=pe,function(Se){for(var $e=Se.observing,ct=Se.observing=Se.newObserving,Kt=lt.UP_TO_DATE,tt=0,_n=Se.unboundDepsCount,Ut=0;Ut<_n;Ut++)(ln=ct[Ut]).diffValue===0&&(ln.diffValue=1,tt!==Ut&&(ct[tt]=ln),tt++),ln.dependenciesState>Kt&&(Kt=ln.dependenciesState);for(ct.length=tt,Se.newObserving=null,_n=$e.length;_n--;)(ln=$e[_n]).diffValue===0&&Lu(ln,Se),ln.diffValue=0;for(;tt--;){var ln;(ln=ct[tt]).diffValue===1&&(ln.diffValue=0,kl(ln,Se))}Kt!==lt.UP_TO_DATE&&(Se.dependenciesState=Kt,Se.onBecomeStale())}(O),Ke(B),K}function Z(O){var w=O.observing;O.observing=[];for(var M=w.length;M--;)Lu(w[M],O);O.dependenciesState=lt.NOT_TRACKING}function de(O){var w=oe();try{return O()}finally{_e(w)}}function oe(){var O=ft.trackingDerivation;return ft.trackingDerivation=null,O}function _e(O){ft.trackingDerivation=O}function Ve(O){var w=ft.allowStateReads;return ft.allowStateReads=O,w}function Ke(O){ft.allowStateReads=O}function pt(O){if(O.dependenciesState!==lt.UP_TO_DATE){O.dependenciesState=lt.UP_TO_DATE;for(var w=O.observing,M=w.length;M--;)w[M].lowestObserverState=lt.UP_TO_DATE}}var Yt=0,rr=1,hr=Object.getOwnPropertyDescriptor(function(){},"name");hr&&hr.configurable;function Xn(O,w,M){var B=function(){return qn(O,w,M||this,arguments)};return B.isMobxAction=!0,B}function qn(O,w,M,B){var K=ut();try{return w.apply(M,B)}catch(pe){throw K.error=pe,pe}finally{_t(K)}}function ut(O,w,M){var B=0,K=oe();Tr();var pe={prevDerivation:K,prevAllowStateChanges:Lt(!0),prevAllowStateReads:Ve(!0),notifySpy:!1,startTime:B,actionId:rr++,parentActionId:Yt};return Yt=pe.actionId,pe}function _t(O){Yt!==O.actionId&&P("invalid action stack. did you forget to finish an action?"),Yt=O.parentActionId,O.error!==void 0&&(ft.suppressReactionErrors=!0),gn(O.prevAllowStateChanges),Ke(O.prevAllowStateReads),Br(),_e(O.prevDerivation),O.notifySpy,ft.suppressReactionErrors=!1}function St(O,w){var M,B=Lt(O);try{M=w()}finally{gn(B)}return M}function Lt(O){var w=ft.allowStateChanges;return ft.allowStateChanges=O,w}function gn(O){ft.allowStateChanges=O}var Bn=function(O){function w(M,B,K,pe,Se){K===void 0&&(K="ObservableValue@"+E()),Se===void 0&&(Se=q.default);var $e=O.call(this,K)||this;return $e.enhancer=B,$e.name=K,$e.equals=Se,$e.hasUnreportedChange=!1,$e.value=B(M,void 0,K),$e}return function(M,B){function K(){this.constructor=M}ue(M,B),M.prototype=B===null?Object.create(B):(K.prototype=B.prototype,new K)}(w,O),w.prototype.dehanceValue=function(M){return this.dehancer!==void 0?this.dehancer(M):M},w.prototype.set=function(M){this.value,(M=this.prepareNewValue(M))!==ft.UNCHANGED&&this.setNewValue(M)},w.prototype.prepareNewValue=function(M){if(It(this),Nr(this)){var B=on(this,{object:this,type:"update",newValue:M});if(!B)return ft.UNCHANGED;M=B.newValue}return M=this.enhancer(M,this.value,this.name),this.equals(this.value,M)?ft.UNCHANGED:M},w.prototype.setNewValue=function(M){var B=this.value;this.value=M,this.reportChanged(),Rr(this)&&sr(this,{type:"update",object:this,newValue:M,oldValue:B})},w.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},w.prototype.intercept=function(M){return $o(this,M)},w.prototype.observe=function(M,B){return B&&M({object:this,type:"update",newValue:this.value,oldValue:void 0}),Eo(this,M)},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.value+"]"},w.prototype.valueOf=function(){return Q(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(z),Io=U("ObservableValue",Bn),Oo=function(){function O(w){this.dependenciesState=lt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=lt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+E(),this.value=new Ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=fe.NONE,j(w.get,"missing option for computed: get"),this.derivation=w.get,this.name=w.name||"ComputedValue@"+E(),w.set&&(this.setter=Xn(this.name+"-setter",w.set)),this.equals=w.equals||(w.compareStructural||w.struct?q.structural:q.default),this.scope=w.context,this.requiresReaction=!!w.requiresReaction,this.keepAlive=!!w.keepAlive}return O.prototype.onBecomeStale=function(){(function(w){w.lowestObserverState===lt.UP_TO_DATE&&(w.lowestObserverState=lt.POSSIBLY_STALE,w.observers.forEach(function(M){M.dependenciesState===lt.UP_TO_DATE&&(M.dependenciesState=lt.POSSIBLY_STALE,M.isTracing!==fe.NONE&&co(M,w),M.onBecomeStale())}))})(this)},O.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(w){return w()})},O.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(w){return w()})},O.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),ft.inBatch!==0||this.observers.size!==0||this.keepAlive?(Xa(this),mn(this)&&this.trackAndCompute()&&function(M){M.lowestObserverState!==lt.STALE&&(M.lowestObserverState=lt.STALE,M.observers.forEach(function(B){B.dependenciesState===lt.POSSIBLY_STALE?B.dependenciesState=lt.STALE:B.dependenciesState===lt.UP_TO_DATE&&(M.lowestObserverState=lt.UP_TO_DATE)}))}(this)):mn(this)&&(this.warnAboutUntrackedRead(),Tr(),this.value=this.computeValue(!1),Br());var w=this.value;if(rn(w))throw w.cause;return w},O.prototype.peek=function(){var w=this.computeValue(!1);if(rn(w))throw w.cause;return w},O.prototype.set=function(w){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,w)}finally{this.isRunningSetter=!1}}else j(!1,!1)},O.prototype.trackAndCompute=function(){var w=this.value,M=this.dependenciesState===lt.NOT_TRACKING,B=this.computeValue(!0),K=M||rn(w)||rn(B)||!this.equals(w,B);return K&&(this.value=B),K},O.prototype.computeValue=function(w){var M;if(this.isComputing=!0,ft.computationDepth++,w)M=Hn(this,this.derivation,this.scope);else if(ft.disableErrorBoundaries===!0)M=this.derivation.call(this.scope);else try{M=this.derivation.call(this.scope)}catch(B){M=new Ft(B)}return ft.computationDepth--,this.isComputing=!1,M},O.prototype.suspend=function(){this.keepAlive||(Z(this),this.value=void 0)},O.prototype.observe=function(w,M){var B=this,K=!0,pe=void 0;return Gu(function(){var Se=B.get();if(!K||M){var $e=oe();w({type:"update",object:B,newValue:Se,oldValue:pe}),_e($e)}K=!1,pe=Se})},O.prototype.warnAboutUntrackedRead=function(){},O.prototype.toJSON=function(){return this.get()},O.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},O.prototype.valueOf=function(){return Q(this.get())},O.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},O}(),Lo=U("ComputedValue",Oo),Li=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tl={};function Iu(){return typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:Tl}var Vr=!0,ya=!1,ft=function(){var O=Iu();return O.__mobxInstanceCount>0&&!O.__mobxGlobals&&(Vr=!1),O.__mobxGlobals&&O.__mobxGlobals.version!==new Li().version&&(Vr=!1),Vr?O.__mobxGlobals?(O.__mobxInstanceCount+=1,O.__mobxGlobals.UNCHANGED||(O.__mobxGlobals.UNCHANGED={}),O.__mobxGlobals):(O.__mobxInstanceCount=1,O.__mobxGlobals=new Li):(setTimeout(function(){ya||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Li)}();function kl(O,w){O.observers.add(w),O.lowestObserverState>w.dependenciesState&&(O.lowestObserverState=w.dependenciesState)}function Lu(O,w){O.observers.delete(w),O.observers.size===0&&Bu(O)}function Bu(O){O.isPendingUnobservation===!1&&(O.isPendingUnobservation=!0,ft.pendingUnobservations.push(O))}function Tr(){ft.inBatch++}function Br(){if(--ft.inBatch==0){Fu();for(var O=ft.pendingUnobservations,w=0;w<O.length;w++){var M=O[w];M.isPendingUnobservation=!1,M.observers.size===0&&(M.isBeingObserved&&(M.isBeingObserved=!1,M.onBecomeUnobserved()),M instanceof Oo&&M.suspend())}ft.pendingUnobservations=[]}}function Xa(O){var w=ft.trackingDerivation;return w!==null?(w.runId!==O.lastAccessedBy&&(O.lastAccessedBy=w.runId,w.newObserving[w.unboundDepsCount++]=O,O.isBeingObserved||(O.isBeingObserved=!0,O.onBecomeObserved())),!0):(O.observers.size===0&&ft.inBatch>0&&Bu(O),!1)}function co(O,w){if(O.isTracing===fe.BREAK){var M=[];Kr(Un(O),M,1),new Function(`debugger;
/*
Tracing '`+O.name+`'

You are entering this break point because derivation '`+O.name+"' is being traced and '"+w.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(O instanceof Oo?O.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+M.join(`
`)+`
*/
    `)()}}function Kr(O,w,M){w.length>=1e3?w.push("(and many more)"):(w.push(""+new Array(M).join("	")+O.name),O.dependencies&&O.dependencies.forEach(function(B){return Kr(B,w,M+1)}))}var so=function(){function O(w,M,B,K){w===void 0&&(w="Reaction@"+E()),K===void 0&&(K=!1),this.name=w,this.onInvalidate=M,this.errorHandler=B,this.requiresObservable=K,this.observing=[],this.newObserving=[],this.dependenciesState=lt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+E(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=fe.NONE}return O.prototype.onBecomeStale=function(){this.schedule()},O.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ft.pendingReactions.push(this),Fu())},O.prototype.isScheduled=function(){return this._isScheduled},O.prototype.runReaction=function(){if(!this.isDisposed){if(Tr(),this._isScheduled=!1,mn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(w){this.reportExceptionInDerivation(w)}}Br()}},O.prototype.track=function(w){if(!this.isDisposed){Tr(),this._isRunning=!0;var M=Hn(this,w,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Z(this),rn(M)&&this.reportExceptionInDerivation(M.cause),Br()}},O.prototype.reportExceptionInDerivation=function(w){var M=this;if(this.errorHandler)this.errorHandler(w,this);else{if(ft.disableErrorBoundaries)throw w;ft.suppressReactionErrors,ft.globalReactionErrorHandlers.forEach(function(B){return B(w,M)})}},O.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Tr(),Z(this),Br()))},O.prototype.getDisposer=function(){var w=this.dispose.bind(this);return w[V]=this,w},O.prototype.toString=function(){return"Reaction["+this.name+"]"},O.prototype.trace=function(w){w===void 0&&(w=!1),function(){for(var M=[],B=0;B<arguments.length;B++)M[B]=arguments[B];var K=!1;typeof M[M.length-1]=="boolean"&&(K=M.pop());var pe=cn(M);if(!pe)return P(!1);pe.isTracing,fe.NONE,pe.isTracing=K?fe.BREAK:fe.LOG}(this,w)},O}(),zu=function(O){return O()};function Fu(){ft.inBatch>0||ft.isRunningReactions||zu(Kc)}function Kc(){ft.isRunningReactions=!0;for(var O=ft.pendingReactions,w=0;O.length>0;){++w==100&&O.splice(0);for(var M=O.splice(0),B=0,K=M.length;B<K;B++)M[B].runReaction()}ft.isRunningReactions=!1}var va=U("Reaction",so);function qc(O){var w=zu;zu=function(M){return O(function(){return w(M)})}}function $u(O){return function(){}}function Dl(){P(!1)}function li(O){return function(w,M,B){if(B){if(B.value)return{value:Xn(O,B.value),enumerable:!1,configurable:!0,writable:!0};var K=B.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xn(O,K.call(this))}}}return Zc(O).apply(this,arguments)}}function Zc(O){return function(w,M,B){Object.defineProperty(w,M,{configurable:!0,enumerable:!1,get:function(){},set:function(K){I(this,M,Bo(O,K))}})}}var Bo=function(O,w,M,B){return arguments.length===1&&typeof O=="function"?Xn(O.name||"<unnamed action>",O):arguments.length===2&&typeof w=="function"?Xn(O,w):arguments.length===1&&typeof O=="string"?li(O):B!==!0?li(w).apply(null,arguments):void I(O,w,Xn(O.name||w,M.value,this))};function Wu(O,w){return qn(typeof O=="string"?O:O.name||"<unnamed action>",typeof O=="function"?O:w,this,void 0)}function Ya(O){return typeof O=="function"&&O.isMobxAction===!0}function Uu(O,w,M){I(O,w,Xn(w,M.bind(O)))}function Gu(O,w){w===void 0&&(w=g);var M,B=w&&w.name||O.name||"Autorun@"+E();if(!w.scheduler&&!w.delay)M=new so(B,function(){this.track(Se)},w.onError,w.requiresObservable);else{var K=Jc(w),pe=!1;M=new so(B,function(){pe||(pe=!0,K(function(){pe=!1,M.isDisposed||M.track(Se)}))},w.onError,w.requiresObservable)}function Se(){O(M)}return M.schedule(),M.getDisposer()}Bo.bound=function(O,w,M,B){return B===!0?(Uu(O,w,M.value),null):M?{configurable:!0,enumerable:!1,get:function(){return Uu(this,w,M.value||M.initializer.call(this)),this[w]},set:Dl}:{enumerable:!1,configurable:!0,set:function(K){Uu(this,w,K)},get:function(){}}};var Nl=function(O){return O()};function Jc(O){return O.scheduler?O.scheduler:O.delay?function(w){return setTimeout(w,O.delay)}:Nl}function yn(O,w,M){M===void 0&&(M=g);var B,K,pe,Se=M.name||"Reaction@"+E(),$e=Bo(Se,M.onError?(B=M.onError,K=w,function(){try{return K.apply(this,arguments)}catch(Rn){B.call(this,Rn)}}):w),ct=!M.scheduler&&!M.delay,Kt=Jc(M),tt=!0,_n=!1,Ut=M.compareStructural?q.structural:M.equals||q.default,ln=new so(Se,function(){tt||ct?Jr():_n||(_n=!0,Kt(Jr))},M.onError,M.requiresObservable);function Jr(){if(_n=!1,!ln.isDisposed){var Rn=!1;ln.track(function(){var Ir=O(ln);Rn=tt||!Ut(pe,Ir),pe=Ir}),tt&&M.fireImmediately&&$e(pe,ln),tt||Rn!==!0||$e(pe,ln),tt&&(tt=!1)}}return ln.schedule(),ln.getDisposer()}function hn(O,w,M){return Qc("onBecomeUnobserved",O,w,M)}function Qc(O,w,M,B){var K=typeof B=="function"?Zr(w,M):Zr(w),pe=typeof B=="function"?B:M,Se=O+"Listeners";return K[Se]?K[Se].add(pe):K[Se]=new Set([pe]),typeof K[O]!="function"?P(!1):function(){var $e=K[Se];$e&&($e.delete(pe),$e.size===0&&delete K[Se])}}function Bi(O){var w=O.enforceActions,M=O.computedRequiresReaction,B=O.computedConfigurable,K=O.disableErrorBoundaries,pe=O.reactionScheduler,Se=O.reactionRequiresObservable,$e=O.observableRequiresReaction;if(O.isolateGlobalState===!0&&((ft.pendingReactions.length||ft.inBatch||ft.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),ya=!0,Vr&&(--Iu().__mobxInstanceCount==0&&(Iu().__mobxGlobals=void 0),ft=new Li)),w!==void 0){var ct=void 0;switch(w){case!0:case"observed":ct=!0;break;case!1:case"never":ct=!1;break;case"strict":case"always":ct="strict";break;default:P("Invalid value for 'enforceActions': '"+w+"', expected 'never', 'always' or 'observed'")}ft.enforceActions=ct,ft.allowStateChanges=ct!==!0&&ct!=="strict"}M!==void 0&&(ft.computedRequiresReaction=!!M),Se!==void 0&&(ft.reactionRequiresObservable=!!Se),$e!==void 0&&(ft.observableRequiresReaction=!!$e,ft.allowStateReads=!ft.observableRequiresReaction),B!==void 0&&(ft.computedConfigurable=!!B),K!==void 0&&(ft.disableErrorBoundaries=!!K),pe&&qc(pe)}function zo(O,w,M,B){var K=Hu(B=he(B));return ot(O),zr(O,B.name,K.enhancer),w&&es(O,w,M,K),O}function Hu(O){return O.defaultDecorator||(O.deep===!1?ze:De)}function es(O,w,M,B){var K,pe;Tr();try{var Se=ee(w);try{for(var $e=be(Se),ct=$e.next();!ct.done;ct=$e.next()){var Kt=ct.value,tt=Object.getOwnPropertyDescriptor(w,Kt),_n=(M&&Kt in M?M[Kt]:tt.get?at:B)(O,Kt,tt,!0);_n&&Object.defineProperty(O,Kt,_n)}}catch(Ut){K={error:Ut}}finally{try{ct&&!ct.done&&(pe=$e.return)&&pe.call($e)}finally{if(K)throw K.error}}}finally{Br()}}function Un(O,w){return Xu(Zr(O,w))}function Xu(O){var w,M,B={name:O.name};return O.observing&&O.observing.length>0&&(B.dependencies=(w=O.observing,M=[],w.forEach(function(K){M.indexOf(K)===-1&&M.push(K)}),M).map(Xu)),B}var ga=0;function Yu(){this.message="FLOW_CANCELLED"}function Va(O){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var w=O.name||"<unnamed flow>";return function(){var M,B=this,K=arguments,pe=++ga,Se=Bo(w+" - runid: "+pe+" - init",O).apply(B,K),$e=void 0,ct=new Promise(function(Kt,tt){var _n=0;function Ut(Rn){var Ir;$e=void 0;try{Ir=Bo(w+" - runid: "+pe+" - yield "+_n++,Se.next).call(Se,Rn)}catch(Uo){return tt(Uo)}Jr(Ir)}function ln(Rn){var Ir;$e=void 0;try{Ir=Bo(w+" - runid: "+pe+" - yield "+_n++,Se.throw).call(Se,Rn)}catch(Uo){return tt(Uo)}Jr(Ir)}function Jr(Rn){if(!Rn||typeof Rn.then!="function")return Rn.done?Kt(Rn.value):($e=Promise.resolve(Rn.value)).then(Ut,ln);Rn.then(Jr,tt)}M=tt,Ut(void 0)});return ct.cancel=Bo(w+" - runid: "+pe+" - cancel",function(){try{$e&&yr($e);var Kt=Se.return(void 0),tt=Promise.resolve(Kt.value);tt.then(T,T),yr(tt),M(new Yu)}catch(_n){M(_n)}}),ct}}function yr(O){typeof O.cancel=="function"&&O.cancel()}function Vu(O,w){if(O==null)return!1;if(w!==void 0){if(Cr(O)===!1||!O[V].values.has(w))return!1;var M=Zr(O,w);return Lo(M)}return Lo(O)}function ts(O){return arguments.length>1?P(!1):Vu(O)}function Ku(O,w){return typeof w!="string"?P(!1):Vu(O,w)}function Ka(O,w){return O!=null&&(w!==void 0?!!Cr(O)&&O[V].values.has(w):Cr(O)||!!O[V]||H(O)||va(O)||Lo(O))}function zi(O){return arguments.length!==1&&P(!1),Ka(O)}function wo(O){return Cr(O)?O[V].getKeys():Yn(O)||Er(O)?Array.from(O.keys()):qr(O)?O.map(function(w,M){return M}):P(!1)}function En(O){return Cr(O)?wo(O).map(function(w){return O[w]}):Yn(O)?wo(O).map(function(w){return O.get(w)}):Er(O)?Array.from(O.values()):qr(O)?O.slice():P(!1)}function ns(O){return Cr(O)?wo(O).map(function(w){return[w,O[w]]}):Yn(O)?wo(O).map(function(w){return[w,O.get(w)]}):Er(O)?Array.from(O.entries()):qr(O)?O.map(function(w,M){return[M,w]}):P(!1)}function kr(O,w,M){if(arguments.length!==2||Er(O))if(Cr(O)){var B=O[V],K=B.values.get(w);K?B.write(w,M):B.addObservableProp(w,M,B.defaultEnhancer)}else if(Yn(O))O.set(w,M);else if(Er(O))O.add(w);else{if(!qr(O))return P(!1);typeof w!="number"&&(w=parseInt(w,10)),j(w>=0,"Not a valid index: '"+w+"'"),Tr(),w>=O.length&&(O.length=w+1),O[w]=M,Br()}else{Tr();var pe=w;try{for(var Se in pe)kr(O,Se,pe[Se])}finally{Br()}}}function rs(O,w,M,B){return typeof M=="function"?function(K,pe,Se,$e){return Po(K,pe).observe(Se,$e)}(O,w,M,B):function(K,pe,Se){return Po(K).observe(pe,Se)}(O,w,M)}Yu.prototype=Object.create(Error.prototype);var os={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function xr(O,w,M,B){return B.detectCycles&&O.set(w,M),M}function Dr(O,w,M){if(!w.recurseEverything&&!zi(O)||typeof O!="object")return O;if(O===null)return null;if(O instanceof Date)return O;if(Io(O))return Dr(O.get(),w,M);if(zi(O)&&wo(O),w.detectCycles===!0&&O!==null&&M.has(O))return M.get(O);if(qr(O)||Array.isArray(O)){var B=xr(M,O,[],w),K=O.map(function(Ut){return Dr(Ut,w,M)});B.length=K.length;for(var pe=0,Se=K.length;pe<Se;pe++)B[pe]=K[pe];return B}if(Er(O)||Object.getPrototypeOf(O)===Set.prototype){if(w.exportMapsAsObjects===!1){var $e=xr(M,O,new Set,w);return O.forEach(function(Ut){$e.add(Dr(Ut,w,M))}),$e}var ct=xr(M,O,[],w);return O.forEach(function(Ut){ct.push(Dr(Ut,w,M))}),ct}if(Yn(O)||Object.getPrototypeOf(O)===Map.prototype){if(w.exportMapsAsObjects===!1){var Kt=xr(M,O,new Map,w);return O.forEach(function(Ut,ln){Kt.set(ln,Dr(Ut,w,M))}),Kt}var tt=xr(M,O,{},w);return O.forEach(function(Ut,ln){tt[ln]=Dr(Ut,w,M)}),tt}var _n=xr(M,O,{},w);return ae(O).forEach(function(Ut){_n[Ut]=Dr(O[Ut],w,M)}),_n}function qu(O,w){var M;return typeof w=="boolean"&&(w={detectCycles:w}),w||(w=os),w.detectCycles=w.detectCycles===void 0?w.recurseEverything===!0:w.detectCycles===!0,w.detectCycles&&(M=new Map),Dr(O,w,M)}function cn(O){switch(O.length){case 0:return ft.trackingDerivation;case 1:return Zr(O[0]);case 2:return Zr(O[0],O[1])}}function or(O,w){w===void 0&&(w=void 0),Tr();try{return O.apply(w)}finally{Br()}}function qa(O,w,M){return arguments.length===1||w&&typeof w=="object"?Zu(O,w):is(O,w,M||{})}function is(O,w,M){var B;typeof M.timeout=="number"&&(B=setTimeout(function(){if(!pe[V].isDisposed){pe();var Se=new Error("WHEN_TIMEOUT");if(!M.onError)throw Se;M.onError(Se)}},M.timeout)),M.name=M.name||"When@"+E();var K=Xn(M.name+"-effect",w),pe=Gu(function(Se){O()&&(Se.dispose(),B&&clearTimeout(B),K())},M);return pe}function Zu(O,w){var M,B=new Promise(function(K,pe){var Se=is(O,K,Ee(Ee({},w),{onError:pe}));M=function(){Se(),pe("WHEN_CANCELLED")}});return B.cancel=M,B}function Za(O){return O[V]}function xo(O){return typeof O=="string"||typeof O=="number"||typeof O=="symbol"}var Fo={has:function(O,w){if(w===V||w==="constructor"||w===je)return!0;var M=Za(O);return xo(w)?M.has(w):w in O},get:function(O,w){if(w===V||w==="constructor"||w===je)return O[w];var M=Za(O),B=M.values.get(w);if(B instanceof z){var K=B.get();return K===void 0&&M.has(w),K}return xo(w)&&M.has(w),O[w]},set:function(O,w,M){return!!xo(w)&&(kr(O,w,M),!0)},deleteProperty:function(O,w){return!!xo(w)&&(Za(O).remove(w),!0)},ownKeys:function(O){return Za(O).keysAtom.reportObserved(),Reflect.ownKeys(O)},preventExtensions:function(O){return P("Dynamic observable objects cannot be frozen"),!1}};function Fi(O){var w=new Proxy(O,Fo);return O[V].proxy=w,w}function Nr(O){return O.interceptors!==void 0&&O.interceptors.length>0}function $o(O,w){var M=O.interceptors||(O.interceptors=[]);return M.push(w),k(function(){var B=M.indexOf(w);B!==-1&&M.splice(B,1)})}function on(O,w){var M=oe();try{for(var B=Fe(O.interceptors||[]),K=0,pe=B.length;K<pe&&(j(!(w=B[K](w))||w.type,"Intercept handlers should return nothing or a change object"),w);K++);return w}finally{_e(M)}}function Rr(O){return O.changeListeners!==void 0&&O.changeListeners.length>0}function Eo(O,w){var M=O.changeListeners||(O.changeListeners=[]);return M.push(w),k(function(){var B=M.indexOf(w);B!==-1&&M.splice(B,1)})}function sr(O,w){var M=oe(),B=O.changeListeners;if(B){for(var K=0,pe=(B=B.slice()).length;K<pe;K++)B[K](w);_e(M)}}var Ja={get:function(O,w){return w===V?O[V]:w==="length"?O[V].getArrayLength():typeof w=="number"?zn.get.call(O,w):typeof w!="string"||isNaN(w)?zn.hasOwnProperty(w)?zn[w]:O[w]:zn.get.call(O,parseInt(w))},set:function(O,w,M){return w==="length"&&O[V].setArrayLength(M),typeof w=="number"&&zn.set.call(O,w,M),typeof w=="symbol"||isNaN(w)?O[w]=M:zn.set.call(O,parseInt(w),M),!0},preventExtensions:function(O){return P("Observable arrays cannot be frozen"),!1}};function ba(O,w,M,B){M===void 0&&(M="ObservableArray@"+E()),B===void 0&&(B=!1);var K,pe,Se,$e=new Ju(M,w,B);K=$e.values,pe=V,Se=$e,Object.defineProperty(K,pe,{enumerable:!1,writable:!1,configurable:!0,value:Se});var ct=new Proxy($e.values,Ja);if($e.proxy=ct,O&&O.length){var Kt=Lt(!0);$e.spliceWithArray(0,0,O),gn(Kt)}return ct}var Ju=function(){function O(w,M,B){this.owned=B,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new z(w||"ObservableArray@"+E()),this.enhancer=function(K,pe){return M(K,pe,w+"[..]")}}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.dehanceValues=function(w){return this.dehancer!==void 0&&w.length>0?w.map(this.dehancer):w},O.prototype.intercept=function(w){return $o(this,w)},O.prototype.observe=function(w,M){return M===void 0&&(M=!1),M&&w({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Eo(this,w)},O.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},O.prototype.setArrayLength=function(w){if(typeof w!="number"||w<0)throw new Error("[mobx.array] Out of range: "+w);var M=this.values.length;if(w!==M)if(w>M){for(var B=new Array(w-M),K=0;K<w-M;K++)B[K]=void 0;this.spliceWithArray(M,0,B)}else this.spliceWithArray(w,M-w)},O.prototype.updateArrayLength=function(w,M){if(w!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=M},O.prototype.spliceWithArray=function(w,M,B){var K=this;It(this.atom);var pe=this.values.length;if(w===void 0?w=0:w>pe?w=pe:w<0&&(w=Math.max(0,pe+w)),M=arguments.length===1?pe-w:M==null?0:Math.max(0,Math.min(M,pe-w)),B===void 0&&(B=m),Nr(this)){var Se=on(this,{object:this.proxy,type:"splice",index:w,removedCount:M,added:B});if(!Se)return m;M=Se.removedCount,B=Se.added}B=B.length===0?B:B.map(function(ct){return K.enhancer(ct,void 0)});var $e=this.spliceItemsIntoValues(w,M,B);return M===0&&B.length===0||this.notifyArraySplice(w,B,$e),this.dehanceValues($e)},O.prototype.spliceItemsIntoValues=function(w,M,B){var K;if(B.length<1e4)return(K=this.values).splice.apply(K,Fe([w,M],B));var pe=this.values.slice(w,w+M);return this.values=this.values.slice(0,w).concat(B,this.values.slice(w+M)),pe},O.prototype.notifyArrayChildUpdate=function(w,M,B){var K=!this.owned&&!1,pe=Rr(this),Se=pe||K?{object:this.proxy,type:"update",index:w,newValue:M,oldValue:B}:null;this.atom.reportChanged(),pe&&sr(this,Se)},O.prototype.notifyArraySplice=function(w,M,B){var K=!this.owned&&!1,pe=Rr(this),Se=pe||K?{object:this.proxy,type:"splice",index:w,removed:B,added:M,removedCount:B.length,addedCount:M.length}:null;this.atom.reportChanged(),pe&&sr(this,Se)},O}(),zn={intercept:function(O){return this[V].intercept(O)},observe:function(O,w){return w===void 0&&(w=!1),this[V].observe(O,w)},clear:function(){return this.splice(0)},replace:function(O){var w=this[V];return w.spliceWithArray(0,w.values.length,O)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(O,w){for(var M=[],B=2;B<arguments.length;B++)M[B-2]=arguments[B];var K=this[V];switch(arguments.length){case 0:return[];case 1:return K.spliceWithArray(O);case 2:return K.spliceWithArray(O,w)}return K.spliceWithArray(O,w,M)},spliceWithArray:function(O,w,M){return this[V].spliceWithArray(O,w,M)},push:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[V];return M.spliceWithArray(M.values.length,0,O),M.values.length},pop:function(){return this.splice(Math.max(this[V].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var O=[],w=0;w<arguments.length;w++)O[w]=arguments[w];var M=this[V];return M.spliceWithArray(0,0,O),M.values.length},reverse:function(){var O=this.slice();return O.reverse.apply(O,arguments)},sort:function(O){var w=this.slice();return w.sort.apply(w,arguments)},remove:function(O){var w=this[V],M=w.dehanceValues(w.values).indexOf(O);return M>-1&&(this.splice(M,1),!0)},get:function(O){var w=this[V];if(w&&O<w.values.length)return w.atom.reportObserved(),w.dehanceValue(w.values[O])},set:function(O,w){var M=this[V],B=M.values;if(O<B.length){It(M.atom);var K=B[O];if(Nr(M)){var pe=on(M,{type:"update",object:M.proxy,index:O,newValue:w});if(!pe)return;w=pe.newValue}(w=M.enhancer(w,K))!==K&&(B[O]=w,M.notifyArrayChildUpdate(O,w,K))}else{if(O!==B.length)throw new Error("[mobx.array] Index out of bounds, "+O+" is larger than "+B.length);M.spliceWithArray(O,0,[w])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(O){typeof Array.prototype[O]=="function"&&(zn[O]=function(){var w=this[V];w.atom.reportObserved();var M=w.dehanceValues(w.values);return M[O].apply(M,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(O){typeof Array.prototype[O]=="function"&&(zn[O]=function(w,M){var B=this,K=this[V];return K.atom.reportObserved(),K.dehanceValues(K.values)[O](function(pe,Se){return w.call(M,pe,Se,B)},M)})}),["reduce","reduceRight"].forEach(function(O){zn[O]=function(){var w=this,M=this[V];M.atom.reportObserved();var B=arguments[0];return arguments[0]=function(K,pe,Se){return pe=M.dehanceValue(pe),B(K,pe,Se,w)},M.values[O].apply(M.values,arguments)}});var Qa,Wo=U("ObservableArrayAdministration",Ju);function qr(O){return C(O)&&Wo(O[V])}var Qu,Rl={},ec=function(){function O(w,M,B){if(M===void 0&&(M=Ze),B===void 0&&(B="ObservableMap@"+E()),this.enhancer=M,this.name=B,this[Qa]=Rl,this._keysAtom=Y(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(w)}return O.prototype._has=function(w){return this._data.has(w)},O.prototype.has=function(w){var M=this;if(!ft.trackingDerivation)return this._has(w);var B=this._hasMap.get(w);if(!B){var K=B=new Bn(this._has(w),mt,this.name+"."+ie(w)+"?",!1);this._hasMap.set(w,K),hn(K,function(){return M._hasMap.delete(w)})}return B.get()},O.prototype.set=function(w,M){var B=this._has(w);if(Nr(this)){var K=on(this,{type:B?"update":"add",object:this,newValue:M,name:w});if(!K)return this;M=K.newValue}return B?this._updateValue(w,M):this._addValue(w,M),this},O.prototype.delete=function(w){var M=this;if(It(this._keysAtom),Nr(this)&&!(K=on(this,{type:"delete",object:this,name:w})))return!1;if(this._has(w)){var B=Rr(this),K=B?{type:"delete",object:this,oldValue:this._data.get(w).value,name:w}:null;return or(function(){M._keysAtom.reportChanged(),M._updateHasMapEntry(w,!1),M._data.get(w).setNewValue(void 0),M._data.delete(w)}),B&&sr(this,K),!0}return!1},O.prototype._updateHasMapEntry=function(w,M){var B=this._hasMap.get(w);B&&B.setNewValue(M)},O.prototype._updateValue=function(w,M){var B=this._data.get(w);if((M=B.prepareNewValue(M))!==ft.UNCHANGED){var K=Rr(this),pe=K?{type:"update",object:this,oldValue:B.value,name:w,newValue:M}:null;B.setNewValue(M),K&&sr(this,pe)}},O.prototype._addValue=function(w,M){var B=this;It(this._keysAtom),or(function(){var Se=new Bn(M,B.enhancer,B.name+"."+ie(w),!1);B._data.set(w,Se),M=Se.value,B._updateHasMapEntry(w,!0),B._keysAtom.reportChanged()});var K=Rr(this),pe=K?{type:"add",object:this,name:w,newValue:M}:null;K&&sr(this,pe)},O.prototype.get=function(w){return this.has(w)?this.dehanceValue(this._data.get(w).get()):this.dehanceValue(void 0)},O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},O.prototype.values=function(){var w=this,M=this.keys();return Qt({next:function(){var B=M.next(),K=B.done,pe=B.value;return{done:K,value:K?void 0:w.get(pe)}}})},O.prototype.entries=function(){var w=this,M=this.keys();return Qt({next:function(){var B=M.next(),K=B.done,pe=B.value;return{done:K,value:K?void 0:[pe,w.get(pe)]}}})},O.prototype[Qa=V,Symbol.iterator]=function(){return this.entries()},O.prototype.forEach=function(w,M){var B,K;try{for(var pe=be(this),Se=pe.next();!Se.done;Se=pe.next()){var $e=Ae(Se.value,2),ct=$e[0],Kt=$e[1];w.call(M,Kt,ct,this)}}catch(tt){B={error:tt}}finally{try{Se&&!Se.done&&(K=pe.return)&&K.call(pe)}finally{if(B)throw B.error}}},O.prototype.merge=function(w){var M=this;return Yn(w)&&(w=w.toJS()),or(function(){var B=Lt(!0);try{N(w)?ae(w).forEach(function(K){return M.set(K,w[K])}):Array.isArray(w)?w.forEach(function(K){var pe=Ae(K,2),Se=pe[0],$e=pe[1];return M.set(Se,$e)}):G(w)?(w.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+w.constructor.name),w.forEach(function(K,pe){return M.set(pe,K)})):w!=null&&P("Cannot initialize map from "+w)}finally{gn(B)}}),this},O.prototype.clear=function(){var w=this;or(function(){de(function(){var M,B;try{for(var K=be(w.keys()),pe=K.next();!pe.done;pe=K.next()){var Se=pe.value;w.delete(Se)}}catch($e){M={error:$e}}finally{try{pe&&!pe.done&&(B=K.return)&&B.call(K)}finally{if(M)throw M.error}}})})},O.prototype.replace=function(w){var M=this;return or(function(){var B,K,pe,Se,$e=function(Sr){if(G(Sr)||Yn(Sr))return Sr;if(Array.isArray(Sr))return new Map(Sr);if(N(Sr)){var _a=new Map;for(var $i in Sr)_a.set($i,Sr[$i]);return _a}return P("Cannot convert to map from '"+Sr+"'")}(w),ct=new Map,Kt=!1;try{for(var tt=be(M._data.keys()),_n=tt.next();!_n.done;_n=tt.next()){var Ut=_n.value;if(!$e.has(Ut))if(M.delete(Ut))Kt=!0;else{var ln=M._data.get(Ut);ct.set(Ut,ln)}}}catch(Sr){B={error:Sr}}finally{try{_n&&!_n.done&&(K=tt.return)&&K.call(tt)}finally{if(B)throw B.error}}try{for(var Jr=be($e.entries()),Rn=Jr.next();!Rn.done;Rn=Jr.next()){var Ir=Ae(Rn.value,2),Uo=(Ut=Ir[0],ln=Ir[1],M._data.has(Ut));if(M.set(Ut,ln),M._data.has(Ut)){var Go=M._data.get(Ut);ct.set(Ut,Go),Uo||(Kt=!0)}}}catch(Sr){pe={error:Sr}}finally{try{Rn&&!Rn.done&&(Se=Jr.return)&&Se.call(Jr)}finally{if(pe)throw pe.error}}if(!Kt)if(M._data.size!==ct.size)M._keysAtom.reportChanged();else for(var ma=M._data.keys(),nc=ct.keys(),di=ma.next(),tu=nc.next();!di.done;){if(di.value!==tu.value){M._keysAtom.reportChanged();break}di=ma.next(),tu=nc.next()}M._data=ct}),this},Object.defineProperty(O.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.toPOJO=function(){var w,M,B={};try{for(var K=be(this),pe=K.next();!pe.done;pe=K.next()){var Se=Ae(pe.value,2),$e=Se[0],ct=Se[1];B[typeof $e=="symbol"?$e:ie($e)]=ct}}catch(Kt){w={error:Kt}}finally{try{pe&&!pe.done&&(M=K.return)&&M.call(K)}finally{if(w)throw w.error}}return B},O.prototype.toJS=function(){return new Map(this)},O.prototype.toJSON=function(){return this.toPOJO()},O.prototype.toString=function(){var w=this;return this.name+"[{ "+Array.from(this.keys()).map(function(M){return ie(M)+": "+w.get(M)}).join(", ")+" }]"},O.prototype.observe=function(w,M){return Eo(this,w)},O.prototype.intercept=function(w){return $o(this,w)},O}(),Yn=U("ObservableMap",ec),fi={},So=function(){function O(w,M,B){if(M===void 0&&(M=Ze),B===void 0&&(B="ObservableSet@"+E()),this.name=B,this[Qu]=fi,this._data=new Set,this._atom=Y(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(K,pe){return M(K,pe,B)},w&&this.replace(w)}return O.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},O.prototype.clear=function(){var w=this;or(function(){de(function(){var M,B;try{for(var K=be(w._data.values()),pe=K.next();!pe.done;pe=K.next()){var Se=pe.value;w.delete(Se)}}catch($e){M={error:$e}}finally{try{pe&&!pe.done&&(B=K.return)&&B.call(K)}finally{if(M)throw M.error}}})})},O.prototype.forEach=function(w,M){var B,K;try{for(var pe=be(this),Se=pe.next();!Se.done;Se=pe.next()){var $e=Se.value;w.call(M,$e,$e,this)}}catch(ct){B={error:ct}}finally{try{Se&&!Se.done&&(K=pe.return)&&K.call(pe)}finally{if(B)throw B.error}}},Object.defineProperty(O.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),O.prototype.add=function(w){var M=this;if(It(this._atom),Nr(this)&&!(K=on(this,{type:"add",object:this,newValue:w})))return this;if(!this.has(w)){or(function(){M._data.add(M.enhancer(w,void 0)),M._atom.reportChanged()});var B=Rr(this),K=B?{type:"add",object:this,newValue:w}:null;B&&sr(this,K)}return this},O.prototype.delete=function(w){var M=this;if(Nr(this)&&!(K=on(this,{type:"delete",object:this,oldValue:w})))return!1;if(this.has(w)){var B=Rr(this),K=B?{type:"delete",object:this,oldValue:w}:null;return or(function(){M._atom.reportChanged(),M._data.delete(w)}),B&&sr(this,K),!0}return!1},O.prototype.has=function(w){return this._atom.reportObserved(),this._data.has(this.dehanceValue(w))},O.prototype.entries=function(){var w=0,M=Array.from(this.keys()),B=Array.from(this.values());return Qt({next:function(){var K=w;return w+=1,K<B.length?{value:[M[K],B[K]],done:!1}:{done:!0}}})},O.prototype.keys=function(){return this.values()},O.prototype.values=function(){this._atom.reportObserved();var w=this,M=0,B=Array.from(this._data.values());return Qt({next:function(){return M<B.length?{value:w.dehanceValue(B[M++]),done:!1}:{done:!0}}})},O.prototype.replace=function(w){var M=this;return Er(w)&&(w=w.toJS()),or(function(){var B=Lt(!0);try{Array.isArray(w)||te(w)?(M.clear(),w.forEach(function(K){return M.add(K)})):w!=null&&P("Cannot initialize set from "+w)}finally{gn(B)}}),this},O.prototype.observe=function(w,M){return Eo(this,w)},O.prototype.intercept=function(w){return $o(this,w)},O.prototype.toJS=function(){return new Set(this)},O.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},O.prototype[Qu=V,Symbol.iterator]=function(){return this.values()},O}(),Er=U("ObservableSet",So),tc=function(){function O(w,M,B,K){M===void 0&&(M=new Map),this.target=w,this.values=M,this.name=B,this.defaultEnhancer=K,this.keysAtom=new z(B+".keys")}return O.prototype.read=function(w){return this.values.get(w).get()},O.prototype.write=function(w,M){var B=this.target,K=this.values.get(w);if(K instanceof Oo)K.set(M);else{if(Nr(this)){if(!(Se=on(this,{type:"update",object:this.proxy||B,name:w,newValue:M})))return;M=Se.newValue}if((M=K.prepareNewValue(M))!==ft.UNCHANGED){var pe=Rr(this),Se=pe?{type:"update",object:this.proxy||B,oldValue:K.value,name:w,newValue:M}:null;K.setNewValue(M),pe&&sr(this,Se)}}},O.prototype.has=function(w){var M=this.pendingKeys||(this.pendingKeys=new Map),B=M.get(w);if(B)return B.get();var K=!!this.values.get(w);return B=new Bn(K,mt,this.name+"."+ie(w)+"?",!1),M.set(w,B),B.get()},O.prototype.addObservableProp=function(w,M,B){B===void 0&&(B=this.defaultEnhancer);var K=this.target;if(Nr(this)){var pe=on(this,{object:this.proxy||K,name:w,type:"add",newValue:M});if(!pe)return;M=pe.newValue}var Se=new Bn(M,B,this.name+"."+ie(w),!1);this.values.set(w,Se),M=Se.value,Object.defineProperty(K,w,function($e){return pi[$e]||(pi[$e]={configurable:!0,enumerable:!0,get:function(){return this[V].read($e)},set:function(ct){this[V].write($e,ct)}})}(w)),this.notifyPropertyAddition(w,M)},O.prototype.addComputedProp=function(w,M,B){var K,pe,Se,$e=this.target;B.name=B.name||this.name+"."+ie(M),this.values.set(M,new Oo(B)),(w===$e||(K=w,pe=M,!(Se=Object.getOwnPropertyDescriptor(K,pe))||Se.configurable!==!1&&Se.writable!==!1))&&Object.defineProperty(w,M,function(ct){return eu[ct]||(eu[ct]={configurable:ft.computedConfigurable,enumerable:!1,get:function(){return jo(this).read(ct)},set:function(Kt){jo(this).write(ct,Kt)}})}(M))},O.prototype.remove=function(w){if(this.values.has(w)){var M=this.target;if(Nr(this)&&!(ct=on(this,{object:this.proxy||M,name:w,type:"remove"})))return;try{Tr();var B=Rr(this),K=!1,pe=this.values.get(w),Se=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(w),this.pendingKeys){var $e=this.pendingKeys.get(w);$e&&$e.set(!1)}delete this.target[w];var ct=B?{type:"remove",object:this.proxy||M,oldValue:Se,name:w}:null;B&&sr(this,ct)}finally{Br()}}},O.prototype.illegalAccess=function(w,M){},O.prototype.observe=function(w,M){return Eo(this,w)},O.prototype.intercept=function(w){return $o(this,w)},O.prototype.notifyPropertyAddition=function(w,M){var B=Rr(this),K=B?{type:"add",object:this.proxy||this.target,name:w,newValue:M}:null;if(B&&sr(this,K),this.pendingKeys){var pe=this.pendingKeys.get(w);pe&&pe.set(!0)}this.keysAtom.reportChanged()},O.prototype.getKeys=function(){var w,M;this.keysAtom.reportObserved();var B=[];try{for(var K=be(this.values),pe=K.next();!pe.done;pe=K.next()){var Se=Ae(pe.value,2),$e=Se[0];Se[1]instanceof Bn&&B.push($e)}}catch(ct){w={error:ct}}finally{try{pe&&!pe.done&&(M=K.return)&&M.call(K)}finally{if(w)throw w.error}}return B},O}();function zr(O,w,M){if(w===void 0&&(w=""),M===void 0&&(M=Ze),Object.prototype.hasOwnProperty.call(O,V))return O[V];N(O)||(w=(O.constructor.name||"ObservableObject")+"@"+E()),w||(w="ObservableObject@"+E());var B=new tc(O,new Map,ie(w),M);return I(O,V,B),B}var pi=Object.create(null),eu=Object.create(null);function jo(O){var w=O[V];return w||(ot(O),O[V])}var Fr=U("ObservableObjectAdministration",tc);function Cr(O){return!!C(O)&&(ot(O),Fr(O[V]))}function Zr(O,w){if(typeof O=="object"&&O!==null){if(qr(O))return w!==void 0&&P(!1),O[V].atom;if(Er(O))return O[V];if(Yn(O)){var M=O;return w===void 0?M._keysAtom:((B=M._data.get(w)||M._hasMap.get(w))||P(!1),B)}var B;if(ot(O),w&&!O[V]&&O[w],Cr(O))return w?((B=O[V].values.get(w))||P(!1),B):P(!1);if(H(O)||Lo(O)||va(O))return O}else if(typeof O=="function"&&va(O[V]))return O[V];return P(!1)}function Po(O,w){return O||P("Expecting some object"),w!==void 0?Po(Zr(O,w)):H(O)||Lo(O)||va(O)||Yn(O)||Er(O)?O:(ot(O),O[V]?O[V]:void P(!1))}var we=Object.prototype.toString;function Ne(O,w,M){return M===void 0&&(M=-1),Ie(O,w,M)}function Ie(O,w,M,B,K){if(O===w)return O!==0||1/O==1/w;if(O==null||w==null)return!1;if(O!=O)return w!=w;var pe=typeof O;if(pe!=="function"&&pe!=="object"&&typeof w!="object")return!1;var Se=we.call(O);if(Se!==we.call(w))return!1;switch(Se){case"[object RegExp]":case"[object String]":return""+O==""+w;case"[object Number]":return+O!=+O?+w!=+w:+O==0?1/+O==1/w:+O==+w;case"[object Date]":case"[object Boolean]":return+O==+w;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(O)===Symbol.valueOf.call(w);case"[object Map]":case"[object Set]":M>=0&&M++}O=et(O),w=et(w);var $e=Se==="[object Array]";if(!$e){if(typeof O!="object"||typeof w!="object")return!1;var ct=O.constructor,Kt=w.constructor;if(ct!==Kt&&!(typeof ct=="function"&&ct instanceof ct&&typeof Kt=="function"&&Kt instanceof Kt)&&"constructor"in O&&"constructor"in w)return!1}if(M===0)return!1;M<0&&(M=-1),K=K||[];for(var tt=(B=B||[]).length;tt--;)if(B[tt]===O)return K[tt]===w;if(B.push(O),K.push(w),$e){if((tt=O.length)!==w.length)return!1;for(;tt--;)if(!Ie(O[tt],w[tt],M-1,B,K))return!1}else{var _n=Object.keys(O),Ut=void 0;if(tt=_n.length,Object.keys(w).length!==tt)return!1;for(;tt--;)if(!$t(w,Ut=_n[tt])||!Ie(O[Ut],w[Ut],M-1,B,K))return!1}return B.pop(),K.pop(),!0}function et(O){return qr(O)?O.slice():G(O)||Yn(O)||te(O)||Er(O)?Array.from(O.entries()):O}function $t(O,w){return Object.prototype.hasOwnProperty.call(O,w)}function Qt(O){return O[Symbol.iterator]=Pn,O}function Pn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:$u,extras:{getDebugName:function(O,w){return(w!==void 0?Zr(O,w):Cr(O)||Yn(O)||Er(O)?Po(O):Zr(O)).name}},$mobx:V})}).call(this,o(163),o(68))},function(a,f,o){var d=o(113),h=o(42),m=o(179);d||h(Object.prototype,"toString",m,{unsafe:!0})},function(a,f,o){var d=o(41),h=o(100),m=o(80),g=o(58),E=o(116),P="Array Iterator",j=g.set,k=g.getterFor(P);a.exports=E(Array,"Array",function(T,C){j(this,{type:P,target:d(T),index:0,kind:C})},function(){var T=k(this),C=T.target,N=T.kind,I=T.index++;return!C||I>=C.length?(T.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:I,done:!1}:N=="values"?{value:C[I],done:!1}:{value:[I,C[I]],done:!1}},"values"),m.Arguments=m.Array,h("keys"),h("values"),h("entries")},function(a,f,o){var d=o(16),h=o(7),m=o(46),g=o(76),E=o(34),P=o(15),j=o(71),k=o(36),T=o(108),C=o(18),N=o(35),I=o(96),U=o(30),G=o(33),te=o(54),ae=o(87),ie=o(32),Q=o(40),ee=o(41),V=o(86),z=o(39),H=o(69),Y=o(60),q=o(77),ue=o(74),Ee=o(139),be=o(112),Ae=o(50),Fe=o(38),je=o(84),ve=o(98),Pe=o(42),Me=o(89),We=o(93),ot=o(72),xt=o(90),Ye=o(28),Ze=o(140),mt=o(141),se=o(78),ce=o(58),he=o(79).forEach,De=We("hidden"),Ge="Symbol",ze=Ye("toPrimitive"),Et=ce.set,Rt=ce.getterFor(Ge),At=Object.prototype,gt=h.Symbol,Te=gt&&gt.prototype,lt=h.TypeError,fe=h.QObject,at=m("JSON","stringify"),zt=Ae.f,dn=Fe.f,Ft=Ee.f,rn=je.f,mn=P([].push),Dn=Me("symbols"),It=Me("op-symbols"),Hn=Me("string-to-symbol-registry"),Z=Me("symbol-to-string-registry"),de=Me("wks"),oe=!fe||!fe.prototype||!fe.prototype.findChild,_e=k&&C(function(){return Y(dn({},"a",{get:function(){return dn(this,"a",{value:7}).a}})).a!=7})?function(ut,_t,St){var Lt=zt(At,_t);Lt&&delete At[_t],dn(ut,_t,St),Lt&&ut!==At&&dn(At,_t,Lt)}:dn,Ve=function(ut,_t){var St=Dn[ut]=Y(Te);return Et(St,{type:Ge,tag:ut,description:_t}),k||(St.description=_t),St},Ke=function(ut,_t,St){ut===At&&Ke(It,_t,St),ie(ut);var Lt=V(_t);return ie(St),N(Dn,Lt)?(St.enumerable?(N(ut,De)&&ut[De][Lt]&&(ut[De][Lt]=!1),St=Y(St,{enumerable:H(0,!1)})):(N(ut,De)||dn(ut,De,H(1,{})),ut[De][Lt]=!0),_e(ut,Lt,St)):dn(ut,Lt,St)},pt=function(ut,_t){ie(ut);var St=ee(_t),Lt=q(St).concat(Xn(St));return he(Lt,function(gn){k&&!E(Yt,St,gn)||Ke(ut,gn,St[gn])}),ut},Yt=function(ut){var _t=V(ut),St=E(rn,this,_t);return!(this===At&&N(Dn,_t)&&!N(It,_t))&&(!(St||!N(this,_t)||!N(Dn,_t)||N(this,De)&&this[De][_t])||St)},rr=function(ut,_t){var St=ee(ut),Lt=V(_t);if(St!==At||!N(Dn,Lt)||N(It,Lt)){var gn=zt(St,Lt);return!gn||!N(Dn,Lt)||N(St,De)&&St[De][Lt]||(gn.enumerable=!0),gn}},hr=function(ut){var _t=Ft(ee(ut)),St=[];return he(_t,function(Lt){N(Dn,Lt)||N(ot,Lt)||mn(St,Lt)}),St},Xn=function(ut){var _t=ut===At,St=Ft(_t?It:ee(ut)),Lt=[];return he(St,function(gn){!N(Dn,gn)||_t&&!N(At,gn)||mn(Lt,Dn[gn])}),Lt};if(T||(gt=function(){if(te(Te,this))throw lt("Symbol is not a constructor");var ut=arguments.length&&arguments[0]!==void 0?z(arguments[0]):void 0,_t=xt(ut),St=function(Lt){this===At&&E(St,It,Lt),N(this,De)&&N(this[De],_t)&&(this[De][_t]=!1),_e(this,_t,H(1,Lt))};return k&&oe&&_e(At,_t,{configurable:!0,set:St}),Ve(_t,ut)},Pe(Te=gt.prototype,"toString",function(){return Rt(this).tag}),Pe(gt,"withoutSetter",function(ut){return Ve(xt(ut),ut)}),je.f=Yt,Fe.f=Ke,Ae.f=rr,ue.f=Ee.f=hr,be.f=Xn,Ze.f=function(ut){return Ve(Ye(ut),ut)},k&&(dn(Te,"description",{configurable:!0,get:function(){return Rt(this).description}}),j||Pe(At,"propertyIsEnumerable",Yt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:gt}),he(q(de),function(ut){mt(ut)}),d({target:Ge,stat:!0,forced:!T},{for:function(ut){var _t=z(ut);if(N(Hn,_t))return Hn[_t];var St=gt(_t);return Hn[_t]=St,Z[St]=_t,St},keyFor:function(ut){if(!ae(ut))throw lt(ut+" is not a symbol");if(N(Z,ut))return Z[ut]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),d({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(ut,_t){return _t===void 0?Y(ut):pt(Y(ut),_t)},defineProperty:Ke,defineProperties:pt,getOwnPropertyDescriptor:rr}),d({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:hr,getOwnPropertySymbols:Xn}),d({target:"Object",stat:!0,forced:C(function(){be.f(1)})},{getOwnPropertySymbols:function(ut){return be.f(Q(ut))}}),at&&d({target:"JSON",stat:!0,forced:!T||C(function(){var ut=gt();return at([ut])!="[null]"||at({a:ut})!="{}"||at(Object(ut))!="{}"})},{stringify:function(ut,_t,St){var Lt=ve(arguments),gn=_t;if((G(_t)||ut!==void 0)&&!ae(ut))return I(_t)||(_t=function(Bn,Io){if(U(gn)&&(Io=E(gn,this,Bn,Io)),!ae(Io))return Io}),Lt[1]=_t,g(at,null,Lt)}}),!Te[ze]){var qn=Te.valueOf;Pe(Te,ze,function(ut){return E(qn,this)})}se(gt,Ge),ot[De]=!0},function(a,f,o){var d=o(7),h=o(152),m=o(153),g=o(3),E=o(57),P=o(28),j=P("iterator"),k=P("toStringTag"),T=g.values,C=function(I,U){if(I){if(I[j]!==T)try{E(I,j,T)}catch(te){I[j]=T}if(I[k]||E(I,k,U),h[U]){for(var G in g)if(I[G]!==g[G])try{E(I,G,g[G])}catch(te){I[G]=g[G]}}}};for(var N in h)C(d[N]&&d[N].prototype,N);C(m,"DOMTokenList")},function(a,f,o){var d=o(151).charAt,h=o(39),m=o(58),g=o(116),E="String Iterator",P=m.set,j=m.getterFor(E);g(String,"String",function(k){P(this,{type:E,string:h(k),index:0})},function(){var k,T=j(this),C=T.string,N=T.index;return N>=C.length?{value:void 0,done:!0}:(k=d(C,N),T.index+=k.length,{value:k,done:!1})})},function(a,f,o){(function(d){var h=function(m){return m&&m.Math==Math&&m};a.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof d=="object"&&d)||function(){return this}()||Function("return this")()}).call(this,o(68))},function(a,f,o){var d=o(16),h=o(36),m=o(7),g=o(15),E=o(35),P=o(30),j=o(54),k=o(39),T=o(38).f,C=o(134),N=m.Symbol,I=N&&N.prototype;if(h&&P(N)&&(!("description"in I)||N().description!==void 0)){var U={},G=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),H=j(I,this)?new N(z):z===void 0?N():N(z);return z===""&&(U[H]=!0),H};C(G,N),G.prototype=I,I.constructor=G;var te=String(N("test"))=="Symbol(test)",ae=g(I.toString),ie=g(I.valueOf),Q=/^Symbol\((.*)\)[^)]+$/,ee=g("".replace),V=g("".slice);T(I,"description",{configurable:!0,get:function(){var z=ie(this),H=ae(z);if(E(U,z))return"";var Y=te?V(H,7,-1):ee(H,Q,"$1");return Y===""?void 0:Y}}),d({global:!0,forced:!0},{Symbol:G})}},function(a,f,o){o(141)("iterator")},function(a,f,o){o.d(f,"a",function(){return g.a}),o.d(f,"c",function(){return g.e}),o.d(f,"h",function(){return Q}),o.d(f,"i",function(){return te}),o.d(f,"j",function(){return U}),o.d(f,"b",function(){return Ae}),o.d(f,"e",function(){return Pe}),o.d(f,"f",function(){return Fe}),o.d(f,"g",function(){return Dn});var d,h,m,g=o(0),E=0,P=[],j=g.i.__b,k=g.i.__r,T=g.i.diffed,C=g.i.__c,N=g.i.unmount;function I(Z,de){g.i.__h&&g.i.__h(h,Z,E||de),E=0;var oe=h.__H||(h.__H={__:[],__h:[]});return Z>=oe.__.length&&oe.__.push({}),oe.__[Z]}function U(Z){return E=1,G(ue,Z)}function G(Z,de,oe){var _e=I(d++,2);return _e.t=Z,_e.__c||(_e.__=[oe?oe(de):ue(void 0,de),function(Ve){var Ke=_e.t(_e.__[0],Ve);_e.__[0]!==Ke&&(_e.__=[Ke,_e.__[1]],_e.__c.setState({}))}],_e.__c=h),_e.__}function te(Z,de){var oe=I(d++,3);!g.i.__s&&q(oe.__H,de)&&(oe.__=Z,oe.__H=de,h.__H.__h.push(oe))}function ae(Z,de){var oe=I(d++,4);!g.i.__s&&q(oe.__H,de)&&(oe.__=Z,oe.__H=de,h.__h.push(oe))}function ie(Z,de){var oe=I(d++,7);return q(oe.__H,de)&&(oe.__=Z(),oe.__H=de,oe.__h=Z),oe.__}function Q(Z,de){return E=8,ie(function(){return Z},de)}function ee(){var Z;for(P.sort(function(de,oe){return de.__v.__b-oe.__v.__b});Z=P.pop();)if(Z.__P)try{Z.__H.__h.forEach(H),Z.__H.__h.forEach(Y),Z.__H.__h=[]}catch(de){Z.__H.__h=[],g.i.__e(de,Z.__v)}}g.i.__b=function(Z){h=null,j&&j(Z)},g.i.__r=function(Z){k&&k(Z),d=0;var de=(h=Z.__c).__H;de&&(de.__h.forEach(H),de.__h.forEach(Y),de.__h=[])},g.i.diffed=function(Z){T&&T(Z);var de=Z.__c;de&&de.__H&&de.__H.__h.length&&(P.push(de)!==1&&m===g.i.requestAnimationFrame||((m=g.i.requestAnimationFrame)||z)(ee)),h=null},g.i.__c=function(Z,de){de.some(function(oe){try{oe.__h.forEach(H),oe.__h=oe.__h.filter(function(_e){return!_e.__||Y(_e)})}catch(_e){de.some(function(Ve){Ve.__h&&(Ve.__h=[])}),de=[],g.i.__e(_e,oe.__v)}}),C&&C(Z,de)},g.i.unmount=function(Z){N&&N(Z);var de,oe=Z.__c;oe&&oe.__H&&(oe.__H.__.forEach(function(_e){try{H(_e)}catch(Ve){de=Ve}}),de&&g.i.__e(de,oe.__v))};var V=typeof requestAnimationFrame=="function";function z(Z){var de,oe=function(){clearTimeout(_e),V&&cancelAnimationFrame(de),setTimeout(Z)},_e=setTimeout(oe,100);V&&(de=requestAnimationFrame(oe))}function H(Z){var de=h,oe=Z.__c;typeof oe=="function"&&(Z.__c=void 0,oe()),h=de}function Y(Z){var de=h;Z.__c=Z.__(),h=de}function q(Z,de){return!Z||Z.length!==de.length||de.some(function(oe,_e){return oe!==Z[_e]})}function ue(Z,de){return typeof de=="function"?de(Z):de}function Ee(Z,de){for(var oe in de)Z[oe]=de[oe];return Z}function be(Z,de){for(var oe in Z)if(oe!=="__source"&&!(oe in de))return!0;for(var _e in de)if(_e!=="__source"&&Z[_e]!==de[_e])return!0;return!1}function Ae(Z){this.props=Z}function Fe(Z,de){function oe(Ve){var Ke=this.props.ref,pt=Ke==Ve.ref;return!pt&&Ke&&(Ke.call?Ke(null):Ke.current=null),de?!de(this.props,Ve)||!pt:be(this.props,Ve)}function _e(Ve){return this.shouldComponentUpdate=oe,Object(g.e)(Z,Ve)}return _e.displayName="Memo("+(Z.displayName||Z.name)+")",_e.prototype.isReactComponent=!0,_e.__f=!0,_e}(Ae.prototype=new g.a).isPureReactComponent=!0,Ae.prototype.shouldComponentUpdate=function(Z,de){return be(this.props,Z)||be(this.state,de)};var je=g.i.__b;g.i.__b=function(Z){Z.type&&Z.type.__f&&Z.ref&&(Z.props.ref=Z.ref,Z.ref=null),je&&je(Z)};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pe(Z){function de(oe,_e){var Ve=Ee({},oe);return delete Ve.ref,Z(Ve,!(_e=oe.ref||_e)||typeof _e=="object"&&!("current"in _e)?null:_e)}return de.$$typeof=ve,de.render=de,de.prototype.isReactComponent=de.__f=!0,de.displayName="ForwardRef("+(Z.displayName||Z.name)+")",de}var Me=function(Z,de){return Z==null?null:Object(g.k)(Object(g.k)(Z).map(de))},We={map:Me,forEach:Me,count:function(Z){return Z?Object(g.k)(Z).length:0},only:function(Z){var de=Object(g.k)(Z);if(de.length!==1)throw"Children.only";return de[0]},toArray:g.k},ot=g.i.__e;g.i.__e=function(Z,de,oe){if(Z.then){for(var _e,Ve=de;Ve=Ve.__;)if((_e=Ve.__c)&&_e.__c)return de.__e==null&&(de.__e=oe.__e,de.__k=oe.__k),_e.__c(Z,de)}ot(Z,de,oe)};var xt=g.i.unmount;function Ye(Z,de,oe){return Z&&(Z.__c&&Z.__c.__H&&(Z.__c.__H.__.forEach(function(_e){typeof _e.__c=="function"&&_e.__c()}),Z.__c.__H=null),(Z=Ee({},Z)).__c!=null&&(Z.__c.__P===oe&&(Z.__c.__P=de),Z.__c=null),Z.__k=Z.__k&&Z.__k.map(function(_e){return Ye(_e,de,oe)})),Z}function Ze(Z,de,oe){return Z&&(Z.__v=null,Z.__k=Z.__k&&Z.__k.map(function(_e){return Ze(_e,de,oe)}),Z.__c&&Z.__c.__P===de&&(Z.__e&&oe.insertBefore(Z.__e,Z.__d),Z.__c.__e=!0,Z.__c.__P=oe)),Z}function mt(){this.__u=0,this.t=null,this.__b=null}function se(Z){var de=Z.__.__c;return de&&de.__e&&de.__e(Z)}function ce(){this.u=null,this.o=null}g.i.unmount=function(Z){var de=Z.__c;de&&de.__R&&de.__R(),de&&Z.__h===!0&&(Z.type=null),xt&&xt(Z)},(mt.prototype=new g.a).__c=function(Z,de){var oe=de.__c,_e=this;_e.t==null&&(_e.t=[]),_e.t.push(oe);var Ve=se(_e.__v),Ke=!1,pt=function(){Ke||(Ke=!0,oe.__R=null,Ve?Ve(Yt):Yt())};oe.__R=pt;var Yt=function(){if(!--_e.__u){if(_e.state.__e){var hr=_e.state.__e;_e.__v.__k[0]=Ze(hr,hr.__c.__P,hr.__c.__O)}var Xn;for(_e.setState({__e:_e.__b=null});Xn=_e.t.pop();)Xn.forceUpdate()}},rr=de.__h===!0;_e.__u++||rr||_e.setState({__e:_e.__b=_e.__v.__k[0]}),Z.then(pt,pt)},mt.prototype.componentWillUnmount=function(){this.t=[]},mt.prototype.render=function(Z,de){if(this.__b){if(this.__v.__k){var oe=document.createElement("div"),_e=this.__v.__k[0].__c;this.__v.__k[0]=Ye(this.__b,oe,_e.__O=_e.__P)}this.__b=null}var Ve=de.__e&&Object(g.e)(g.b,null,Z.fallback);return Ve&&(Ve.__h=null),[Object(g.e)(g.b,null,de.__e?null:Z.children),Ve]};var he=function(Z,de,oe){if(++oe[1]===oe[0]&&Z.o.delete(de),Z.props.revealOrder&&(Z.props.revealOrder[0]!=="t"||!Z.o.size))for(oe=Z.u;oe;){for(;oe.length>3;)oe.pop()();if(oe[1]<oe[0])break;Z.u=oe=oe[2]}};function De(Z){return this.getChildContext=function(){return Z.context},Z.children}function Ge(Z){var de=this,oe=Z.i;de.componentWillUnmount=function(){Object(g.j)(null,de.l),de.l=null,de.i=null},de.i&&de.i!==oe&&de.componentWillUnmount(),Z.__v?(de.l||(de.i=oe,de.l={nodeType:1,parentNode:oe,childNodes:[],appendChild:function(_e){this.childNodes.push(_e),de.i.appendChild(_e)},insertBefore:function(_e,Ve){this.childNodes.push(_e),de.i.appendChild(_e)},removeChild:function(_e){this.childNodes.splice(this.childNodes.indexOf(_e)>>>1,1),de.i.removeChild(_e)}}),Object(g.j)(Object(g.e)(De,{context:de.context},Z.__v),de.l)):de.l&&de.componentWillUnmount()}(ce.prototype=new g.a).__e=function(Z){var de=this,oe=se(de.__v),_e=de.o.get(Z);return _e[0]++,function(Ve){var Ke=function(){de.props.revealOrder?(_e.push(Ve),he(de,Z,_e)):Ve()};oe?oe(Ke):Ke()}},ce.prototype.render=function(Z){this.u=null,this.o=new Map;var de=Object(g.k)(Z.children);Z.revealOrder&&Z.revealOrder[0]==="b"&&de.reverse();for(var oe=de.length;oe--;)this.o.set(de[oe],this.u=[1,0,this.u]);return Z.children},ce.prototype.componentDidUpdate=ce.prototype.componentDidMount=function(){var Z=this;this.o.forEach(function(de,oe){he(Z,oe,de)})};var ze=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Et=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Rt=typeof document!="undefined",At=function(Z){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Z)};g.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Z){Object.defineProperty(g.a.prototype,Z,{configurable:!0,get:function(){return this["UNSAFE_"+Z]},set:function(de){Object.defineProperty(this,Z,{configurable:!0,writable:!0,value:de})}})});var gt=g.i.event;function Te(){}function lt(){return this.cancelBubble}function fe(){return this.defaultPrevented}g.i.event=function(Z){return gt&&(Z=gt(Z)),Z.persist=Te,Z.isPropagationStopped=lt,Z.isDefaultPrevented=fe,Z.nativeEvent=Z};var at,zt={configurable:!0,get:function(){return this.class}},dn=g.i.vnode;g.i.vnode=function(Z){var de=Z.type,oe=Z.props,_e=oe;if(typeof de=="string"){var Ve=de.indexOf("-")===-1;for(var Ke in _e={},oe){var pt=oe[Ke];Rt&&Ke==="children"&&de==="noscript"||Ke==="value"&&"defaultValue"in oe&&pt==null||(Ke==="defaultValue"&&"value"in oe&&oe.value==null?Ke="value":Ke==="download"&&pt===!0?pt="":/ondoubleclick/i.test(Ke)?Ke="ondblclick":/^onchange(textarea|input)/i.test(Ke+de)&&!At(oe.type)?Ke="oninput":/^onfocus$/i.test(Ke)?Ke="onfocusin":/^onblur$/i.test(Ke)?Ke="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ke)?Ke=Ke.toLowerCase():Ve&&Et.test(Ke)?Ke=Ke.replace(/[A-Z0-9]/,"-$&").toLowerCase():pt===null&&(pt=void 0),_e[Ke]=pt)}de=="select"&&_e.multiple&&Array.isArray(_e.value)&&(_e.value=Object(g.k)(oe.children).forEach(function(Yt){Yt.props.selected=_e.value.indexOf(Yt.props.value)!=-1})),de=="select"&&_e.defaultValue!=null&&(_e.value=Object(g.k)(oe.children).forEach(function(Yt){Yt.props.selected=_e.multiple?_e.defaultValue.indexOf(Yt.props.value)!=-1:_e.defaultValue==Yt.props.value})),Z.props=_e,oe.class!=oe.className&&(zt.enumerable="className"in oe,oe.className!=null&&(_e.class=oe.className),Object.defineProperty(_e,"className",zt))}Z.$$typeof=ze,dn&&dn(Z)};var Ft=g.i.__r;g.i.__r=function(Z){Ft&&Ft(Z),at=Z.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(Z){return at.__n[Z.__c].props.value}}}};function mn(Z){return!!Z&&Z.$$typeof===ze}var Dn=function(Z,de){return Z(de)},It=g.b,Hn={useState:U,useReducer:G,useEffect:te,useLayoutEffect:ae,useRef:function(Z){return E=5,ie(function(){return{current:Z}},[])},useImperativeHandle:function(Z,de,oe){E=6,ae(function(){typeof Z=="function"?Z(de()):Z&&(Z.current=de())},oe==null?oe:oe.concat(Z))},useMemo:ie,useCallback:Q,useContext:function(Z){var de=h.context[Z.__c],oe=I(d++,9);return oe.c=Z,de?(oe.__==null&&(oe.__=!0,de.sub(h)),de.props.value):Z.__},useDebugValue:function(Z,de){g.i.useDebugValue&&g.i.useDebugValue(de?de(Z):Z)},version:"17.0.2",Children:We,render:function(Z,de,oe){return de.__k==null&&(de.textContent=""),Object(g.j)(Z,de),typeof oe=="function"&&oe(),Z?Z.__c:null},hydrate:function(Z,de,oe){return Object(g.h)(Z,de),typeof oe=="function"&&oe(),Z?Z.__c:null},unmountComponentAtNode:function(Z){return!!Z.__k&&(Object(g.j)(null,Z),!0)},createPortal:function(Z,de){return Object(g.e)(Ge,{__v:Z,i:de})},createElement:g.e,createContext:g.d,createFactory:function(Z){return g.e.bind(null,Z)},cloneElement:function(Z){return mn(Z)?g.c.apply(null,arguments):Z},createRef:g.f,Fragment:g.b,isValidElement:mn,findDOMNode:function(Z){return Z&&(Z.base||Z.nodeType===1&&Z)||null},Component:g.a,PureComponent:Ae,memo:Fe,forwardRef:Pe,flushSync:function(Z,de){return Z(de)},unstable_batchedUpdates:Dn,StrictMode:It,Suspense:mt,SuspenseList:ce,lazy:function(Z){var de,oe,_e;function Ve(Ke){if(de||(de=Z()).then(function(pt){oe=pt.default||pt},function(pt){_e=pt}),_e)throw _e;if(!oe)throw de;return Object(g.e)(oe,Ke)}return Ve.displayName="Lazy",Ve.__f=!0,Ve},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};f.d=Hn},function(a,f,o){var d=o(7),h=o(152),m=o(153),g=o(187),E=o(57),P=function(k){if(k&&k.forEach!==g)try{E(k,"forEach",g)}catch(T){k.forEach=g}};for(var j in h)h[j]&&P(d[j]&&d[j].prototype);P(m)},function(a,f,o){o(16)({target:"Object",stat:!0},{setPrototypeOf:o(102)})},function(a,f,o){var d=o(16),h=o(18),m=o(40),g=o(101),E=o(143);d({target:"Object",stat:!0,forced:h(function(){g(1)}),sham:!E},{getPrototypeOf:function(P){return g(m(P))}})},function(a,f,o){var d=o(16),h=o(46),m=o(76),g=o(203),E=o(165),P=o(32),j=o(33),k=o(60),T=o(18),C=h("Reflect","construct"),N=Object.prototype,I=[].push,U=T(function(){function ae(){}return!(C(function(){},[],ae)instanceof ae)}),G=!T(function(){C(function(){})}),te=U||G;d({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ae,ie){E(ae),P(ie);var Q=arguments.length<3?ae:E(arguments[2]);if(G&&!U)return C(ae,ie,Q);if(ae==Q){switch(ie.length){case 0:return new ae;case 1:return new ae(ie[0]);case 2:return new ae(ie[0],ie[1]);case 3:return new ae(ie[0],ie[1],ie[2]);case 4:return new ae(ie[0],ie[1],ie[2],ie[3])}var ee=[null];return m(I,ee,ie),new(m(g,ae,ee))}var V=Q.prototype,z=k(j(V)?V:N),H=m(ae,z,ie);return j(H)?H:z}})},function(a,f){var o=Function.prototype,d=o.bind,h=o.call,m=d&&d.bind(h);a.exports=d?function(g){return g&&m(h,g)}:function(g){return g&&function(){return h.apply(g,arguments)}}},function(a,f,o){var d=o(7),h=o(50).f,m=o(57),g=o(42),E=o(110),P=o(134),j=o(95);a.exports=function(k,T){var C,N,I,U,G,te=k.target,ae=k.global,ie=k.stat;if(C=ae?d:ie?d[te]||E(te,{}):(d[te]||{}).prototype)for(N in T){if(U=T[N],I=k.noTargetGet?(G=h(C,N))&&G.value:C[N],!j(ae?N:te+(ie?".":"#")+N,k.forced)&&I!==void 0){if(typeof U==typeof I)continue;P(U,I)}(k.sham||I&&I.sham)&&m(U,"sham",!0),g(C,N,U,k)}}},function(a,f,o){var d=o(16),h=o(7),m=o(96),g=o(99),E=o(33),P=o(75),j=o(45),k=o(41),T=o(63),C=o(28),N=o(81),I=o(98),U=N("slice"),G=C("species"),te=h.Array,ae=Math.max;d({target:"Array",proto:!0,forced:!U},{slice:function(ie,Q){var ee,V,z,H=k(this),Y=j(H),q=P(ie,Y),ue=P(Q===void 0?Y:Q,Y);if(m(H)&&(ee=H.constructor,(g(ee)&&(ee===te||m(ee.prototype))||E(ee)&&(ee=ee[G])===null)&&(ee=void 0),ee===te||ee===void 0))return I(H,q,ue);for(V=new(ee===void 0?te:ee)(ae(ue-q,0)),z=0;q<ue;q++,z++)q in H&&T(V,z,H[q]);return V.length=z,V}})},function(a,f){a.exports=function(o){try{return!!o()}catch(d){return!0}}},function(a,f,o){var d=o(16),h=o(103);d({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(a,f,o){var d=o(16),h=o(40),m=o(77);d({target:"Object",stat:!0,forced:o(18)(function(){m(1)})},{keys:function(g){return m(h(g))}})},function(a,f,o){var d=o(36),h=o(73).EXISTS,m=o(15),g=o(38).f,E=Function.prototype,P=m(E.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=m(j.exec);d&&!h&&g(E,"name",{configurable:!0,get:function(){try{return k(j,P(this))[1]}catch(T){return""}}})},function(a,f,o){var d=o(16),h=o(18),m=o(41),g=o(50).f,E=o(36),P=h(function(){g(1)});d({target:"Object",stat:!0,forced:!E||P,sham:!E},{getOwnPropertyDescriptor:function(j,k){return g(m(j),k)}})},function(a,f,o){var d=o(16),h=o(188);d({target:"Array",stat:!0,forced:!o(120)(function(m){Array.from(m)})},{from:h})},function(a,f,o){var d=o(16),h=o(79).filter;d({target:"Array",proto:!0,forced:!o(81)("filter")},{filter:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,f,o){var d=o(16),h=o(36),m=o(135),g=o(41),E=o(50),P=o(63);d({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(j){for(var k,T,C=g(j),N=E.f,I=m(C),U={},G=0;I.length>G;)(T=N(C,k=I[G++]))!==void 0&&P(U,k,T);return U}})},function(a,f,o){var d=o(16),h=o(7),m=o(18),g=o(96),E=o(33),P=o(40),j=o(45),k=o(63),T=o(115),C=o(81),N=o(28),I=o(70),U=N("isConcatSpreadable"),G=9007199254740991,te="Maximum allowed index exceeded",ae=h.TypeError,ie=I>=51||!m(function(){var V=[];return V[U]=!1,V.concat()[0]!==V}),Q=C("concat"),ee=function(V){if(!E(V))return!1;var z=V[U];return z!==void 0?!!z:g(V)};d({target:"Array",proto:!0,forced:!ie||!Q},{concat:function(V){var z,H,Y,q,ue,Ee=P(this),be=T(Ee,0),Ae=0;for(z=-1,Y=arguments.length;z<Y;z++)if(ee(ue=z===-1?Ee:arguments[z])){if(Ae+(q=j(ue))>G)throw ae(te);for(H=0;H<q;H++,Ae++)H in ue&&k(be,Ae,ue[H])}else{if(Ae>=G)throw ae(te);k(be,Ae++,ue)}return be.length=Ae,be}})},,function(a,f,o){var d=o(7),h=o(89),m=o(35),g=o(90),E=o(108),P=o(132),j=h("wks"),k=d.Symbol,T=k&&k.for,C=P?k:k&&k.withoutSetter||g;a.exports=function(N){if(!m(j,N)||!E&&typeof j[N]!="string"){var I="Symbol."+N;E&&m(k,N)?j[N]=k[N]:j[N]=P&&T?T(I):C(I)}return j[N]}},function(a,f,o){var d=o(16),h=o(202);d({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(a,f){a.exports=function(o){return typeof o=="function"}},function(a,f,o){var d=o(106),h=typeof self=="object"&&self&&self.Object===Object&&self,m=d.a||h||Function("return this")();f.a=m},function(a,f,o){var d=o(7),h=o(33),m=d.String,g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not an object")}},function(a,f,o){var d=o(30);a.exports=function(h){return typeof h=="object"?h!==null:d(h)}},function(a,f){var o=Function.prototype.call;a.exports=o.bind?o.bind(o):function(){return o.apply(o,arguments)}},function(a,f,o){var d=o(15),h=o(40),m=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(g,E){return m(h(g),E)}},function(a,f,o){var d=o(18);a.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,f,o){var d=o(16),h=o(79).map;d({target:"Array",proto:!0,forced:!o(81)("map")},{map:function(m){return h(this,m,arguments.length>1?arguments[1]:void 0)}})},function(a,f,o){var d=o(7),h=o(36),m=o(133),g=o(32),E=o(86),P=d.TypeError,j=Object.defineProperty;f.f=h?j:function(k,T,C){if(g(k),T=E(T),g(C),m)try{return j(k,T,C)}catch(N){}if("get"in C||"set"in C)throw P("Accessors not supported");return"value"in C&&(k[T]=C.value),k}},function(a,f,o){var d=o(7),h=o(97),m=d.String;a.exports=function(g){if(h(g)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return m(g)}},function(a,f,o){var d=o(7),h=o(44),m=d.Object;a.exports=function(g){return m(h(g))}},function(a,f,o){var d=o(85),h=o(44);a.exports=function(m){return d(h(m))}},function(a,f,o){var d=o(7),h=o(30),m=o(35),g=o(57),E=o(110),P=o(92),j=o(58),k=o(73).CONFIGURABLE,T=j.get,C=j.enforce,N=String(String).split("String");(a.exports=function(I,U,G,te){var ae,ie=!!te&&!!te.unsafe,Q=!!te&&!!te.enumerable,ee=!!te&&!!te.noTargetGet,V=te&&te.name!==void 0?te.name:U;h(G)&&(String(V).slice(0,7)==="Symbol("&&(V="["+String(V).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!m(G,"name")||k&&G.name!==V)&&g(G,"name",V),(ae=C(G)).source||(ae.source=N.join(typeof V=="string"?V:""))),I!==d?(ie?!ee&&I[U]&&(Q=!0):delete I[U],Q?I[U]=G:g(I,U,G)):Q?I[U]=G:E(U,G)})(Function.prototype,"toString",function(){return h(this)&&T(this).source||P(this)})},function(a,f,o){(function(d){o.d(f,"d",function(){return g}),o.d(f,"c",function(){return E}),o.d(f,"b",function(){return P}),o.d(f,"a",function(){return k});var h=o(10),m=function(T,C){var N=typeof Symbol=="function"&&T[Symbol.iterator];if(!N)return T;var I,U,G=N.call(T),te=[];try{for(;(C===void 0||C-- >0)&&!(I=G.next()).done;)te.push(I.value)}catch(ae){U={error:ae}}finally{try{I&&!I.done&&(N=G.return)&&N.call(G)}finally{if(U)throw U.error}}return te};function g(){var T=m(Object(h.j)(0),2)[1];return Object(h.h)(function(){T(function(C){return C+1})},[])}function E(T){if(!T||typeof T!="object")return!1;var C=Object.getPrototypeOf(T);return!C||C===Object.prototype}function P(T){return typeof Symbol=="function"?Symbol.for(T):"__$mobx-react "+T+"__"}var j={};function k(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:j}}).call(this,o(68))},function(a,f,o){var d=o(7).TypeError;a.exports=function(h){if(h==null)throw d("Can't call method on "+h);return h}},function(a,f,o){var d=o(94);a.exports=function(h){return d(h.length)}},function(a,f,o){var d=o(7),h=o(30),m=function(g){return h(g)?g:void 0};a.exports=function(g,E){return arguments.length<2?m(d[g]):d[g]&&d[g][E]}},function(a,f,o){var d=o(16),h=o(34),m=o(33),g=o(32),E=o(204),P=o(50),j=o(101);d({target:"Reflect",stat:!0},{get:function k(T,C){var N,I,U=arguments.length<3?T:arguments[2];return g(T)===U?T[C]:(N=P.f(T,C))?E(N)?N.value:N.get===void 0?void 0:h(N.get,U):m(I=j(T))?k(I,C,U):void 0}})},function(a,f,o){(function(d){var h=o(31),m=o(171),g=u&&!u.nodeType&&u,E=g&&typeof d=="object"&&d&&!d.nodeType&&d,P=E&&E.exports===g?h.a.Buffer:void 0,j=(P?P.isBuffer:void 0)||m.a;f.a=j}).call(this,o(122)(a))},function(a,f,o){(function(d){var h=o(106),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m&&h.a.process,P=function(){try{var j=g&&g.require&&g.require("util").types;return j||E&&E.binding&&E.binding("util")}catch(k){}}();f.a=P}).call(this,o(122)(a))},function(a,f,o){var d=o(36),h=o(34),m=o(84),g=o(69),E=o(41),P=o(86),j=o(35),k=o(133),T=Object.getOwnPropertyDescriptor;f.f=d?T:function(C,N){if(C=E(C),N=P(N),k)try{return T(C,N)}catch(I){}if(j(C,N))return g(!h(m.f,C,N),C[N])}},function(a,f,o){var d=o(15),h=d({}.toString),m=d("".slice);a.exports=function(g){return m(h(g),8,-1)}},function(a,f,o){o(182)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},o(186))},function(a,f,o){var d=o(16),h=o(220).entries;d({target:"Object",stat:!0},{entries:function(m){return h(m)}})},function(a,f,o){var d=o(15);a.exports=d({}.isPrototypeOf)},function(a,f,o){var d=o(46);a.exports=d("navigator","userAgent")||""},function(a,f,o){var d=o(7),h=o(30),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a function")}},function(a,f,o){var d=o(36),h=o(38),m=o(69);a.exports=d?function(g,E,P){return h.f(g,E,m(1,P))}:function(g,E,P){return g[E]=P,g}},function(a,f,o){var d,h,m,g=o(175),E=o(7),P=o(15),j=o(33),k=o(57),T=o(35),C=o(109),N=o(93),I=o(72),U="Object already initialized",G=E.TypeError,te=E.WeakMap;if(g||C.state){var ae=C.state||(C.state=new te),ie=P(ae.get),Q=P(ae.has),ee=P(ae.set);d=function(z,H){if(Q(ae,z))throw new G(U);return H.facade=z,ee(ae,z,H),H},h=function(z){return ie(ae,z)||{}},m=function(z){return Q(ae,z)}}else{var V=N("state");I[V]=!0,d=function(z,H){if(T(z,V))throw new G(U);return H.facade=z,k(z,V,H),H},h=function(z){return T(z,V)?z[V]:{}},m=function(z){return T(z,V)}}a.exports={set:d,get:h,has:m,enforce:function(z){return m(z)?h(z):d(z,{})},getterFor:function(z){return function(H){var Y;if(!j(H)||(Y=h(H)).type!==z)throw G("Incompatible receiver, "+z+" required");return Y}}}},function(a,f){var o=Math.ceil,d=Math.floor;a.exports=function(h){var m=+h;return m!=m||m===0?0:(m>0?d:o)(m)}},function(a,f,o){var d,h=o(32),m=o(176),g=o(111),E=o(72),P=o(138),j=o(91),k=o(93),T=k("IE_PROTO"),C=function(){},N=function(G){return"<script>"+G+"<\/script>"},I=function(G){G.write(N("")),G.close();var te=G.parentWindow.Object;return G=null,te},U=function(){try{d=new ActiveXObject("htmlfile")}catch(ie){}var G,te;U=typeof document!="undefined"?document.domain&&d?I(d):((te=j("iframe")).style.display="none",P.appendChild(te),te.src="javascript:",(G=te.contentWindow.document).open(),G.write(N("document.F=Object")),G.close(),G.F):I(d);for(var ae=g.length;ae--;)delete U.prototype[g[ae]];return U()};E[T]=!0,a.exports=Object.create||function(G,te){var ae;return G!==null?(C.prototype=h(G),ae=new C,C.prototype=null,ae[T]=G):ae=U(),te===void 0?ae:m(ae,te)}},function(a,f,o){var d=o(36),h=o(7),m=o(15),g=o(95),E=o(42),P=o(35),j=o(148),k=o(54),T=o(87),C=o(131),N=o(18),I=o(74).f,U=o(50).f,G=o(38).f,te=o(160),ae=o(161).trim,ie="Number",Q=h.Number,ee=Q.prototype,V=h.TypeError,z=m("".slice),H=m("".charCodeAt),Y=function(Fe){var je=C(Fe,"number");return typeof je=="bigint"?je:q(je)},q=function(Fe){var je,ve,Pe,Me,We,ot,xt,Ye,Ze=C(Fe,"number");if(T(Ze))throw V("Cannot convert a Symbol value to a number");if(typeof Ze=="string"&&Ze.length>2){if(Ze=ae(Ze),(je=H(Ze,0))===43||je===45){if((ve=H(Ze,2))===88||ve===120)return NaN}else if(je===48){switch(H(Ze,1)){case 66:case 98:Pe=2,Me=49;break;case 79:case 111:Pe=8,Me=55;break;default:return+Ze}for(ot=(We=z(Ze,2)).length,xt=0;xt<ot;xt++)if((Ye=H(We,xt))<48||Ye>Me)return NaN;return parseInt(We,Pe)}}return+Ze};if(g(ie,!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var ue,Ee=function(Fe){var je=arguments.length<1?0:Q(Y(Fe)),ve=this;return k(ee,ve)&&N(function(){te(ve)})?j(Object(je),ve,Ee):je},be=d?I(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ae=0;be.length>Ae;Ae++)P(Q,ue=be[Ae])&&!P(Ee,ue)&&G(Ee,ue,U(Q,ue));Ee.prototype=ee,ee.constructor=Ee,E(h,ie,Ee)}},function(a,f,o){var d=o(56);a.exports=function(h,m){var g=h[m];return g==null?void 0:d(g)}},function(a,f,o){var d=o(86),h=o(38),m=o(69);a.exports=function(g,E,P){var j=d(E);j in g?h.f(g,j,m(0,P)):g[j]=P}},function(a,f,o){var d=o(15),h=o(56),m=d(d.bind);a.exports=function(g,E){return h(g),E===void 0?g:m?m(g,E):function(){return g.apply(E,arguments)}}},function(a,f,o){var d=o(16),h=o(15),m=o(85),g=o(41),E=o(121),P=h([].join),j=m!=Object,k=E("join",",");d({target:"Array",proto:!0,forced:j||!k},{join:function(T){return P(g(this),T===void 0?",":T)}})},function(a,f,o){var d=o(15),h=o(73).PROPER,m=o(42),g=o(32),E=o(54),P=o(39),j=o(18),k=o(154),T="toString",C=RegExp.prototype,N=C.toString,I=d(k),U=j(function(){return N.call({source:"a",flags:"b"})!="/a/b"}),G=h&&N.name!=T;(U||G)&&m(RegExp.prototype,T,function(){var te=g(this),ae=P(te.source),ie=te.flags;return"/"+ae+"/"+P(ie===void 0&&E(C,te)&&!("flags"in C)?I(te):ie)},{unsafe:!0})},function(a,f,o){var d=o(16),h=o(217),m=o(100);d({target:"Array",proto:!0},{fill:h}),m("fill")},function(a,f){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(d){typeof window=="object"&&(o=window)}a.exports=o},function(a,f){a.exports=function(o,d){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:d}}},function(a,f,o){var d,h,m=o(7),g=o(55),E=m.process,P=m.Deno,j=E&&E.versions||P&&P.version,k=j&&j.v8;k&&(h=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!h&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(h=+d[1]),a.exports=h},function(a,f){a.exports=!1},function(a,f){a.exports={}},function(a,f,o){var d=o(36),h=o(35),m=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,E=h(m,"name"),P=E&&function(){}.name==="something",j=E&&(!d||d&&g(m,"name").configurable);a.exports={EXISTS:E,PROPER:P,CONFIGURABLE:j}},function(a,f,o){var d=o(136),h=o(111).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(m){return d(m,h)}},function(a,f,o){var d=o(59),h=Math.max,m=Math.min;a.exports=function(g,E){var P=d(g);return P<0?h(P+E,0):m(P,E)}},function(a,f){var o=Function.prototype,d=o.apply,h=o.bind,m=o.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(h?m.bind(d):function(){return m.apply(d,arguments)})},function(a,f,o){var d=o(136),h=o(111);a.exports=Object.keys||function(m){return d(m,h)}},function(a,f,o){var d=o(38).f,h=o(35),m=o(28)("toStringTag");a.exports=function(g,E,P){g&&!h(g=P?g:g.prototype,m)&&d(g,m,{configurable:!0,value:E})}},function(a,f,o){var d=o(64),h=o(15),m=o(85),g=o(40),E=o(45),P=o(115),j=h([].push),k=function(T){var C=T==1,N=T==2,I=T==3,U=T==4,G=T==6,te=T==7,ae=T==5||G;return function(ie,Q,ee,V){for(var z,H,Y=g(ie),q=m(Y),ue=d(Q,ee),Ee=E(q),be=0,Ae=V||P,Fe=C?Ae(ie,Ee):N||te?Ae(ie,0):void 0;Ee>be;be++)if((ae||be in q)&&(H=ue(z=q[be],be,Y),T))if(C)Fe[be]=H;else if(H)switch(T){case 3:return!0;case 5:return z;case 6:return be;case 2:j(Fe,z)}else switch(T){case 4:return!1;case 7:j(Fe,z)}return G?-1:I||U?U:Fe}};a.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},function(a,f){a.exports={}},function(a,f,o){var d=o(18),h=o(28),m=o(70),g=h("species");a.exports=function(E){return m>=51||!d(function(){var P=[];return(P.constructor={})[g]=function(){return{foo:1}},P[E](Boolean).foo!==1})}},function(a,f,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(159),P=o(32),j=o(44),k=o(164),T=o(124),C=o(94),N=o(39),I=o(62),U=o(114),G=o(125),te=o(103),ae=o(155),ie=o(18),Q=ae.UNSUPPORTED_Y,ee=4294967295,V=Math.min,z=[].push,H=m(/./.exec),Y=m(z),q=m("".slice),ue=!ie(function(){var Ee=/(?:)/,be=Ee.exec;Ee.exec=function(){return be.apply(this,arguments)};var Ae="ab".split(Ee);return Ae.length!==2||Ae[0]!=="a"||Ae[1]!=="b"});g("split",function(Ee,be,Ae){var Fe;return Fe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(je,ve){var Pe=N(j(this)),Me=ve===void 0?ee:ve>>>0;if(Me===0)return[];if(je===void 0)return[Pe];if(!E(je))return h(be,Pe,je,Me);for(var We,ot,xt,Ye=[],Ze=(je.ignoreCase?"i":"")+(je.multiline?"m":"")+(je.unicode?"u":"")+(je.sticky?"y":""),mt=0,se=new RegExp(je.source,Ze+"g");(We=h(te,se,Pe))&&!((ot=se.lastIndex)>mt&&(Y(Ye,q(Pe,mt,We.index)),We.length>1&&We.index<Pe.length&&d(z,Ye,U(We,1)),xt=We[0].length,mt=ot,Ye.length>=Me));)se.lastIndex===We.index&&se.lastIndex++;return mt===Pe.length?!xt&&H(se,"")||Y(Ye,""):Y(Ye,q(Pe,mt)),Ye.length>Me?U(Ye,0,Me):Ye}:"0".split(void 0,0).length?function(je,ve){return je===void 0&&ve===0?[]:h(be,this,je,ve)}:be,[function(je,ve){var Pe=j(this),Me=je==null?void 0:I(je,Ee);return Me?h(Me,je,Pe,ve):h(Fe,N(Pe),je,ve)},function(je,ve){var Pe=P(this),Me=N(je),We=Ae(Fe,Pe,Me,ve,Fe!==be);if(We.done)return We.value;var ot=k(Pe,RegExp),xt=Pe.unicode,Ye=(Pe.ignoreCase?"i":"")+(Pe.multiline?"m":"")+(Pe.unicode?"u":"")+(Q?"g":"y"),Ze=new ot(Q?"^(?:"+Pe.source+")":Pe,Ye),mt=ve===void 0?ee:ve>>>0;if(mt===0)return[];if(Me.length===0)return G(Ze,Me)===null?[Me]:[];for(var se=0,ce=0,he=[];ce<Me.length;){Ze.lastIndex=Q?0:ce;var De,Ge=G(Ze,Q?q(Me,ce):Me);if(Ge===null||(De=V(C(Ze.lastIndex+(Q?ce:0)),Me.length))===se)ce=T(Me,ce,xt);else{if(Y(he,q(Me,se,ce)),he.length===mt)return he;for(var ze=1;ze<=Ge.length-1;ze++)if(Y(he,Ge[ze]),he.length===mt)return he;ce=se=De}}return Y(he,q(Me,se)),he}]},!ue,Q)},function(a,f,o){o(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(a,f,o){var d={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!d.call({1:2},1);f.f=m?function(g){var E=h(this,g);return!!E&&E.enumerable}:d},function(a,f,o){var d=o(7),h=o(15),m=o(18),g=o(51),E=d.Object,P=h("".split);a.exports=m(function(){return!E("z").propertyIsEnumerable(0)})?function(j){return g(j)=="String"?P(j,""):E(j)}:E},function(a,f,o){var d=o(131),h=o(87);a.exports=function(m){var g=d(m,"string");return h(g)?g:g+""}},function(a,f,o){var d=o(7),h=o(46),m=o(30),g=o(54),E=o(132),P=d.Object;a.exports=E?function(j){return typeof j=="symbol"}:function(j){var k=h("Symbol");return m(k)&&g(k.prototype,P(j))}},function(a,f,o){var d=o(7).String;a.exports=function(h){try{return d(h)}catch(m){return"Object"}}},function(a,f,o){var d=o(71),h=o(109);(a.exports=function(m,g){return h[m]||(h[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.19.3",mode:d?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(a,f,o){var d=o(15),h=0,m=Math.random(),g=d(1 .toString);a.exports=function(E){return"Symbol("+(E===void 0?"":E)+")_"+g(++h+m,36)}},function(a,f,o){var d=o(7),h=o(33),m=d.document,g=h(m)&&h(m.createElement);a.exports=function(E){return g?m.createElement(E):{}}},function(a,f,o){var d=o(15),h=o(30),m=o(109),g=d(Function.toString);h(m.inspectSource)||(m.inspectSource=function(E){return g(E)}),a.exports=m.inspectSource},function(a,f,o){var d=o(89),h=o(90),m=d("keys");a.exports=function(g){return m[g]||(m[g]=h(g))}},function(a,f,o){var d=o(59),h=Math.min;a.exports=function(m){return m>0?h(d(m),9007199254740991):0}},function(a,f,o){var d=o(18),h=o(30),m=/#|\.prototype\./,g=function(T,C){var N=P[E(T)];return N==k||N!=j&&(h(C)?d(C):!!C)},E=g.normalize=function(T){return String(T).replace(m,".").toLowerCase()},P=g.data={},j=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},function(a,f,o){var d=o(51);a.exports=Array.isArray||function(h){return d(h)=="Array"}},function(a,f,o){var d=o(7),h=o(113),m=o(30),g=o(51),E=o(28)("toStringTag"),P=d.Object,j=g(function(){return arguments}())=="Arguments";a.exports=h?g:function(k){var T,C,N;return k===void 0?"Undefined":k===null?"Null":typeof(C=function(I,U){try{return I[U]}catch(G){}}(T=P(k),E))=="string"?C:j?g(T):(N=g(T))=="Object"&&m(T.callee)?"Arguments":N}},function(a,f,o){var d=o(15);a.exports=d([].slice)},function(a,f,o){var d=o(15),h=o(18),m=o(30),g=o(97),E=o(46),P=o(92),j=function(){},k=[],T=E("Reflect","construct"),C=/^\s*(?:class|function)\b/,N=d(C.exec),I=!C.exec(j),U=function(G){if(!m(G))return!1;try{return T(j,k,G),!0}catch(te){return!1}};a.exports=!T||h(function(){var G;return U(U.call)||!U(Object)||!U(function(){G=!0})||G})?function(G){if(!m(G))return!1;switch(g(G)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!N(C,P(G))}:U},function(a,f,o){var d=o(28),h=o(60),m=o(38),g=d("unscopables"),E=Array.prototype;E[g]==null&&m.f(E,g,{configurable:!0,value:h(null)}),a.exports=function(P){E[g][P]=!0}},function(a,f,o){var d=o(7),h=o(35),m=o(30),g=o(40),E=o(93),P=o(143),j=E("IE_PROTO"),k=d.Object,T=k.prototype;a.exports=P?k.getPrototypeOf:function(C){var N=g(C);if(h(N,j))return N[j];var I=N.constructor;return m(I)&&N instanceof I?I.prototype:N instanceof k?T:null}},function(a,f,o){var d=o(15),h=o(32),m=o(181);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g,E=!1,P={};try{(g=d(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(P,[]),E=P instanceof Array}catch(j){}return function(j,k){return h(j),m(k),E?g(j,k):j.__proto__=k,j}}():void 0)},function(a,f,o){var d,h,m=o(34),g=o(15),E=o(39),P=o(154),j=o(155),k=o(89),T=o(60),C=o(58).get,N=o(190),I=o(191),U=k("native-string-replace",String.prototype.replace),G=RegExp.prototype.exec,te=G,ae=g("".charAt),ie=g("".indexOf),Q=g("".replace),ee=g("".slice),V=(h=/b*/g,m(G,d=/a/,"a"),m(G,h,"a"),d.lastIndex!==0||h.lastIndex!==0),z=j.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(V||H||z||N||I)&&(te=function(Y){var q,ue,Ee,be,Ae,Fe,je,ve=this,Pe=C(ve),Me=E(Y),We=Pe.raw;if(We)return We.lastIndex=ve.lastIndex,q=m(te,We,Me),ve.lastIndex=We.lastIndex,q;var ot=Pe.groups,xt=z&&ve.sticky,Ye=m(P,ve),Ze=ve.source,mt=0,se=Me;if(xt&&(Ye=Q(Ye,"y",""),ie(Ye,"g")===-1&&(Ye+="g"),se=ee(Me,ve.lastIndex),ve.lastIndex>0&&(!ve.multiline||ve.multiline&&ae(Me,ve.lastIndex-1)!==`
`)&&(Ze="(?: "+Ze+")",se=" "+se,mt++),ue=new RegExp("^(?:"+Ze+")",Ye)),H&&(ue=new RegExp("^"+Ze+"$(?!\\s)",Ye)),V&&(Ee=ve.lastIndex),be=m(G,xt?ue:ve,se),xt?be?(be.input=ee(be.input,mt),be[0]=ee(be[0],mt),be.index=ve.lastIndex,ve.lastIndex+=be[0].length):ve.lastIndex=0:V&&be&&(ve.lastIndex=ve.global?be.index+be[0].length:Ee),H&&be&&be.length>1&&m(U,be[0],ue,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(be[Ae]=void 0)}),be&&ot)for(be.groups=Fe=T(null),Ae=0;Ae<ot.length;Ae++)Fe[(je=ot[Ae])[0]]=be[je[1]];return be}),a.exports=te},function(a,f,o){var d=o(16),h=o(7),m=o(75),g=o(59),E=o(45),P=o(40),j=o(115),k=o(63),T=o(81)("splice"),C=h.TypeError,N=Math.max,I=Math.min,U=9007199254740991,G="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!T},{splice:function(te,ae){var ie,Q,ee,V,z,H,Y=P(this),q=E(Y),ue=m(te,q),Ee=arguments.length;if(Ee===0?ie=Q=0:Ee===1?(ie=0,Q=q-ue):(ie=Ee-2,Q=I(N(g(ae),0),q-ue)),q+ie-Q>U)throw C(G);for(ee=j(Y,Q),V=0;V<Q;V++)(z=ue+V)in Y&&k(ee,V,Y[z]);if(ee.length=Q,ie<Q){for(V=ue;V<q-Q;V++)H=V+ie,(z=V+Q)in Y?Y[H]=Y[z]:delete Y[H];for(V=q;V>q-Q+ie;V--)delete Y[V-1]}else if(ie>Q)for(V=q-Q;V>ue;V--)H=V+ie-1,(z=V+Q-1)in Y?Y[H]=Y[z]:delete Y[H];for(V=0;V<ie;V++)Y[V+ue]=arguments[V+2];return Y.length=q-Q+ie,ee}})},function(a,f,o){var d=o(16),h=o(205);d({target:"String",proto:!0,forced:o(206)("anchor")},{anchor:function(m){return h(this,"a","name",m)}})},function(a,f,o){(function(d){var h=typeof d=="object"&&d&&d.Object===Object&&d;f.a=h}).call(this,o(68))},function(a,f,o){(function(d){var h=o(31),m=u&&!u.nodeType&&u,g=m&&typeof d=="object"&&d&&!d.nodeType&&d,E=g&&g.exports===m?h.a.Buffer:void 0,P=E?E.allocUnsafe:void 0;f.a=function(j,k){if(k)return j.slice();var T=j.length,C=P?P(T):new j.constructor(T);return j.copy(C),C}}).call(this,o(122)(a))},function(a,f,o){var d=o(70),h=o(18);a.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol();return!String(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&d&&d<41})},function(a,f,o){var d=o(7),h=o(110),m="__core-js_shared__",g=d[m]||h(m,{});a.exports=g},function(a,f,o){var d=o(7),h=Object.defineProperty;a.exports=function(m,g){try{h(d,m,{value:g,configurable:!0,writable:!0})}catch(E){d[m]=g}return g}},function(a,f){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,f){f.f=Object.getOwnPropertySymbols},function(a,f,o){var d={};d[o(28)("toStringTag")]="z",a.exports=String(d)==="[object z]"},function(a,f,o){var d=o(7),h=o(75),m=o(45),g=o(63),E=d.Array,P=Math.max;a.exports=function(j,k,T){for(var C=m(j),N=h(k,C),I=h(T===void 0?C:T,C),U=E(P(I-N,0)),G=0;N<I;N++,G++)g(U,G,j[N]);return U.length=G,U}},function(a,f,o){var d=o(178);a.exports=function(h,m){return new(d(h))(m===0?0:m)}},function(a,f,o){var d=o(16),h=o(34),m=o(71),g=o(73),E=o(30),P=o(180),j=o(101),k=o(102),T=o(78),C=o(57),N=o(42),I=o(28),U=o(80),G=o(142),te=g.PROPER,ae=g.CONFIGURABLE,ie=G.IteratorPrototype,Q=G.BUGGY_SAFARI_ITERATORS,ee=I("iterator"),V="keys",z="values",H="entries",Y=function(){return this};a.exports=function(q,ue,Ee,be,Ae,Fe,je){P(Ee,ue,be);var ve,Pe,Me,We=function(ce){if(ce===Ae&&mt)return mt;if(!Q&&ce in Ye)return Ye[ce];switch(ce){case V:case z:case H:return function(){return new Ee(this,ce)}}return function(){return new Ee(this)}},ot=ue+" Iterator",xt=!1,Ye=q.prototype,Ze=Ye[ee]||Ye["@@iterator"]||Ae&&Ye[Ae],mt=!Q&&Ze||We(Ae),se=ue=="Array"&&Ye.entries||Ze;if(se&&(ve=j(se.call(new q)))!==Object.prototype&&ve.next&&(m||j(ve)===ie||(k?k(ve,ie):E(ve[ee])||N(ve,ee,Y)),T(ve,ot,!0,!0),m&&(U[ot]=Y)),te&&Ae==z&&Ze&&Ze.name!==z&&(!m&&ae?C(Ye,"name",z):(xt=!0,mt=function(){return h(Ze,this)})),Ae)if(Pe={values:We(z),keys:Fe?mt:We(V),entries:We(H)},je)for(Me in Pe)(Q||xt||!(Me in Ye))&&N(Ye,Me,Pe[Me]);else d({target:ue,proto:!0,forced:Q||xt},Pe);return m&&!je||Ye[ee]===mt||N(Ye,ee,mt,{name:Ae}),U[ue]=mt,Pe}},function(a,f,o){var d=o(7),h=o(64),m=o(34),g=o(32),E=o(88),P=o(145),j=o(45),k=o(54),T=o(146),C=o(118),N=o(147),I=d.TypeError,U=function(te,ae){this.stopped=te,this.result=ae},G=U.prototype;a.exports=function(te,ae,ie){var Q,ee,V,z,H,Y,q,ue=ie&&ie.that,Ee=!(!ie||!ie.AS_ENTRIES),be=!(!ie||!ie.IS_ITERATOR),Ae=!(!ie||!ie.INTERRUPTED),Fe=h(ae,ue),je=function(Pe){return Q&&N(Q,"normal",Pe),new U(!0,Pe)},ve=function(Pe){return Ee?(g(Pe),Ae?Fe(Pe[0],Pe[1],je):Fe(Pe[0],Pe[1])):Ae?Fe(Pe,je):Fe(Pe)};if(be)Q=te;else{if(!(ee=C(te)))throw I(E(te)+" is not iterable");if(P(ee)){for(V=0,z=j(te);z>V;V++)if((H=ve(te[V]))&&k(G,H))return H;return new U(!1)}Q=T(te,ee)}for(Y=Q.next;!(q=m(Y,Q)).done;){try{H=ve(q.value)}catch(Pe){N(Q,"throw",Pe)}if(typeof H=="object"&&H&&k(G,H))return H}return new U(!1)}},function(a,f,o){var d=o(97),h=o(62),m=o(80),g=o(28)("iterator");a.exports=function(E){if(E!=null)return h(E,g)||h(E,"@@iterator")||m[d(E)]}},function(a,f,o){var d=o(7),h=o(54),m=d.TypeError;a.exports=function(g,E){if(h(E,g))return g;throw m("Incorrect invocation")}},function(a,f,o){var d=o(28)("iterator"),h=!1;try{var m=0,g={next:function(){return{done:!!m++}},return:function(){h=!0}};g[d]=function(){return this},Array.from(g,function(){throw 2})}catch(E){}a.exports=function(E,P){if(!P&&!h)return!1;var j=!1;try{var k={};k[d]=function(){return{next:function(){return{done:j=!0}}}},E(k)}catch(T){}return j}},function(a,f,o){var d=o(18);a.exports=function(h,m){var g=[][h];return!!g&&d(function(){g.call(null,m||function(){throw 1},1)})}},function(a,f){a.exports=function(o){if(!o.webpackPolyfill){var d=Object.create(o);d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,"exports",{enumerable:!0}),d.webpackPolyfill=1}return d}},function(a,f,o){o(19);var d=o(15),h=o(42),m=o(103),g=o(18),E=o(28),P=o(57),j=E("species"),k=RegExp.prototype;a.exports=function(T,C,N,I){var U=E(T),G=!g(function(){var Q={};return Q[U]=function(){return 7},""[T](Q)!=7}),te=G&&!g(function(){var Q=!1,ee=/a/;return T==="split"&&((ee={}).constructor={},ee.constructor[j]=function(){return ee},ee.flags="",ee[U]=/./[U]),ee.exec=function(){return Q=!0,null},ee[U](""),!Q});if(!G||!te||N){var ae=d(/./[U]),ie=C(U,""[T],function(Q,ee,V,z,H){var Y=d(Q),q=ee.exec;return q===m||q===k.exec?G&&!H?{done:!0,value:ae(ee,V,z)}:{done:!0,value:Y(V,ee,z)}:{done:!1}});h(String.prototype,T,ie[0]),h(k,U,ie[1])}I&&P(k[U],"sham",!0)}},function(a,f,o){var d=o(151).charAt;a.exports=function(h,m,g){return m+(g?d(h,m).length:1)}},function(a,f,o){var d=o(7),h=o(34),m=o(32),g=o(30),E=o(51),P=o(103),j=d.TypeError;a.exports=function(k,T){var C=k.exec;if(g(C)){var N=h(C,k,T);return N!==null&&m(N),N}if(E(k)==="RegExp")return h(P,k,T);throw j("RegExp#exec called on incompatible receiver")}},function(a,f,o){var d=o(76),h=o(34),m=o(15),g=o(123),E=o(18),P=o(32),j=o(30),k=o(59),T=o(94),C=o(39),N=o(44),I=o(124),U=o(62),G=o(201),te=o(125),ae=o(28)("replace"),ie=Math.max,Q=Math.min,ee=m([].concat),V=m([].push),z=m("".indexOf),H=m("".slice),Y="a".replace(/./,"$0")==="$0",q=!!/./[ae]&&/./[ae]("a","$0")==="";g("replace",function(ue,Ee,be){var Ae=q?"$":"$0";return[function(Fe,je){var ve=N(this),Pe=Fe==null?void 0:U(Fe,ae);return Pe?h(Pe,Fe,ve,je):h(Ee,C(ve),Fe,je)},function(Fe,je){var ve=P(this),Pe=C(Fe);if(typeof je=="string"&&z(je,Ae)===-1&&z(je,"$<")===-1){var Me=be(Ee,ve,Pe,je);if(Me.done)return Me.value}var We=j(je);We||(je=C(je));var ot=ve.global;if(ot){var xt=ve.unicode;ve.lastIndex=0}for(var Ye=[];;){var Ze=te(ve,Pe);if(Ze===null||(V(Ye,Ze),!ot))break;C(Ze[0])===""&&(ve.lastIndex=I(Pe,T(ve.lastIndex),xt))}for(var mt,se="",ce=0,he=0;he<Ye.length;he++){for(var De=C((Ze=Ye[he])[0]),Ge=ie(Q(k(Ze.index),Pe.length),0),ze=[],Et=1;Et<Ze.length;Et++)V(ze,(mt=Ze[Et])===void 0?mt:String(mt));var Rt=Ze.groups;if(We){var At=ee([De],ze,Ge,Pe);Rt!==void 0&&V(At,Rt);var gt=C(d(je,void 0,At))}else gt=G(De,Pe,Ge,ze,Rt,je);Ge>=ce&&(se+=H(Pe,ce,Ge)+gt,ce=Ge+De.length)}return se+H(Pe,ce)}]},!!E(function(){var ue=/./;return ue.exec=function(){var Ee=[];return Ee.groups={a:"7"},Ee},"".replace(ue,"$<a>")!=="7"})||!Y||q)},function(a,f,o){var d=o(16),h=Math.hypot,m=Math.abs,g=Math.sqrt;d({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(E,P){for(var j,k,T=0,C=0,N=arguments.length,I=0;C<N;)I<(j=m(arguments[C++]))?(T=T*(k=I/j)*k+1,I=j):T+=j>0?(k=j/I)*k:j;return I===1/0?1/0:I*g(T)}})},function(a,f,o){var d=o(51),h=o(7);a.exports=d(h.process)=="process"},function(a,f,o){o(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(a,f,o){(function(d,h){var m;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var g,E="Expected a function",P="__lodash_hash_undefined__",j="__lodash_placeholder__",k=16,T=32,C=64,N=128,I=256,U=1/0,G=9007199254740991,te=NaN,ae=4294967295,ie=[["ary",N],["bind",1],["bindKey",2],["curry",8],["curryRight",k],["flip",512],["partial",T],["partialRight",C],["rearg",I]],Q="[object Arguments]",ee="[object Array]",V="[object Boolean]",z="[object Date]",H="[object Error]",Y="[object Function]",q="[object GeneratorFunction]",ue="[object Map]",Ee="[object Number]",be="[object Object]",Ae="[object Promise]",Fe="[object RegExp]",je="[object Set]",ve="[object String]",Pe="[object Symbol]",Me="[object WeakMap]",We="[object ArrayBuffer]",ot="[object DataView]",xt="[object Float32Array]",Ye="[object Float64Array]",Ze="[object Int8Array]",mt="[object Int16Array]",se="[object Int32Array]",ce="[object Uint8Array]",he="[object Uint8ClampedArray]",De="[object Uint16Array]",Ge="[object Uint32Array]",ze=/\b__p \+= '';/g,Et=/\b(__p \+=) '' \+/g,Rt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,Te=RegExp(At.source),lt=RegExp(gt.source),fe=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,zt=/<%=([\s\S]+?)%>/g,dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ft=/^\w*$/,rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mn=/[\\^$.*+?()[\]{}|]/g,Dn=RegExp(mn.source),It=/^\s+/,Hn=/\s/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,de=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yt=/\w*$/,rr=/^[-+]0x[0-9a-f]+$/i,hr=/^0b[01]+$/i,Xn=/^\[object .+?Constructor\]$/,qn=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,St=/($^)/,Lt=/['\n\r\u2028\u2029\\]/g,gn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Bn="\\u2700-\\u27bf",Io="a-z\\xdf-\\xf6\\xf8-\\xff",Oo="A-Z\\xc0-\\xd6\\xd8-\\xde",Lo="\\ufe0e\\ufe0f",Li="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tl="['’]",Iu="[\\ud800-\\udfff]",Vr="["+Li+"]",ya="["+gn+"]",ft="\\d+",kl="[\\u2700-\\u27bf]",Lu="["+Io+"]",Bu="[^\\ud800-\\udfff"+Li+ft+Bn+Io+Oo+"]",Tr="\\ud83c[\\udffb-\\udfff]",Br="[^\\ud800-\\udfff]",Xa="(?:\\ud83c[\\udde6-\\uddff]){2}",co="[\\ud800-\\udbff][\\udc00-\\udfff]",Kr="["+Oo+"]",so="(?:"+Lu+"|"+Bu+")",zu="(?:"+Kr+"|"+Bu+")",Fu="(?:['’](?:d|ll|m|re|s|t|ve))?",Kc="(?:['’](?:D|LL|M|RE|S|T|VE))?",va="(?:"+ya+"|"+Tr+")?",qc="[\\ufe0e\\ufe0f]?",$u=qc+va+("(?:\\u200d(?:"+[Br,Xa,co].join("|")+")"+qc+va+")*"),Dl="(?:"+[kl,Xa,co].join("|")+")"+$u,li="(?:"+[Br+ya+"?",ya,Xa,co,Iu].join("|")+")",Zc=RegExp(Tl,"g"),Bo=RegExp(ya,"g"),Wu=RegExp(Tr+"(?="+Tr+")|"+li+$u,"g"),Ya=RegExp([Kr+"?"+Lu+"+"+Fu+"(?="+[Vr,Kr,"$"].join("|")+")",zu+"+"+Kc+"(?="+[Vr,Kr+so,"$"].join("|")+")",Kr+"?"+so+"+"+Fu,Kr+"+"+Kc,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ft,Dl].join("|"),"g"),Uu=RegExp("[\\u200d\\ud800-\\udfff"+gn+Lo+"]"),Gu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jc=-1,yn={};yn[xt]=yn[Ye]=yn[Ze]=yn[mt]=yn[se]=yn[ce]=yn[he]=yn[De]=yn[Ge]=!0,yn[Q]=yn[ee]=yn[We]=yn[V]=yn[ot]=yn[z]=yn[H]=yn[Y]=yn[ue]=yn[Ee]=yn[be]=yn[Fe]=yn[je]=yn[ve]=yn[Me]=!1;var hn={};hn[Q]=hn[ee]=hn[We]=hn[ot]=hn[V]=hn[z]=hn[xt]=hn[Ye]=hn[Ze]=hn[mt]=hn[se]=hn[ue]=hn[Ee]=hn[be]=hn[Fe]=hn[je]=hn[ve]=hn[Pe]=hn[ce]=hn[he]=hn[De]=hn[Ge]=!0,hn[H]=hn[Y]=hn[Me]=!1;var Qc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bi=parseFloat,zo=parseInt,Hu=typeof d=="object"&&d&&d.Object===Object&&d,es=typeof self=="object"&&self&&self.Object===Object&&self,Un=Hu||es||Function("return this")(),Xu=f&&!f.nodeType&&f,ga=Xu&&typeof h=="object"&&h&&!h.nodeType&&h,Yu=ga&&ga.exports===Xu,Va=Yu&&Hu.process,yr=function(){try{var we=ga&&ga.require&&ga.require("util").types;return we||Va&&Va.binding&&Va.binding("util")}catch(Ne){}}(),Vu=yr&&yr.isArrayBuffer,ts=yr&&yr.isDate,Ku=yr&&yr.isMap,Ka=yr&&yr.isRegExp,zi=yr&&yr.isSet,wo=yr&&yr.isTypedArray;function En(we,Ne,Ie){switch(Ie.length){case 0:return we.call(Ne);case 1:return we.call(Ne,Ie[0]);case 2:return we.call(Ne,Ie[0],Ie[1]);case 3:return we.call(Ne,Ie[0],Ie[1],Ie[2])}return we.apply(Ne,Ie)}function ns(we,Ne,Ie,et){for(var $t=-1,Qt=we==null?0:we.length;++$t<Qt;){var Pn=we[$t];Ne(et,Pn,Ie(Pn),we)}return et}function kr(we,Ne){for(var Ie=-1,et=we==null?0:we.length;++Ie<et&&Ne(we[Ie],Ie,we)!==!1;);return we}function rs(we,Ne){for(var Ie=we==null?0:we.length;Ie--&&Ne(we[Ie],Ie,we)!==!1;);return we}function os(we,Ne){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(!Ne(we[Ie],Ie,we))return!1;return!0}function xr(we,Ne){for(var Ie=-1,et=we==null?0:we.length,$t=0,Qt=[];++Ie<et;){var Pn=we[Ie];Ne(Pn,Ie,we)&&(Qt[$t++]=Pn)}return Qt}function Dr(we,Ne){return!!(we!=null&&we.length)&&Fi(we,Ne,0)>-1}function qu(we,Ne,Ie){for(var et=-1,$t=we==null?0:we.length;++et<$t;)if(Ie(Ne,we[et]))return!0;return!1}function cn(we,Ne){for(var Ie=-1,et=we==null?0:we.length,$t=Array(et);++Ie<et;)$t[Ie]=Ne(we[Ie],Ie,we);return $t}function or(we,Ne){for(var Ie=-1,et=Ne.length,$t=we.length;++Ie<et;)we[$t+Ie]=Ne[Ie];return we}function qa(we,Ne,Ie,et){var $t=-1,Qt=we==null?0:we.length;for(et&&Qt&&(Ie=we[++$t]);++$t<Qt;)Ie=Ne(Ie,we[$t],$t,we);return Ie}function is(we,Ne,Ie,et){var $t=we==null?0:we.length;for(et&&$t&&(Ie=we[--$t]);$t--;)Ie=Ne(Ie,we[$t],$t,we);return Ie}function Zu(we,Ne){for(var Ie=-1,et=we==null?0:we.length;++Ie<et;)if(Ne(we[Ie],Ie,we))return!0;return!1}var Za=Rr("length");function xo(we,Ne,Ie){var et;return Ie(we,function($t,Qt,Pn){if(Ne($t,Qt,Pn))return et=Qt,!1}),et}function Fo(we,Ne,Ie,et){for(var $t=we.length,Qt=Ie+(et?1:-1);et?Qt--:++Qt<$t;)if(Ne(we[Qt],Qt,we))return Qt;return-1}function Fi(we,Ne,Ie){return Ne==Ne?function(et,$t,Qt){for(var Pn=Qt-1,O=et.length;++Pn<O;)if(et[Pn]===$t)return Pn;return-1}(we,Ne,Ie):Fo(we,$o,Ie)}function Nr(we,Ne,Ie,et){for(var $t=Ie-1,Qt=we.length;++$t<Qt;)if(et(we[$t],Ne))return $t;return-1}function $o(we){return we!=we}function on(we,Ne){var Ie=we==null?0:we.length;return Ie?Ja(we,Ne)/Ie:te}function Rr(we){return function(Ne){return Ne==null?g:Ne[we]}}function Eo(we){return function(Ne){return we==null?g:we[Ne]}}function sr(we,Ne,Ie,et,$t){return $t(we,function(Qt,Pn,O){Ie=et?(et=!1,Qt):Ne(Ie,Qt,Pn,O)}),Ie}function Ja(we,Ne){for(var Ie,et=-1,$t=we.length;++et<$t;){var Qt=Ne(we[et]);Qt!==g&&(Ie=Ie===g?Qt:Ie+Qt)}return Ie}function ba(we,Ne){for(var Ie=-1,et=Array(we);++Ie<we;)et[Ie]=Ne(Ie);return et}function Ju(we){return we&&we.slice(0,Cr(we)+1).replace(It,"")}function zn(we){return function(Ne){return we(Ne)}}function Qa(we,Ne){return cn(Ne,function(Ie){return we[Ie]})}function Wo(we,Ne){return we.has(Ne)}function qr(we,Ne){for(var Ie=-1,et=we.length;++Ie<et&&Fi(Ne,we[Ie],0)>-1;);return Ie}function Qu(we,Ne){for(var Ie=we.length;Ie--&&Fi(Ne,we[Ie],0)>-1;);return Ie}function Rl(we,Ne){for(var Ie=we.length,et=0;Ie--;)we[Ie]===Ne&&++et;return et}var ec=Eo({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Yn=Eo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fi(we){return"\\"+Qc[we]}function So(we){return Uu.test(we)}function Er(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(et,$t){Ie[++Ne]=[$t,et]}),Ie}function tc(we,Ne){return function(Ie){return we(Ne(Ie))}}function zr(we,Ne){for(var Ie=-1,et=we.length,$t=0,Qt=[];++Ie<et;){var Pn=we[Ie];Pn!==Ne&&Pn!==j||(we[Ie]=j,Qt[$t++]=Ie)}return Qt}function pi(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(et){Ie[++Ne]=et}),Ie}function eu(we){var Ne=-1,Ie=Array(we.size);return we.forEach(function(et){Ie[++Ne]=[et,et]}),Ie}function jo(we){return So(we)?function(Ne){for(var Ie=Wu.lastIndex=0;Wu.test(Ne);)++Ie;return Ie}(we):Za(we)}function Fr(we){return So(we)?function(Ne){return Ne.match(Wu)||[]}(we):function(Ne){return Ne.split("")}(we)}function Cr(we){for(var Ne=we.length;Ne--&&Hn.test(we.charAt(Ne)););return Ne}var Zr=Eo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Po=function we(Ne){var Ie,et=(Ne=Ne==null?Un:Po.defaults(Un.Object(),Ne,Po.pick(Un,Nl))).Array,$t=Ne.Date,Qt=Ne.Error,Pn=Ne.Function,O=Ne.Math,w=Ne.Object,M=Ne.RegExp,B=Ne.String,K=Ne.TypeError,pe=et.prototype,Se=Pn.prototype,$e=w.prototype,ct=Ne["__core-js_shared__"],Kt=Se.toString,tt=$e.hasOwnProperty,_n=0,Ut=(Ie=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Ie:"",ln=$e.toString,Jr=Kt.call(w),Rn=Un._,Ir=M("^"+Kt.call(tt).replace(mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uo=Yu?Ne.Buffer:g,Go=Ne.Symbol,ma=Ne.Uint8Array,nc=Uo?Uo.allocUnsafe:g,di=tc(w.getPrototypeOf,w),tu=w.create,Sr=$e.propertyIsEnumerable,_a=pe.splice,$i=Go?Go.isConcatSpreadable:g,hi=Go?Go.iterator:g,yi=Go?Go.toStringTag:g,rc=function(){try{var l=Ea(w,"defineProperty");return l({},"",{}),l}catch(y){}}(),Ry=Ne.clearTimeout!==Un.clearTimeout&&Ne.clearTimeout,Cy=$t&&$t.now!==Un.Date.now&&$t.now,Cp=Ne.setTimeout!==Un.setTimeout&&Ne.setTimeout,as=O.ceil,nu=O.floor,Cl=w.getOwnPropertySymbols,Iy=Uo?Uo.isBuffer:g,Ip=Ne.isFinite,Il=pe.join,Lp=tc(w.keys,w),lr=O.max,jr=O.min,us=$t.now,cs=Ne.parseInt,ss=O.random,Ly=pe.reverse,ru=Ea(Ne,"DataView"),Ho=Ea(Ne,"Map"),Ll=Ea(Ne,"Promise"),Oa=Ea(Ne,"Set"),ou=Ea(Ne,"WeakMap"),oc=Ea(w,"create"),ls=ou&&new ou,iu={},By=qi(ru),Bp=qi(Ho),zy=qi(Ll),Fy=qi(Oa),zp=qi(ou),fs=Go?Go.prototype:g,fr=fs?fs.valueOf:g,Fp=fs?fs.toString:g;function F(l){if($n(l)&&!Gt(l)&&!(l instanceof un)){if(l instanceof lo)return l;if(tt.call(l,"__wrapped__"))return bf(l)}return new lo(l)}var au=function(){function l(){}return function(y){if(!wn(y))return{};if(tu)return tu(y);l.prototype=y;var _=new l;return l.prototype=g,_}}();function ic(){}function lo(l,y){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=g}function un(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function wa(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function On(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function Xo(l){var y=-1,_=l==null?0:l.length;for(this.clear();++y<_;){var A=l[y];this.set(A[0],A[1])}}function Wi(l){var y=-1,_=l==null?0:l.length;for(this.__data__=new Xo;++y<_;)this.add(l[y])}function fo(l){var y=this.__data__=new On(l);this.size=y.size}function Bl(l,y){var _=Gt(l),A=!_&&Zi(l),R=!_&&!A&&vo(l),W=!_&&!A&&!R&&Sa(l),ne=_||A||R||W,le=ne?ba(l.length,B):[],Oe=le.length;for(var Le in l)!y&&!tt.call(l,Le)||ne&&(Le=="length"||R&&(Le=="offset"||Le=="parent")||W&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||Ln(Le,Oe))||le.push(Le);return le}function zl(l){var y=l.length;return y?l[Yl(0,y-1)]:g}function $p(l,y){return hc(Wr(l),Ui(y,0,l.length))}function Wp(l){return hc(Wr(l))}function ps(l,y,_){(_!==g&&!to(l[y],_)||_===g&&!(y in l))&&Yo(l,y,_)}function uu(l,y,_){var A=l[y];tt.call(l,y)&&to(A,_)&&(_!==g||y in l)||Yo(l,y,_)}function ac(l,y){for(var _=l.length;_--;)if(to(l[_][0],y))return _;return-1}function Up(l,y,_,A){return Cn(l,function(R,W,ne){y(A,R,_(R),ne)}),A}function Fl(l,y){return l&&Vo(y,pr(y),l)}function Yo(l,y,_){y=="__proto__"&&rc?rc(l,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):l[y]=_}function ds(l,y){for(var _=-1,A=y.length,R=et(A),W=l==null;++_<A;)R[_]=W?g:Qi(l,y[_]);return R}function Ui(l,y,_){return l==l&&(_!==g&&(l=l<=_?l:_),y!==g&&(l=l>=y?l:y)),l}function Qr(l,y,_,A,R,W){var ne,le=1&y,Oe=2&y,Le=4&y;if(_&&(ne=R?_(l,A,R,W):_(l)),ne!==g)return ne;if(!wn(l))return l;var Re=Gt(l);if(Re){if(ne=function(Be){var He=Be.length,Bt=new Be.constructor(He);return He&&typeof Be[0]=="string"&&tt.call(Be,"index")&&(Bt.index=Be.index,Bt.input=Be.input),Bt}(l),!le)return Wr(l,ne)}else{var Ue=Pr(l),st=Ue==Y||Ue==q;if(vo(l))return ef(l,le);if(Ue==be||Ue==Q||st&&!R){if(ne=Oe||st?{}:vd(l),!le)return Oe?function(Be,He){return Vo(Be,lf(Be),He)}(l,function(Be,He){return Be&&Vo(He,mr(He),Be)}(ne,l)):function(Be,He){return Vo(Be,fc(Be),He)}(l,Fl(ne,l))}else{if(!hn[Ue])return R?l:{};ne=function(Be,He,Bt){var nt=Be.constructor;switch(He){case We:return tf(Be);case V:case z:return new nt(+Be);case ot:return function(Tt,nn){var bt=nn?tf(Tt.buffer):Tt.buffer;return new Tt.constructor(bt,Tt.byteOffset,Tt.byteLength)}(Be,Bt);case xt:case Ye:case Ze:case mt:case se:case ce:case he:case De:case Ge:return Mn(Be,Bt);case ue:return new nt;case Ee:case ve:return new nt(Be);case Fe:return function(Tt){var nn=new Tt.constructor(Tt.source,Yt.exec(Tt));return nn.lastIndex=Tt.lastIndex,nn}(Be);case je:return new nt;case Pe:return Dt=Be,fr?w(fr.call(Dt)):{}}var Dt}(l,Ue,le)}}W||(W=new fo);var vt=W.get(l);if(vt)return vt;W.set(l,ne),Tf(l)?l.forEach(function(Be){ne.add(Qr(Be,y,_,Be,l,W))}):Ar(l)&&l.forEach(function(Be,He){ne.set(He,Qr(Be,y,_,He,l,W))});var jt=Re?g:(Le?Oe?uf:af:Oe?mr:pr)(l);return kr(jt||l,function(Be,He){jt&&(Be=l[He=Be]),uu(ne,He,Qr(Be,y,_,He,l,W))}),ne}function $l(l,y,_){var A=_.length;if(l==null)return!A;for(l=w(l);A--;){var R=_[A],W=y[R],ne=l[R];if(ne===g&&!(R in l)||!W(ne))return!1}return!0}function Wl(l,y,_){if(typeof l!="function")throw new K(E);return yu(function(){l.apply(g,_)},y)}function vi(l,y,_,A){var R=-1,W=Dr,ne=!0,le=l.length,Oe=[],Le=y.length;if(!le)return Oe;_&&(y=cn(y,zn(_))),A?(W=qu,ne=!1):y.length>=200&&(W=Wo,ne=!1,y=new Wi(y));e:for(;++R<le;){var Re=l[R],Ue=_==null?Re:_(Re);if(Re=A||Re!==0?Re:0,ne&&Ue==Ue){for(var st=Le;st--;)if(y[st]===Ue)continue e;Oe.push(Re)}else W(y,Ue,A)||Oe.push(Re)}return Oe}F.templateSettings={escape:fe,evaluate:at,interpolate:zt,variable:"",imports:{_:F}},F.prototype=ic.prototype,F.prototype.constructor=F,lo.prototype=au(ic.prototype),lo.prototype.constructor=lo,un.prototype=au(ic.prototype),un.prototype.constructor=un,wa.prototype.clear=function(){this.__data__=oc?oc(null):{},this.size=0},wa.prototype.delete=function(l){var y=this.has(l)&&delete this.__data__[l];return this.size-=y?1:0,y},wa.prototype.get=function(l){var y=this.__data__;if(oc){var _=y[l];return _===P?g:_}return tt.call(y,l)?y[l]:g},wa.prototype.has=function(l){var y=this.__data__;return oc?y[l]!==g:tt.call(y,l)},wa.prototype.set=function(l,y){var _=this.__data__;return this.size+=this.has(l)?0:1,_[l]=oc&&y===g?P:y,this},On.prototype.clear=function(){this.__data__=[],this.size=0},On.prototype.delete=function(l){var y=this.__data__,_=ac(y,l);return!(_<0)&&(_==y.length-1?y.pop():_a.call(y,_,1),--this.size,!0)},On.prototype.get=function(l){var y=this.__data__,_=ac(y,l);return _<0?g:y[_][1]},On.prototype.has=function(l){return ac(this.__data__,l)>-1},On.prototype.set=function(l,y){var _=this.__data__,A=ac(_,l);return A<0?(++this.size,_.push([l,y])):_[A][1]=y,this},Xo.prototype.clear=function(){this.size=0,this.__data__={hash:new wa,map:new(Ho||On),string:new wa}},Xo.prototype.delete=function(l){var y=Ms(this,l).delete(l);return this.size-=y?1:0,y},Xo.prototype.get=function(l){return Ms(this,l).get(l)},Xo.prototype.has=function(l){return Ms(this,l).has(l)},Xo.prototype.set=function(l,y){var _=Ms(this,l),A=_.size;return _.set(l,y),this.size+=_.size==A?0:1,this},Wi.prototype.add=Wi.prototype.push=function(l){return this.__data__.set(l,P),this},Wi.prototype.has=function(l){return this.__data__.has(l)},fo.prototype.clear=function(){this.__data__=new On,this.size=0},fo.prototype.delete=function(l){var y=this.__data__,_=y.delete(l);return this.size=y.size,_},fo.prototype.get=function(l){return this.__data__.get(l)},fo.prototype.has=function(l){return this.__data__.has(l)},fo.prototype.set=function(l,y){var _=this.__data__;if(_ instanceof On){var A=_.__data__;if(!Ho||A.length<199)return A.push([l,y]),this.size=++_.size,this;_=this.__data__=new Xo(A)}return _.set(l,y),this.size=_.size,this};var Cn=ad(dt),Gp=ad(An,!0);function Hp(l,y){var _=!0;return Cn(l,function(A,R,W){return _=!!y(A,R,W)}),_}function Vn(l,y,_){for(var A=-1,R=l.length;++A<R;){var W=l[A],ne=y(W);if(ne!=null&&(le===g?ne==ne&&!Xr(ne):_(ne,le)))var le=ne,Oe=W}return Oe}function vn(l,y){var _=[];return Cn(l,function(A,R,W){y(A,R,W)&&_.push(A)}),_}function vr(l,y,_,A,R){var W=-1,ne=l.length;for(_||(_=Xy),R||(R=[]);++W<ne;){var le=l[W];y>0&&_(le)?y>1?vr(le,y-1,_,A,R):or(R,le):A||(R[R.length]=le)}return R}var Zt=ud(),Zn=ud(!0);function dt(l,y){return l&&Zt(l,y,pr)}function An(l,y){return l&&Zn(l,y,pr)}function hs(l,y){return xr(y,function(_){return xi(l[_])})}function gi(l,y){for(var _=0,A=(y=Hi(y,l)).length;l!=null&&_<A;)l=l[Ao(y[_++])];return _&&_==A?l:g}function Ul(l,y,_){var A=y(l);return Gt(l)?A:or(A,_(l))}function Fn(l){return l==null?l===g?"[object Undefined]":"[object Null]":yi&&yi in w(l)?function(y){var _=tt.call(y,yi),A=y[yi];try{y[yi]=g;var R=!0}catch(ne){}var W=ln.call(y);return R&&(_?y[yi]=A:delete y[yi]),W}(l):function(y){return ln.call(y)}(l)}function Gn(l,y){return l>y}function Xp(l,y){return l!=null&&tt.call(l,y)}function Yp(l,y){return l!=null&&y in w(l)}function ys(l,y,_){for(var A=_?qu:Dr,R=l[0].length,W=l.length,ne=W,le=et(W),Oe=1/0,Le=[];ne--;){var Re=l[ne];ne&&y&&(Re=cn(Re,zn(y))),Oe=jr(Re.length,Oe),le[ne]=!_&&(y||R>=120&&Re.length>=120)?new Wi(ne&&Re):g}Re=l[0];var Ue=-1,st=le[0];e:for(;++Ue<R&&Le.length<Oe;){var vt=Re[Ue],jt=y?y(vt):vt;if(vt=_||vt!==0?vt:0,!(st?Wo(st,jt):A(Le,jt,_))){for(ne=W;--ne;){var Be=le[ne];if(!(Be?Wo(Be,jt):A(l[ne],jt,_)))continue e}st&&st.push(jt),Le.push(vt)}}return Le}function cu(l,y,_){var A=(l=df(l,y=Hi(y,l)))==null?l:l[Ao(Ur(y))];return A==null?g:En(A,l,_)}function Gl(l){return $n(l)&&Fn(l)==Q}function su(l,y,_,A,R){return l===y||(l==null||y==null||!$n(l)&&!$n(y)?l!=l&&y!=y:function(W,ne,le,Oe,Le,Re){var Ue=Gt(W),st=Gt(ne),vt=Ue?ee:Pr(W),jt=st?ee:Pr(ne),Be=(vt=vt==Q?be:vt)==be,He=(jt=jt==Q?be:jt)==be,Bt=vt==jt;if(Bt&&vo(W)){if(!vo(ne))return!1;Ue=!0,Be=!1}if(Bt&&!Be)return Re||(Re=new fo),Ue||Sa(W)?hd(W,ne,le,Oe,Le,Re):function(bt,Pt,Wn,me,To,ir,Jo){switch(Wn){case ot:if(bt.byteLength!=Pt.byteLength||bt.byteOffset!=Pt.byteOffset)return!1;bt=bt.buffer,Pt=Pt.buffer;case We:return!(bt.byteLength!=Pt.byteLength||!ir(new ma(bt),new ma(Pt)));case V:case z:case Ee:return to(+bt,+Pt);case H:return bt.name==Pt.name&&bt.message==Pt.message;case Fe:case ve:return bt==Pt+"";case ue:var Pi=Er;case je:var mu=1&me;if(Pi||(Pi=pi),bt.size!=Pt.size&&!mu)return!1;var Tc=Jo.get(bt);if(Tc)return Tc==Pt;me|=2,Jo.set(bt,Pt);var Ma=hd(Pi(bt),Pi(Pt),me,To,ir,Jo);return Jo.delete(bt),Ma;case Pe:if(fr)return fr.call(bt)==fr.call(Pt)}return!1}(W,ne,vt,le,Oe,Le,Re);if(!(1&le)){var nt=Be&&tt.call(W,"__wrapped__"),Dt=He&&tt.call(ne,"__wrapped__");if(nt||Dt){var Tt=nt?W.value():W,nn=Dt?ne.value():ne;return Re||(Re=new fo),Le(Tt,nn,le,Oe,Re)}}return Bt?(Re||(Re=new fo),function(bt,Pt,Wn,me,To,ir){var Jo=1&Wn,Pi=af(bt),mu=Pi.length,Tc=af(Pt).length;if(mu!=Tc&&!Jo)return!1;for(var Ma=mu;Ma--;){var ta=Pi[Ma];if(!(Jo?ta in Pt:tt.call(Pt,ta)))return!1}var qf=ir.get(bt),Zf=ir.get(Pt);if(qf&&Zf)return qf==Pt&&Zf==bt;var kc=!0;ir.set(bt,Pt),ir.set(Pt,bt);for(var Ys=Jo;++Ma<mu;){var na=bt[ta=Pi[Ma]],Dc=Pt[ta];if(me)var Jf=Jo?me(Dc,na,ta,Pt,bt,ir):me(na,Dc,ta,bt,Pt,ir);if(!(Jf===g?na===Dc||To(na,Dc,Wn,me,ir):Jf)){kc=!1;break}Ys||(Ys=ta=="constructor")}if(kc&&!Ys){var ra=bt.constructor,Nc=Pt.constructor;ra==Nc||!("constructor"in bt)||!("constructor"in Pt)||typeof ra=="function"&&ra instanceof ra&&typeof Nc=="function"&&Nc instanceof Nc||(kc=!1)}return ir.delete(bt),ir.delete(Pt),kc}(W,ne,le,Oe,Le,Re)):!1}(l,y,_,A,su,R))}function vs(l,y,_,A){var R=_.length,W=R,ne=!A;if(l==null)return!W;for(l=w(l);R--;){var le=_[R];if(ne&&le[2]?le[1]!==l[le[0]]:!(le[0]in l))return!1}for(;++R<W;){var Oe=(le=_[R])[0],Le=l[Oe],Re=le[1];if(ne&&le[2]){if(Le===g&&!(Oe in l))return!1}else{var Ue=new fo;if(A)var st=A(Le,Re,Oe,l,y,Ue);if(!(st===g?su(Re,Le,3,A,Ue):st))return!1}}return!0}function lu(l){return!(!wn(l)||(y=l,Ut&&Ut in y))&&(xi(l)?Ir:Xn).test(qi(l));var y}function Hl(l){return typeof l=="function"?l:l==null?_r:typeof l=="object"?Gt(l)?Kp(l[0],l[1]):Vp(l):er(l)}function bi(l){if(!dc(l))return Lp(l);var y=[];for(var _ in w(l))tt.call(l,_)&&_!="constructor"&&y.push(_);return y}function $y(l){if(!wn(l))return function(R){var W=[];if(R!=null)for(var ne in w(R))W.push(ne);return W}(l);var y=dc(l),_=[];for(var A in l)(A!="constructor"||!y&&tt.call(l,A))&&_.push(A);return _}function mi(l,y){return l<y}function po(l,y){var _=-1,A=Hr(l)?et(l.length):[];return Cn(l,function(R,W,ne){A[++_]=y(R,W,ne)}),A}function Vp(l){var y=sf(l);return y.length==1&&y[0][2]?Ts(y[0][0],y[0][1]):function(_){return _===l||vs(_,l,y)}}function Kp(l,y){return ff(l)&&hu(y)?Ts(Ao(l),y):function(_){var A=Qi(_,l);return A===g&&A===y?ja(_,l):su(y,A,3)}}function gs(l,y,_,A,R){l!==y&&Zt(y,function(W,ne){if(R||(R=new fo),wn(W))(function(Oe,Le,Re,Ue,st,vt,jt){var Be=ke(Oe,Re),He=ke(Le,Re),Bt=jt.get(He);if(Bt)return void ps(Oe,Re,Bt);var nt=vt?vt(Be,He,Re+"",Oe,Le,jt):g,Dt=nt===g;if(Dt){var Tt=Gt(He),nn=!Tt&&vo(He),bt=!Tt&&!nn&&Sa(He);nt=He,Tt||nn||bt?Gt(Be)?nt=Be:Qn(Be)?nt=Wr(Be):nn?(Dt=!1,nt=ef(He,!0)):bt?(Dt=!1,nt=Mn(He,!0)):nt=[]:Ei(He)||Zi(He)?(nt=Be,Zi(Be)?nt=Ls(Be):wn(Be)&&!xi(Be)||(nt=vd(He))):Dt=!1}Dt&&(jt.set(He,nt),st(nt,He,Ue,vt,jt),jt.delete(He)),ps(Oe,Re,nt)})(l,y,ne,_,gs,A,R);else{var le=A?A(ke(l,ne),W,ne+"",l,y,R):g;le===g&&(le=W),ps(l,ne,le)}},mr)}function qp(l,y){var _=l.length;if(_)return Ln(y+=y<0?_:0,_)?l[y]:g}function Zp(l,y,_){y=y.length?cn(y,function(W){return Gt(W)?function(ne){return gi(ne,W.length===1?W[0]:W)}:W}):[_r];var A=-1;y=cn(y,zn(kt()));var R=po(l,function(W,ne,le){var Oe=cn(y,function(Le){return Le(W)});return{criteria:Oe,index:++A,value:W}});return function(W,ne){var le=W.length;for(W.sort(ne);le--;)W[le]=W[le].value;return W}(R,function(W,ne){return function(le,Oe,Le){for(var Re=-1,Ue=le.criteria,st=Oe.criteria,vt=Ue.length,jt=Le.length;++Re<vt;){var Be=id(Ue[Re],st[Re]);if(Be)return Re>=jt?Be:Be*(Le[Re]=="desc"?-1:1)}return le.index-Oe.index}(W,ne,_)})}function Jp(l,y,_){for(var A=-1,R=y.length,W={};++A<R;){var ne=y[A],le=gi(l,ne);_(le,ne)&&pu(W,Hi(ne,l),le)}return W}function Xl(l,y,_,A){var R=A?Nr:Fi,W=-1,ne=y.length,le=l;for(l===y&&(y=Wr(y)),_&&(le=cn(l,zn(_)));++W<ne;)for(var Oe=0,Le=y[W],Re=_?_(Le):Le;(Oe=R(le,Re,Oe,A))>-1;)le!==l&&_a.call(le,Oe,1),_a.call(l,Oe,1);return l}function fu(l,y){for(var _=l?y.length:0,A=_-1;_--;){var R=y[_];if(_==A||R!==W){var W=R;Ln(R)?_a.call(l,R,1):_s(l,R)}}return l}function Yl(l,y){return l+nu(ss()*(y-l+1))}function bs(l,y){var _="";if(!l||y<1||y>G)return _;do y%2&&(_+=l),(y=nu(y/2))&&(l+=l);while(y);return _}function Jt(l,y){return ks(pf(l,y,_r),l+"")}function Wy(l){return zl(Aa(l))}function Vl(l,y){var _=Aa(l);return hc(_,Ui(y,0,_.length))}function pu(l,y,_,A){if(!wn(l))return l;for(var R=-1,W=(y=Hi(y,l)).length,ne=W-1,le=l;le!=null&&++R<W;){var Oe=Ao(y[R]),Le=_;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return l;if(R!=ne){var Re=le[Oe];(Le=A?A(Re,Oe,le):g)===g&&(Le=wn(Re)?Re:Ln(y[R+1])?[]:{})}uu(le,Oe,Le),le=le[Oe]}return l}var Qp=ls?function(l,y){return ls.set(l,y),l}:_r,Uy=rc?function(l,y){return rc(l,"toString",{configurable:!0,enumerable:!1,value:zf(y),writable:!0})}:_r;function Gy(l){return hc(Aa(l))}function ho(l,y,_){var A=-1,R=l.length;y<0&&(y=-y>R?0:R+y),(_=_>R?R:_)<0&&(_+=R),R=y>_?0:_-y>>>0,y>>>=0;for(var W=et(R);++A<R;)W[A]=l[A+y];return W}function Kl(l,y){var _;return Cn(l,function(A,R,W){return!(_=y(A,R,W))}),!!_}function ms(l,y,_){var A=0,R=l==null?A:l.length;if(typeof y=="number"&&y==y&&R<=2147483647){for(;A<R;){var W=A+R>>>1,ne=l[W];ne!==null&&!Xr(ne)&&(_?ne<=y:ne<y)?A=W+1:R=W}return R}return ql(l,y,_r,_)}function ql(l,y,_,A){var R=0,W=l==null?0:l.length;if(W===0)return 0;for(var ne=(y=_(y))!=y,le=y===null,Oe=Xr(y),Le=y===g;R<W;){var Re=nu((R+W)/2),Ue=_(l[Re]),st=Ue!==g,vt=Ue===null,jt=Ue==Ue,Be=Xr(Ue);if(ne)var He=A||jt;else He=Le?jt&&(A||st):le?jt&&st&&(A||!vt):Oe?jt&&st&&!vt&&(A||!Be):!vt&&!Be&&(A?Ue<=y:Ue<y);He?R=Re+1:W=Re}return jr(W,4294967294)}function ed(l,y){for(var _=-1,A=l.length,R=0,W=[];++_<A;){var ne=l[_],le=y?y(ne):ne;if(!_||!to(le,Oe)){var Oe=le;W[R++]=ne===0?0:ne}}return W}function Zl(l){return typeof l=="number"?l:Xr(l)?te:+l}function $r(l){if(typeof l=="string")return l;if(Gt(l))return cn(l,$r)+"";if(Xr(l))return Fp?Fp.call(l):"";var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function Gi(l,y,_){var A=-1,R=Dr,W=l.length,ne=!0,le=[],Oe=le;if(_)ne=!1,R=qu;else if(W>=200){var Le=y?null:rf(l);if(Le)return pi(Le);ne=!1,R=Wo,Oe=new Wi}else Oe=y?[]:le;e:for(;++A<W;){var Re=l[A],Ue=y?y(Re):Re;if(Re=_||Re!==0?Re:0,ne&&Ue==Ue){for(var st=Oe.length;st--;)if(Oe[st]===Ue)continue e;y&&Oe.push(Ue),le.push(Re)}else R(Oe,Ue,_)||(Oe!==le&&Oe.push(Ue),le.push(Re))}return le}function _s(l,y){return(l=df(l,y=Hi(y,l)))==null||delete l[Ao(Ur(y))]}function td(l,y,_,A){return pu(l,y,_(gi(l,y)),A)}function uc(l,y,_,A){for(var R=l.length,W=A?R:-1;(A?W--:++W<R)&&y(l[W],W,l););return _?ho(l,A?0:W,A?W+1:R):ho(l,A?W+1:0,A?R:W)}function nd(l,y){var _=l;return _ instanceof un&&(_=_.value()),qa(y,function(A,R){return R.func.apply(R.thisArg,or([A],R.args))},_)}function Os(l,y,_){var A=l.length;if(A<2)return A?Gi(l[0]):[];for(var R=-1,W=et(A);++R<A;)for(var ne=l[R],le=-1;++le<A;)le!=R&&(W[R]=vi(W[R]||ne,l[le],y,_));return Gi(vr(W,1),y,_)}function rd(l,y,_){for(var A=-1,R=l.length,W=y.length,ne={};++A<R;){var le=A<W?y[A]:g;_(ne,l[A],le)}return ne}function ws(l){return Qn(l)?l:[]}function Jl(l){return typeof l=="function"?l:_r}function Hi(l,y){return Gt(l)?l:ff(l,y)?[l]:gf(xn(l))}var od=Jt;function Xi(l,y,_){var A=l.length;return _=_===g?A:_,!y&&_>=A?l:ho(l,y,_)}var Ql=Ry||function(l){return Un.clearTimeout(l)};function ef(l,y){if(y)return l.slice();var _=l.length,A=nc?nc(_):new l.constructor(_);return l.copy(A),A}function tf(l){var y=new l.constructor(l.byteLength);return new ma(y).set(new ma(l)),y}function Mn(l,y){var _=y?tf(l.buffer):l.buffer;return new l.constructor(_,l.byteOffset,l.length)}function id(l,y){if(l!==y){var _=l!==g,A=l===null,R=l==l,W=Xr(l),ne=y!==g,le=y===null,Oe=y==y,Le=Xr(y);if(!le&&!Le&&!W&&l>y||W&&ne&&Oe&&!le&&!Le||A&&ne&&Oe||!_&&Oe||!R)return 1;if(!A&&!W&&!Le&&l<y||Le&&_&&R&&!A&&!W||le&&_&&R||!ne&&R||!Oe)return-1}return 0}function In(l,y,_,A){for(var R=-1,W=l.length,ne=_.length,le=-1,Oe=y.length,Le=lr(W-ne,0),Re=et(Oe+Le),Ue=!A;++le<Oe;)Re[le]=y[le];for(;++R<ne;)(Ue||R<W)&&(Re[_[R]]=l[R]);for(;Le--;)Re[le++]=l[R++];return Re}function xs(l,y,_,A){for(var R=-1,W=l.length,ne=-1,le=_.length,Oe=-1,Le=y.length,Re=lr(W-le,0),Ue=et(Re+Le),st=!A;++R<Re;)Ue[R]=l[R];for(var vt=R;++Oe<Le;)Ue[vt+Oe]=y[Oe];for(;++ne<le;)(st||R<W)&&(Ue[vt+_[ne]]=l[R++]);return Ue}function Wr(l,y){var _=-1,A=l.length;for(y||(y=et(A));++_<A;)y[_]=l[_];return y}function Vo(l,y,_,A){var R=!_;_||(_={});for(var W=-1,ne=y.length;++W<ne;){var le=y[W],Oe=A?A(_[le],l[le],le,_,l):g;Oe===g&&(Oe=l[le]),R?Yo(_,le,Oe):uu(_,le,Oe)}return _}function Es(l,y){return function(_,A){var R=Gt(_)?ns:Up,W=y?y():{};return R(_,l,kt(A,2),W)}}function xa(l){return Jt(function(y,_){var A=-1,R=_.length,W=R>1?_[R-1]:g,ne=R>2?_[2]:g;for(W=l.length>3&&typeof W=="function"?(R--,W):g,ne&&gr(_[0],_[1],ne)&&(W=R<3?g:W,R=1),y=w(y);++A<R;){var le=_[A];le&&l(y,le,A,W)}return y})}function ad(l,y){return function(_,A){if(_==null)return _;if(!Hr(_))return l(_,A);for(var R=_.length,W=y?R:-1,ne=w(_);(y?W--:++W<R)&&A(ne[W],W,ne)!==!1;);return _}}function ud(l){return function(y,_,A){for(var R=-1,W=w(y),ne=A(y),le=ne.length;le--;){var Oe=ne[l?le:++R];if(_(W[Oe],Oe,W)===!1)break}return y}}function cd(l){return function(y){var _=So(y=xn(y))?Fr(y):g,A=_?_[0]:y.charAt(0),R=_?Xi(_,1).join(""):y.slice(1);return A[l]()+R}}function Yi(l){return function(y){return qa(Lf(Ws(y).replace(Zc,"")),l,"")}}function cc(l){return function(){var y=arguments;switch(y.length){case 0:return new l;case 1:return new l(y[0]);case 2:return new l(y[0],y[1]);case 3:return new l(y[0],y[1],y[2]);case 4:return new l(y[0],y[1],y[2],y[3]);case 5:return new l(y[0],y[1],y[2],y[3],y[4]);case 6:return new l(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new l(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=au(l.prototype),A=l.apply(_,y);return wn(A)?A:_}}function sd(l){return function(y,_,A){var R=w(y);if(!Hr(y)){var W=kt(_,3);y=pr(y),_=function(le){return W(R[le],le,R)}}var ne=l(y,_,A);return ne>-1?R[W?y[ne]:ne]:g}}function ld(l){return Oi(function(y){var _=y.length,A=_,R=lo.prototype.thru;for(l&&y.reverse();A--;){var W=y[A];if(typeof W!="function")throw new K(E);if(R&&!ne&&As(W)=="wrapper")var ne=new lo([],!0)}for(A=ne?A:_;++A<_;){var le=As(W=y[A]),Oe=le=="wrapper"?cf(W):g;ne=Oe&&pc(Oe[0])&&Oe[1]==424&&!Oe[4].length&&Oe[9]==1?ne[As(Oe[0])].apply(ne,Oe[3]):W.length==1&&pc(W)?ne[le]():ne.thru(W)}return function(){var Le=arguments,Re=Le[0];if(ne&&Le.length==1&&Gt(Re))return ne.plant(Re).value();for(var Ue=0,st=_?y[Ue].apply(this,Le):Re;++Ue<_;)st=y[Ue].call(this,st);return st}})}function sc(l,y,_,A,R,W,ne,le,Oe,Le){var Re=y&N,Ue=1&y,st=2&y,vt=24&y,jt=512&y,Be=st?g:cc(l);return function He(){for(var Bt=arguments.length,nt=et(Bt),Dt=Bt;Dt--;)nt[Dt]=arguments[Dt];if(vt)var Tt=Vi(He),nn=Rl(nt,Tt);if(A&&(nt=In(nt,A,R,vt)),W&&(nt=xs(nt,W,ne,vt)),Bt-=nn,vt&&Bt<Le){var bt=zr(nt,Tt);return js(l,y,sc,He.placeholder,_,nt,bt,le,Oe,Le-Bt)}var Pt=Ue?_:this,Wn=st?Pt[l]:l;return Bt=nt.length,le?nt=Yy(nt,le):jt&&Bt>1&&nt.reverse(),Re&&Oe<Bt&&(nt.length=Oe),this&&this!==Un&&this instanceof He&&(Wn=Be||cc(Wn)),Wn.apply(Pt,nt)}}function fd(l,y){return function(_,A){return function(R,W,ne,le){return dt(R,function(Oe,Le,Re){W(le,ne(Oe),Le,Re)}),le}(_,l,y(A),{})}}function lc(l,y){return function(_,A){var R;if(_===g&&A===g)return y;if(_!==g&&(R=_),A!==g){if(R===g)return A;typeof _=="string"||typeof A=="string"?(_=$r(_),A=$r(A)):(_=Zl(_),A=Zl(A)),R=l(_,A)}return R}}function nf(l){return Oi(function(y){return y=cn(y,zn(kt())),Jt(function(_){var A=this;return l(y,function(R){return En(R,A,_)})})})}function Ss(l,y){var _=(y=y===g?" ":$r(y)).length;if(_<2)return _?bs(y,l):y;var A=bs(y,as(l/jo(y)));return So(y)?Xi(Fr(A),0,l).join(""):A.slice(0,l)}function Ko(l){return function(y,_,A){return A&&typeof A!="number"&&gr(y,_,A)&&(_=A=g),y=Si(y),_===g?(_=y,y=0):_=Si(_),function(R,W,ne,le){for(var Oe=-1,Le=lr(as((W-R)/(ne||1)),0),Re=et(Le);Le--;)Re[le?Le:++Oe]=R,R+=ne;return Re}(y,_,A=A===g?y<_?1:-1:Si(A),l)}}function du(l){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=no(y),_=no(_)),l(y,_)}}function js(l,y,_,A,R,W,ne,le,Oe,Le){var Re=8&y;y|=Re?T:C,4&(y&=~(Re?C:T))||(y&=-4);var Ue=[l,y,R,Re?W:g,Re?ne:g,Re?g:W,Re?g:ne,le,Oe,Le],st=_.apply(g,Ue);return pc(l)&&hf(st,Ue),st.placeholder=A,yf(st,l,y)}function Ps(l){var y=O[l];return function(_,A){if(_=no(_),(A=A==null?0:jr(Xt(A),292))&&Ip(_)){var R=(xn(_)+"e").split("e");return+((R=(xn(y(R[0]+"e"+(+R[1]+A)))+"e").split("e"))[0]+"e"+(+R[1]-A))}return y(_)}}var rf=Oa&&1/pi(new Oa([,-0]))[1]==U?function(l){return new Oa(l)}:Ac;function of(l){return function(y){var _=Pr(y);return _==ue?Er(y):_==je?eu(y):function(A,R){return cn(R,function(W){return[W,A[W]]})}(y,l(y))}}function _i(l,y,_,A,R,W,ne,le){var Oe=2&y;if(!Oe&&typeof l!="function")throw new K(E);var Le=A?A.length:0;if(Le||(y&=-97,A=R=g),ne=ne===g?ne:lr(Xt(ne),0),le=le===g?le:Xt(le),Le-=R?R.length:0,y&C){var Re=A,Ue=R;A=R=g}var st=Oe?g:cf(l),vt=[l,y,_,A,R,Re,Ue,W,ne,le];if(st&&function(Be,He){var Bt=Be[1],nt=He[1],Dt=Bt|nt,Tt=Dt<131,nn=nt==N&&Bt==8||nt==N&&Bt==I&&Be[7].length<=He[8]||nt==384&&He[7].length<=He[8]&&Bt==8;if(!Tt&&!nn)return Be;1&nt&&(Be[2]=He[2],Dt|=1&Bt?0:4);var bt=He[3];if(bt){var Pt=Be[3];Be[3]=Pt?In(Pt,bt,He[4]):bt,Be[4]=Pt?zr(Be[3],j):He[4]}(bt=He[5])&&(Pt=Be[5],Be[5]=Pt?xs(Pt,bt,He[6]):bt,Be[6]=Pt?zr(Be[5],j):He[6]),(bt=He[7])&&(Be[7]=bt),nt&N&&(Be[8]=Be[8]==null?He[8]:jr(Be[8],He[8])),Be[9]==null&&(Be[9]=He[9]),Be[0]=He[0],Be[1]=Dt}(vt,st),l=vt[0],y=vt[1],_=vt[2],A=vt[3],R=vt[4],!(le=vt[9]=vt[9]===g?Oe?0:l.length:lr(vt[9]-Le,0))&&24&y&&(y&=-25),y&&y!=1)jt=y==8||y==k?function(Be,He,Bt){var nt=cc(Be);return function Dt(){for(var Tt=arguments.length,nn=et(Tt),bt=Tt,Pt=Vi(Dt);bt--;)nn[bt]=arguments[bt];var Wn=Tt<3&&nn[0]!==Pt&&nn[Tt-1]!==Pt?[]:zr(nn,Pt);return(Tt-=Wn.length)<Bt?js(Be,He,sc,Dt.placeholder,g,nn,Wn,g,g,Bt-Tt):En(this&&this!==Un&&this instanceof Dt?nt:Be,this,nn)}}(l,y,le):y!=T&&y!=33||R.length?sc.apply(g,vt):function(Be,He,Bt,nt){var Dt=1&He,Tt=cc(Be);return function nn(){for(var bt=-1,Pt=arguments.length,Wn=-1,me=nt.length,To=et(me+Pt),ir=this&&this!==Un&&this instanceof nn?Tt:Be;++Wn<me;)To[Wn]=nt[Wn];for(;Pt--;)To[Wn++]=arguments[++bt];return En(ir,Dt?Bt:this,To)}}(l,y,_,A);else var jt=function(Be,He,Bt){var nt=1&He,Dt=cc(Be);return function Tt(){return(this&&this!==Un&&this instanceof Tt?Dt:Be).apply(nt?Bt:this,arguments)}}(l,y,_);return yf((st?Qp:hf)(jt,vt),l,y)}function pd(l,y,_,A){return l===g||to(l,$e[_])&&!tt.call(A,_)?y:l}function dd(l,y,_,A,R,W){return wn(l)&&wn(y)&&(W.set(y,l),gs(l,y,g,dd,W),W.delete(y)),l}function Hy(l){return Ei(l)?g:l}function hd(l,y,_,A,R,W){var ne=1&_,le=l.length,Oe=y.length;if(le!=Oe&&!(ne&&Oe>le))return!1;var Le=W.get(l),Re=W.get(y);if(Le&&Re)return Le==y&&Re==l;var Ue=-1,st=!0,vt=2&_?new Wi:g;for(W.set(l,y),W.set(y,l);++Ue<le;){var jt=l[Ue],Be=y[Ue];if(A)var He=ne?A(Be,jt,Ue,y,l,W):A(jt,Be,Ue,l,y,W);if(He!==g){if(He)continue;st=!1;break}if(vt){if(!Zu(y,function(Bt,nt){if(!Wo(vt,nt)&&(jt===Bt||R(jt,Bt,_,A,W)))return vt.push(nt)})){st=!1;break}}else if(jt!==Be&&!R(jt,Be,_,A,W)){st=!1;break}}return W.delete(l),W.delete(y),st}function Oi(l){return ks(pf(l,g,Of),l+"")}function af(l){return Ul(l,pr,fc)}function uf(l){return Ul(l,mr,lf)}var cf=ls?function(l){return ls.get(l)}:Ac;function As(l){for(var y=l.name+"",_=iu[y],A=tt.call(iu,y)?_.length:0;A--;){var R=_[A],W=R.func;if(W==null||W==l)return R.name}return y}function Vi(l){return(tt.call(F,"placeholder")?F:l).placeholder}function kt(){var l=F.iteratee||bu;return l=l===bu?Hl:l,arguments.length?l(arguments[0],arguments[1]):l}function Ms(l,y){var _,A,R=l.__data__;return((A=typeof(_=y))=="string"||A=="number"||A=="symbol"||A=="boolean"?_!=="__proto__":_===null)?R[typeof y=="string"?"string":"hash"]:R.map}function sf(l){for(var y=pr(l),_=y.length;_--;){var A=y[_],R=l[A];y[_]=[A,R,hu(R)]}return y}function Ea(l,y){var _=function(A,R){return A==null?g:A[R]}(l,y);return lu(_)?_:g}var fc=Cl?function(l){return l==null?[]:(l=w(l),xr(Cl(l),function(y){return Sr.call(l,y)}))}:Mc,lf=Cl?function(l){for(var y=[];l;)or(y,fc(l)),l=di(l);return y}:Mc,Pr=Fn;function yd(l,y,_){for(var A=-1,R=(y=Hi(y,l)).length,W=!1;++A<R;){var ne=Ao(y[A]);if(!(W=l!=null&&_(l,ne)))break;l=l[ne]}return W||++A!=R?W:!!(R=l==null?0:l.length)&&Ji(R)&&Ln(ne,R)&&(Gt(l)||Zi(l))}function vd(l){return typeof l.constructor!="function"||dc(l)?{}:au(di(l))}function Xy(l){return Gt(l)||Zi(l)||!!($i&&l&&l[$i])}function Ln(l,y){var _=typeof l;return!!(y=y==null?G:y)&&(_=="number"||_!="symbol"&&ut.test(l))&&l>-1&&l%1==0&&l<y}function gr(l,y,_){if(!wn(_))return!1;var A=typeof y;return!!(A=="number"?Hr(_)&&Ln(y,_.length):A=="string"&&y in _)&&to(_[y],l)}function ff(l,y){if(Gt(l))return!1;var _=typeof l;return!(_!="number"&&_!="symbol"&&_!="boolean"&&l!=null&&!Xr(l))||Ft.test(l)||!dn.test(l)||y!=null&&l in w(y)}function pc(l){var y=As(l),_=F[y];if(typeof _!="function"||!(y in un.prototype))return!1;if(l===_)return!0;var A=cf(_);return!!A&&l===A[0]}(ru&&Pr(new ru(new ArrayBuffer(1)))!=ot||Ho&&Pr(new Ho)!=ue||Ll&&Pr(Ll.resolve())!=Ae||Oa&&Pr(new Oa)!=je||ou&&Pr(new ou)!=Me)&&(Pr=function(l){var y=Fn(l),_=y==be?l.constructor:g,A=_?qi(_):"";if(A)switch(A){case By:return ot;case Bp:return ue;case zy:return Ae;case Fy:return je;case zp:return Me}return y});var Ki=ct?xi:Xs;function dc(l){var y=l&&l.constructor;return l===(typeof y=="function"&&y.prototype||$e)}function hu(l){return l==l&&!wn(l)}function Ts(l,y){return function(_){return _!=null&&_[l]===y&&(y!==g||l in w(_))}}function pf(l,y,_){return y=lr(y===g?l.length-1:y,0),function(){for(var A=arguments,R=-1,W=lr(A.length-y,0),ne=et(W);++R<W;)ne[R]=A[y+R];R=-1;for(var le=et(y+1);++R<y;)le[R]=A[R];return le[y]=_(ne),En(l,this,le)}}function df(l,y){return y.length<2?l:gi(l,ho(y,0,-1))}function Yy(l,y){for(var _=l.length,A=jr(y.length,_),R=Wr(l);A--;){var W=y[A];l[A]=Ln(W,_)?R[W]:g}return l}function ke(l,y){if((y!=="constructor"||typeof l[y]!="function")&&y!="__proto__")return l[y]}var hf=vf(Qp),yu=Cp||function(l,y){return Un.setTimeout(l,y)},ks=vf(Uy);function yf(l,y,_){var A=y+"";return ks(l,function(R,W){var ne=W.length;if(!ne)return R;var le=ne-1;return W[le]=(ne>1?"& ":"")+W[le],W=W.join(ne>2?", ":" "),R.replace(Z,`{
/* [wrapped with `+W+`] */
`)}(A,function(R,W){return kr(ie,function(ne){var le="_."+ne[0];W&ne[1]&&!Dr(R,le)&&R.push(le)}),R.sort()}(function(R){var W=R.match(de);return W?W[1].split(oe):[]}(A),_)))}function vf(l){var y=0,_=0;return function(){var A=us(),R=16-(A-_);if(_=A,R>0){if(++y>=800)return arguments[0]}else y=0;return l.apply(g,arguments)}}function hc(l,y){var _=-1,A=l.length,R=A-1;for(y=y===g?A:y;++_<y;){var W=Yl(_,R),ne=l[W];l[W]=l[_],l[_]=ne}return l.length=y,l}var gf=function(l){var y=mc(l,function(A){return _.size===500&&_.clear(),A}),_=y.cache;return y}(function(l){var y=[];return l.charCodeAt(0)===46&&y.push(""),l.replace(rn,function(_,A,R,W){y.push(R?W.replace(Ke,"$1"):A||_)}),y});function Ao(l){if(typeof l=="string"||Xr(l))return l;var y=l+"";return y=="0"&&1/l==-1/0?"-0":y}function qi(l){if(l!=null){try{return Kt.call(l)}catch(y){}try{return l+""}catch(y){}}return""}function bf(l){if(l instanceof un)return l.clone();var y=new lo(l.__wrapped__,l.__chain__);return y.__actions__=Wr(l.__actions__),y.__index__=l.__index__,y.__values__=l.__values__,y}var gd=Jt(function(l,y){return Qn(l)?vi(l,vr(y,1,Qn,!0)):[]}),bd=Jt(function(l,y){var _=Ur(y);return Qn(_)&&(_=g),Qn(l)?vi(l,vr(y,1,Qn,!0),kt(_,2)):[]}),md=Jt(function(l,y){var _=Ur(y);return Qn(_)&&(_=g),Qn(l)?vi(l,vr(y,1,Qn,!0),g,_):[]});function mf(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Xt(_);return R<0&&(R=lr(A+R,0)),Fo(l,kt(y,3),R)}function _f(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A-1;return _!==g&&(R=Xt(_),R=_<0?lr(A+R,0):jr(R,A-1)),Fo(l,kt(y,3),R,!0)}function Of(l){return l!=null&&l.length?vr(l,1):[]}function wf(l){return l&&l.length?l[0]:g}var _d=Jt(function(l){var y=cn(l,ws);return y.length&&y[0]===l[0]?ys(y):[]}),Od=Jt(function(l){var y=Ur(l),_=cn(l,ws);return y===Ur(_)?y=g:_.pop(),_.length&&_[0]===l[0]?ys(_,kt(y,2)):[]}),wd=Jt(function(l){var y=Ur(l),_=cn(l,ws);return(y=typeof y=="function"?y:g)&&_.pop(),_.length&&_[0]===l[0]?ys(_,g,y):[]});function Ur(l){var y=l==null?0:l.length;return y?l[y-1]:g}var Ds=Jt(xd);function xd(l,y){return l&&l.length&&y&&y.length?Xl(l,y):l}var Mo=Oi(function(l,y){var _=l==null?0:l.length,A=ds(l,y);return fu(l,cn(y,function(R){return Ln(R,_)?+R:R}).sort(id)),A});function qo(l){return l==null?l:Ly.call(l)}var Vy=Jt(function(l){return Gi(vr(l,1,Qn,!0))}),eo=Jt(function(l){var y=Ur(l);return Qn(y)&&(y=g),Gi(vr(l,1,Qn,!0),kt(y,2))}),Ed=Jt(function(l){var y=Ur(l);return y=typeof y=="function"?y:g,Gi(vr(l,1,Qn,!0),g,y)});function yc(l){if(!l||!l.length)return[];var y=0;return l=xr(l,function(_){if(Qn(_))return y=lr(_.length,y),!0}),ba(y,function(_){return cn(l,Rr(_))})}function xf(l,y){if(!l||!l.length)return[];var _=yc(l);return y==null?_:cn(_,function(A){return En(y,g,A)})}var Sd=Jt(function(l,y){return Qn(l)?vi(l,y):[]}),jd=Jt(function(l){return Os(xr(l,Qn))}),Pd=Jt(function(l){var y=Ur(l);return Qn(y)&&(y=g),Os(xr(l,Qn),kt(y,2))}),Ad=Jt(function(l){var y=Ur(l);return y=typeof y=="function"?y:g,Os(xr(l,Qn),g,y)}),Ef=Jt(yc),vc=Jt(function(l){var y=l.length,_=y>1?l[y-1]:g;return _=typeof _=="function"?(l.pop(),_):g,xf(l,_)});function br(l){var y=F(l);return y.__chain__=!0,y}function Ns(l,y){return y(l)}var Ky=Oi(function(l){var y=l.length,_=y?l[0]:0,A=this.__wrapped__,R=function(W){return ds(W,l)};return!(y>1||this.__actions__.length)&&A instanceof un&&Ln(_)?((A=A.slice(_,+_+(y?1:0))).__actions__.push({func:Ns,args:[R],thisArg:g}),new lo(A,this.__chain__).thru(function(W){return y&&!W.length&&W.push(g),W})):this.thru(R)}),Sf=Es(function(l,y,_){tt.call(l,_)?++l[_]:Yo(l,_,1)}),Md=sd(mf),Gr=sd(_f);function Jn(l,y){return(Gt(l)?kr:Cn)(l,kt(y,3))}function Td(l,y){return(Gt(l)?rs:Gp)(l,kt(y,3))}var yo=Es(function(l,y,_){tt.call(l,_)?l[_].push(y):Yo(l,_,[y])}),Mt=Jt(function(l,y,_){var A=-1,R=typeof y=="function",W=Hr(l)?et(l.length):[];return Cn(l,function(ne){W[++A]=R?En(y,ne,_):cu(ne,y,_)}),W}),jf=Es(function(l,y,_){Yo(l,_,y)});function vu(l,y){return(Gt(l)?cn:po)(l,kt(y,3))}var Pf=Es(function(l,y,_){l[_?0:1].push(y)},function(){return[[],[]]}),kd=Jt(function(l,y){if(l==null)return[];var _=y.length;return _>1&&gr(l,y[0],y[1])?y=[]:_>2&&gr(y[0],y[1],y[2])&&(y=[y[0]]),Zp(l,vr(y,1),[])}),gc=Cy||function(){return Un.Date.now()};function Dd(l,y,_){return y=_?g:y,y=l&&y==null?l.length:y,_i(l,N,g,g,g,g,y)}function Nd(l,y){var _;if(typeof y!="function")throw new K(E);return l=Xt(l),function(){return--l>0&&(_=y.apply(this,arguments)),l<=1&&(y=g),_}}var bc=Jt(function(l,y,_){var A=1;if(_.length){var R=zr(_,Vi(bc));A|=T}return _i(l,A,y,_,R)}),Rd=Jt(function(l,y,_){var A=3;if(_.length){var R=zr(_,Vi(Rd));A|=T}return _i(y,A,l,_,R)});function Rs(l,y,_){var A,R,W,ne,le,Oe,Le=0,Re=!1,Ue=!1,st=!0;if(typeof l!="function")throw new K(E);function vt(Dt){var Tt=A,nn=R;return A=R=g,Le=Dt,ne=l.apply(nn,Tt)}function jt(Dt){return Le=Dt,le=yu(He,y),Re?vt(Dt):ne}function Be(Dt){var Tt=Dt-Oe;return Oe===g||Tt>=y||Tt<0||Ue&&Dt-Le>=W}function He(){var Dt=gc();if(Be(Dt))return Bt(Dt);le=yu(He,function(Tt){var nn=y-(Tt-Oe);return Ue?jr(nn,W-(Tt-Le)):nn}(Dt))}function Bt(Dt){return le=g,st&&A?vt(Dt):(A=R=g,ne)}function nt(){var Dt=gc(),Tt=Be(Dt);if(A=arguments,R=this,Oe=Dt,Tt){if(le===g)return jt(Oe);if(Ue)return Ql(le),le=yu(He,y),vt(Oe)}return le===g&&(le=yu(He,y)),ne}return y=no(y)||0,wn(_)&&(Re=!!_.leading,W=(Ue="maxWait"in _)?lr(no(_.maxWait)||0,y):W,st="trailing"in _?!!_.trailing:st),nt.cancel=function(){le!==g&&Ql(le),Le=0,A=Oe=R=le=g},nt.flush=function(){return le===g?ne:Bt(gc())},nt}var qy=Jt(function(l,y){return Wl(l,1,y)}),Zy=Jt(function(l,y,_){return Wl(l,no(y)||0,_)});function mc(l,y){if(typeof l!="function"||y!=null&&typeof y!="function")throw new K(E);var _=function(){var A=arguments,R=y?y.apply(this,A):A[0],W=_.cache;if(W.has(R))return W.get(R);var ne=l.apply(this,A);return _.cache=W.set(R,ne)||W,ne};return _.cache=new(mc.Cache||Xo),_}function wi(l){if(typeof l!="function")throw new K(E);return function(){var y=arguments;switch(y.length){case 0:return!l.call(this);case 1:return!l.call(this,y[0]);case 2:return!l.call(this,y[0],y[1]);case 3:return!l.call(this,y[0],y[1],y[2])}return!l.apply(this,y)}}mc.Cache=Xo;var Cd=od(function(l,y){var _=(y=y.length==1&&Gt(y[0])?cn(y[0],zn(kt())):cn(vr(y,1),zn(kt()))).length;return Jt(function(A){for(var R=-1,W=jr(A.length,_);++R<W;)A[R]=y[R].call(this,A[R]);return En(l,this,A)})}),Wt=Jt(function(l,y){var _=zr(y,Vi(Wt));return _i(l,T,g,y,_)}),Af=Jt(function(l,y){var _=zr(y,Vi(Af));return _i(l,C,g,y,_)}),Cs=Oi(function(l,y){return _i(l,I,g,g,g,y)});function to(l,y){return l===y||l!=l&&y!=y}var Jy=du(Gn),Id=du(function(l,y){return l>=y}),Zi=Gl(function(){return arguments}())?Gl:function(l){return $n(l)&&tt.call(l,"callee")&&!Sr.call(l,"callee")},Gt=et.isArray,Qy=Vu?zn(Vu):function(l){return $n(l)&&Fn(l)==We};function Hr(l){return l!=null&&Ji(l.length)&&!xi(l)}function Qn(l){return $n(l)&&Hr(l)}var vo=Iy||Xs,ev=ts?zn(ts):function(l){return $n(l)&&Fn(l)==z};function _c(l){if(!$n(l))return!1;var y=Fn(l);return y==H||y=="[object DOMException]"||typeof l.message=="string"&&typeof l.name=="string"&&!Ei(l)}function xi(l){if(!wn(l))return!1;var y=Fn(l);return y==Y||y==q||y=="[object AsyncFunction]"||y=="[object Proxy]"}function Ld(l){return typeof l=="number"&&l==Xt(l)}function Ji(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=G}function wn(l){var y=typeof l;return l!=null&&(y=="object"||y=="function")}function $n(l){return l!=null&&typeof l=="object"}var Ar=Ku?zn(Ku):function(l){return $n(l)&&Pr(l)==ue};function Oc(l){return typeof l=="number"||$n(l)&&Fn(l)==Ee}function Ei(l){if(!$n(l)||Fn(l)!=be)return!1;var y=di(l);if(y===null)return!0;var _=tt.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Kt.call(_)==Jr}var Mf=Ka?zn(Ka):function(l){return $n(l)&&Fn(l)==Fe},Tf=zi?zn(zi):function(l){return $n(l)&&Pr(l)==je};function wc(l){return typeof l=="string"||!Gt(l)&&$n(l)&&Fn(l)==ve}function Xr(l){return typeof l=="symbol"||$n(l)&&Fn(l)==Pe}var Sa=wo?zn(wo):function(l){return $n(l)&&Ji(l.length)&&!!yn[Fn(l)]},Bd=du(mi),Is=du(function(l,y){return l<=y});function zd(l){if(!l)return[];if(Hr(l))return wc(l)?Fr(l):Wr(l);if(hi&&l[hi])return function(_){for(var A,R=[];!(A=_.next()).done;)R.push(A.value);return R}(l[hi]());var y=Pr(l);return(y==ue?Er:y==je?pi:Aa)(l)}function Si(l){return l?(l=no(l))===U||l===-1/0?17976931348623157e292*(l<0?-1:1):l==l?l:0:l===0?l:0}function Xt(l){var y=Si(l),_=y%1;return y==y?_?y-_:y:0}function xc(l){return l?Ui(Xt(l),0,ae):0}function no(l){if(typeof l=="number")return l;if(Xr(l))return te;if(wn(l)){var y=typeof l.valueOf=="function"?l.valueOf():l;l=wn(y)?y+"":y}if(typeof l!="string")return l===0?l:+l;l=Ju(l);var _=hr.test(l);return _||qn.test(l)?zo(l.slice(2),_?2:8):rr.test(l)?te:+l}function Ls(l){return Vo(l,mr(l))}function xn(l){return l==null?"":$r(l)}var Fd=xa(function(l,y){if(dc(y)||Hr(y))Vo(y,pr(y),l);else for(var _ in y)tt.call(y,_)&&uu(l,_,y[_])}),gu=xa(function(l,y){Vo(y,mr(y),l)}),Bs=xa(function(l,y,_,A){Vo(y,mr(y),l,A)}),Ec=xa(function(l,y,_,A){Vo(y,pr(y),l,A)}),$d=Oi(ds),Sc=Jt(function(l,y){l=w(l);var _=-1,A=y.length,R=A>2?y[2]:g;for(R&&gr(y[0],y[1],R)&&(A=1);++_<A;)for(var W=y[_],ne=mr(W),le=-1,Oe=ne.length;++le<Oe;){var Le=ne[le],Re=l[Le];(Re===g||to(Re,$e[Le])&&!tt.call(l,Le))&&(l[Le]=W[Le])}return l}),kf=Jt(function(l){return l.push(g,dd),En(zs,g,l)});function Qi(l,y,_){var A=l==null?g:gi(l,y);return A===g?_:A}function ja(l,y){return l!=null&&yd(l,y,Yp)}var jc=fd(function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=ln.call(y)),l[y]=_},zf(_r)),Wd=fd(function(l,y,_){y!=null&&typeof y.toString!="function"&&(y=ln.call(y)),tt.call(l,y)?l[y].push(_):l[y]=[_]},kt),Ud=Jt(cu);function pr(l){return Hr(l)?Bl(l):bi(l)}function mr(l){return Hr(l)?Bl(l,!0):$y(l)}var Gd=xa(function(l,y,_){gs(l,y,_)}),zs=xa(function(l,y,_,A){gs(l,y,_,A)}),Hd=Oi(function(l,y){var _={};if(l==null)return _;var A=!1;y=cn(y,function(W){return W=Hi(W,l),A||(A=W.length>1),W}),Vo(l,uf(l),_),A&&(_=Qr(_,7,Hy));for(var R=y.length;R--;)_s(_,y[R]);return _}),Xd=Oi(function(l,y){return l==null?{}:function(_,A){return Jp(_,A,function(R,W){return ja(_,W)})}(l,y)});function Pa(l,y){if(l==null)return{};var _=cn(uf(l),function(A){return[A]});return y=kt(y),Jp(l,_,function(A,R){return y(A,R[0])})}var Fs=of(pr),Df=of(mr);function Aa(l){return l==null?[]:Qa(l,pr(l))}var Nf=Yi(function(l,y,_){return y=y.toLowerCase(),l+(_?$s(y):y)});function $s(l){return Us(xn(l).toLowerCase())}function Ws(l){return(l=xn(l))&&l.replace(_t,ec).replace(Bo,"")}var Yd=Yi(function(l,y,_){return l+(_?"-":"")+y.toLowerCase()}),Rf=Yi(function(l,y,_){return l+(_?" ":"")+y.toLowerCase()}),Cf=cd("toLowerCase"),If=Yi(function(l,y,_){return l+(_?"_":"")+y.toLowerCase()}),Pc=Yi(function(l,y,_){return l+(_?" ":"")+Us(y)}),ea=Yi(function(l,y,_){return l+(_?" ":"")+y.toUpperCase()}),Us=cd("toUpperCase");function Lf(l,y,_){return l=xn(l),(y=_?g:y)===g?function(A){return Gu.test(A)}(l)?function(A){return A.match(Ya)||[]}(l):function(A){return A.match(_e)||[]}(l):l.match(y)||[]}var Gs=Jt(function(l,y){try{return En(l,g,y)}catch(_){return _c(_)?_:new Qt(_)}}),Bf=Oi(function(l,y){return kr(y,function(_){_=Ao(_),Yo(l,_,bc(l[_],l))}),l});function zf(l){return function(){return l}}var Vd=ld(),Ff=ld(!0);function _r(l){return l}function bu(l){return Hl(typeof l=="function"?l:Qr(l,1))}var $f=Jt(function(l,y){return function(_){return cu(_,l,y)}}),Wf=Jt(function(l,y){return function(_){return cu(l,_,y)}});function Hs(l,y,_){var A=pr(y),R=hs(y,A);_!=null||wn(y)&&(R.length||!A.length)||(_=y,y=l,l=this,R=hs(y,pr(y)));var W=!(wn(_)&&"chain"in _&&!_.chain),ne=xi(l);return kr(R,function(le){var Oe=y[le];l[le]=Oe,ne&&(l.prototype[le]=function(){var Le=this.__chain__;if(W||Le){var Re=l(this.__wrapped__),Ue=Re.__actions__=Wr(this.__actions__);return Ue.push({func:Oe,args:arguments,thisArg:l}),Re.__chain__=Le,Re}return Oe.apply(l,or([this.value()],arguments))})}),l}function Ac(){}var Kd=nf(cn),Uf=nf(os),tv=nf(Zu);function er(l){return ff(l)?Rr(Ao(l)):function(y){return function(_){return gi(_,y)}}(l)}var Zo=Ko(),Gf=Ko(!0);function Mc(){return[]}function Xs(){return!1}var Hf=lc(function(l,y){return l+y},0),Xf=Ps("ceil"),Yf=lc(function(l,y){return l/y},1),nv=Ps("floor"),ji,Vf=lc(function(l,y){return l*y},1),Kf=Ps("round"),qd=lc(function(l,y){return l-y},0);return F.after=function(l,y){if(typeof y!="function")throw new K(E);return l=Xt(l),function(){if(--l<1)return y.apply(this,arguments)}},F.ary=Dd,F.assign=Fd,F.assignIn=gu,F.assignInWith=Bs,F.assignWith=Ec,F.at=$d,F.before=Nd,F.bind=bc,F.bindAll=Bf,F.bindKey=Rd,F.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return Gt(l)?l:[l]},F.chain=br,F.chunk=function(l,y,_){y=(_?gr(l,y,_):y===g)?1:lr(Xt(y),0);var A=l==null?0:l.length;if(!A||y<1)return[];for(var R=0,W=0,ne=et(as(A/y));R<A;)ne[W++]=ho(l,R,R+=y);return ne},F.compact=function(l){for(var y=-1,_=l==null?0:l.length,A=0,R=[];++y<_;){var W=l[y];W&&(R[A++]=W)}return R},F.concat=function(){var l=arguments.length;if(!l)return[];for(var y=et(l-1),_=arguments[0],A=l;A--;)y[A-1]=arguments[A];return or(Gt(_)?Wr(_):[_],vr(y,1))},F.cond=function(l){var y=l==null?0:l.length,_=kt();return l=y?cn(l,function(A){if(typeof A[1]!="function")throw new K(E);return[_(A[0]),A[1]]}):[],Jt(function(A){for(var R=-1;++R<y;){var W=l[R];if(En(W[0],this,A))return En(W[1],this,A)}})},F.conforms=function(l){return function(y){var _=pr(y);return function(A){return $l(A,y,_)}}(Qr(l,1))},F.constant=zf,F.countBy=Sf,F.create=function(l,y){var _=au(l);return y==null?_:Fl(_,y)},F.curry=function l(y,_,A){var R=_i(y,8,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.curryRight=function l(y,_,A){var R=_i(y,k,g,g,g,g,g,_=A?g:_);return R.placeholder=l.placeholder,R},F.debounce=Rs,F.defaults=Sc,F.defaultsDeep=kf,F.defer=qy,F.delay=Zy,F.difference=gd,F.differenceBy=bd,F.differenceWith=md,F.drop=function(l,y,_){var A=l==null?0:l.length;return A?ho(l,(y=_||y===g?1:Xt(y))<0?0:y,A):[]},F.dropRight=function(l,y,_){var A=l==null?0:l.length;return A?ho(l,0,(y=A-(y=_||y===g?1:Xt(y)))<0?0:y):[]},F.dropRightWhile=function(l,y){return l&&l.length?uc(l,kt(y,3),!0,!0):[]},F.dropWhile=function(l,y){return l&&l.length?uc(l,kt(y,3),!0):[]},F.fill=function(l,y,_,A){var R=l==null?0:l.length;return R?(_&&typeof _!="number"&&gr(l,y,_)&&(_=0,A=R),function(W,ne,le,Oe){var Le=W.length;for((le=Xt(le))<0&&(le=-le>Le?0:Le+le),(Oe=Oe===g||Oe>Le?Le:Xt(Oe))<0&&(Oe+=Le),Oe=le>Oe?0:xc(Oe);le<Oe;)W[le++]=ne;return W}(l,y,_,A)):[]},F.filter=function(l,y){return(Gt(l)?xr:vn)(l,kt(y,3))},F.flatMap=function(l,y){return vr(vu(l,y),1)},F.flatMapDeep=function(l,y){return vr(vu(l,y),U)},F.flatMapDepth=function(l,y,_){return _=_===g?1:Xt(_),vr(vu(l,y),_)},F.flatten=Of,F.flattenDeep=function(l){return l!=null&&l.length?vr(l,U):[]},F.flattenDepth=function(l,y){return l!=null&&l.length?vr(l,y=y===g?1:Xt(y)):[]},F.flip=function(l){return _i(l,512)},F.flow=Vd,F.flowRight=Ff,F.fromPairs=function(l){for(var y=-1,_=l==null?0:l.length,A={};++y<_;){var R=l[y];A[R[0]]=R[1]}return A},F.functions=function(l){return l==null?[]:hs(l,pr(l))},F.functionsIn=function(l){return l==null?[]:hs(l,mr(l))},F.groupBy=yo,F.initial=function(l){return l!=null&&l.length?ho(l,0,-1):[]},F.intersection=_d,F.intersectionBy=Od,F.intersectionWith=wd,F.invert=jc,F.invertBy=Wd,F.invokeMap=Mt,F.iteratee=bu,F.keyBy=jf,F.keys=pr,F.keysIn=mr,F.map=vu,F.mapKeys=function(l,y){var _={};return y=kt(y,3),dt(l,function(A,R,W){Yo(_,y(A,R,W),A)}),_},F.mapValues=function(l,y){var _={};return y=kt(y,3),dt(l,function(A,R,W){Yo(_,R,y(A,R,W))}),_},F.matches=function(l){return Vp(Qr(l,1))},F.matchesProperty=function(l,y){return Kp(l,Qr(y,1))},F.memoize=mc,F.merge=Gd,F.mergeWith=zs,F.method=$f,F.methodOf=Wf,F.mixin=Hs,F.negate=wi,F.nthArg=function(l){return l=Xt(l),Jt(function(y){return qp(y,l)})},F.omit=Hd,F.omitBy=function(l,y){return Pa(l,wi(kt(y)))},F.once=function(l){return Nd(2,l)},F.orderBy=function(l,y,_,A){return l==null?[]:(Gt(y)||(y=y==null?[]:[y]),Gt(_=A?g:_)||(_=_==null?[]:[_]),Zp(l,y,_))},F.over=Kd,F.overArgs=Cd,F.overEvery=Uf,F.overSome=tv,F.partial=Wt,F.partialRight=Af,F.partition=Pf,F.pick=Xd,F.pickBy=Pa,F.property=er,F.propertyOf=function(l){return function(y){return l==null?g:gi(l,y)}},F.pull=Ds,F.pullAll=xd,F.pullAllBy=function(l,y,_){return l&&l.length&&y&&y.length?Xl(l,y,kt(_,2)):l},F.pullAllWith=function(l,y,_){return l&&l.length&&y&&y.length?Xl(l,y,g,_):l},F.pullAt=Mo,F.range=Zo,F.rangeRight=Gf,F.rearg=Cs,F.reject=function(l,y){return(Gt(l)?xr:vn)(l,wi(kt(y,3)))},F.remove=function(l,y){var _=[];if(!l||!l.length)return _;var A=-1,R=[],W=l.length;for(y=kt(y,3);++A<W;){var ne=l[A];y(ne,A,l)&&(_.push(ne),R.push(A))}return fu(l,R),_},F.rest=function(l,y){if(typeof l!="function")throw new K(E);return Jt(l,y=y===g?y:Xt(y))},F.reverse=qo,F.sampleSize=function(l,y,_){return y=(_?gr(l,y,_):y===g)?1:Xt(y),(Gt(l)?$p:Vl)(l,y)},F.set=function(l,y,_){return l==null?l:pu(l,y,_)},F.setWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:pu(l,y,_,A)},F.shuffle=function(l){return(Gt(l)?Wp:Gy)(l)},F.slice=function(l,y,_){var A=l==null?0:l.length;return A?(_&&typeof _!="number"&&gr(l,y,_)?(y=0,_=A):(y=y==null?0:Xt(y),_=_===g?A:Xt(_)),ho(l,y,_)):[]},F.sortBy=kd,F.sortedUniq=function(l){return l&&l.length?ed(l):[]},F.sortedUniqBy=function(l,y){return l&&l.length?ed(l,kt(y,2)):[]},F.split=function(l,y,_){return _&&typeof _!="number"&&gr(l,y,_)&&(y=_=g),(_=_===g?ae:_>>>0)?(l=xn(l))&&(typeof y=="string"||y!=null&&!Mf(y))&&!(y=$r(y))&&So(l)?Xi(Fr(l),0,_):l.split(y,_):[]},F.spread=function(l,y){if(typeof l!="function")throw new K(E);return y=y==null?0:lr(Xt(y),0),Jt(function(_){var A=_[y],R=Xi(_,0,y);return A&&or(R,A),En(l,this,R)})},F.tail=function(l){var y=l==null?0:l.length;return y?ho(l,1,y):[]},F.take=function(l,y,_){return l&&l.length?ho(l,0,(y=_||y===g?1:Xt(y))<0?0:y):[]},F.takeRight=function(l,y,_){var A=l==null?0:l.length;return A?ho(l,(y=A-(y=_||y===g?1:Xt(y)))<0?0:y,A):[]},F.takeRightWhile=function(l,y){return l&&l.length?uc(l,kt(y,3),!1,!0):[]},F.takeWhile=function(l,y){return l&&l.length?uc(l,kt(y,3)):[]},F.tap=function(l,y){return y(l),l},F.throttle=function(l,y,_){var A=!0,R=!0;if(typeof l!="function")throw new K(E);return wn(_)&&(A="leading"in _?!!_.leading:A,R="trailing"in _?!!_.trailing:R),Rs(l,y,{leading:A,maxWait:y,trailing:R})},F.thru=Ns,F.toArray=zd,F.toPairs=Fs,F.toPairsIn=Df,F.toPath=function(l){return Gt(l)?cn(l,Ao):Xr(l)?[l]:Wr(gf(xn(l)))},F.toPlainObject=Ls,F.transform=function(l,y,_){var A=Gt(l),R=A||vo(l)||Sa(l);if(y=kt(y,4),_==null){var W=l&&l.constructor;_=R?A?new W:[]:wn(l)&&xi(W)?au(di(l)):{}}return(R?kr:dt)(l,function(ne,le,Oe){return y(_,ne,le,Oe)}),_},F.unary=function(l){return Dd(l,1)},F.union=Vy,F.unionBy=eo,F.unionWith=Ed,F.uniq=function(l){return l&&l.length?Gi(l):[]},F.uniqBy=function(l,y){return l&&l.length?Gi(l,kt(y,2)):[]},F.uniqWith=function(l,y){return y=typeof y=="function"?y:g,l&&l.length?Gi(l,g,y):[]},F.unset=function(l,y){return l==null||_s(l,y)},F.unzip=yc,F.unzipWith=xf,F.update=function(l,y,_){return l==null?l:td(l,y,Jl(_))},F.updateWith=function(l,y,_,A){return A=typeof A=="function"?A:g,l==null?l:td(l,y,Jl(_),A)},F.values=Aa,F.valuesIn=function(l){return l==null?[]:Qa(l,mr(l))},F.without=Sd,F.words=Lf,F.wrap=function(l,y){return Wt(Jl(y),l)},F.xor=jd,F.xorBy=Pd,F.xorWith=Ad,F.zip=Ef,F.zipObject=function(l,y){return rd(l||[],y||[],uu)},F.zipObjectDeep=function(l,y){return rd(l||[],y||[],pu)},F.zipWith=vc,F.entries=Fs,F.entriesIn=Df,F.extend=gu,F.extendWith=Bs,Hs(F,F),F.add=Hf,F.attempt=Gs,F.camelCase=Nf,F.capitalize=$s,F.ceil=Xf,F.clamp=function(l,y,_){return _===g&&(_=y,y=g),_!==g&&(_=(_=no(_))==_?_:0),y!==g&&(y=(y=no(y))==y?y:0),Ui(no(l),y,_)},F.clone=function(l){return Qr(l,4)},F.cloneDeep=function(l){return Qr(l,5)},F.cloneDeepWith=function(l,y){return Qr(l,5,y=typeof y=="function"?y:g)},F.cloneWith=function(l,y){return Qr(l,4,y=typeof y=="function"?y:g)},F.conformsTo=function(l,y){return y==null||$l(l,y,pr(y))},F.deburr=Ws,F.defaultTo=function(l,y){return l==null||l!=l?y:l},F.divide=Yf,F.endsWith=function(l,y,_){l=xn(l),y=$r(y);var A=l.length,R=_=_===g?A:Ui(Xt(_),0,A);return(_-=y.length)>=0&&l.slice(_,R)==y},F.eq=to,F.escape=function(l){return(l=xn(l))&&lt.test(l)?l.replace(gt,Yn):l},F.escapeRegExp=function(l){return(l=xn(l))&&Dn.test(l)?l.replace(mn,"\\$&"):l},F.every=function(l,y,_){var A=Gt(l)?os:Hp;return _&&gr(l,y,_)&&(y=g),A(l,kt(y,3))},F.find=Md,F.findIndex=mf,F.findKey=function(l,y){return xo(l,kt(y,3),dt)},F.findLast=Gr,F.findLastIndex=_f,F.findLastKey=function(l,y){return xo(l,kt(y,3),An)},F.floor=nv,F.forEach=Jn,F.forEachRight=Td,F.forIn=function(l,y){return l==null?l:Zt(l,kt(y,3),mr)},F.forInRight=function(l,y){return l==null?l:Zn(l,kt(y,3),mr)},F.forOwn=function(l,y){return l&&dt(l,kt(y,3))},F.forOwnRight=function(l,y){return l&&An(l,kt(y,3))},F.get=Qi,F.gt=Jy,F.gte=Id,F.has=function(l,y){return l!=null&&yd(l,y,Xp)},F.hasIn=ja,F.head=wf,F.identity=_r,F.includes=function(l,y,_,A){l=Hr(l)?l:Aa(l),_=_&&!A?Xt(_):0;var R=l.length;return _<0&&(_=lr(R+_,0)),wc(l)?_<=R&&l.indexOf(y,_)>-1:!!R&&Fi(l,y,_)>-1},F.indexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=_==null?0:Xt(_);return R<0&&(R=lr(A+R,0)),Fi(l,y,R)},F.inRange=function(l,y,_){return y=Si(y),_===g?(_=y,y=0):_=Si(_),function(A,R,W){return A>=jr(R,W)&&A<lr(R,W)}(l=no(l),y,_)},F.invoke=Ud,F.isArguments=Zi,F.isArray=Gt,F.isArrayBuffer=Qy,F.isArrayLike=Hr,F.isArrayLikeObject=Qn,F.isBoolean=function(l){return l===!0||l===!1||$n(l)&&Fn(l)==V},F.isBuffer=vo,F.isDate=ev,F.isElement=function(l){return $n(l)&&l.nodeType===1&&!Ei(l)},F.isEmpty=function(l){if(l==null)return!0;if(Hr(l)&&(Gt(l)||typeof l=="string"||typeof l.splice=="function"||vo(l)||Sa(l)||Zi(l)))return!l.length;var y=Pr(l);if(y==ue||y==je)return!l.size;if(dc(l))return!bi(l).length;for(var _ in l)if(tt.call(l,_))return!1;return!0},F.isEqual=function(l,y){return su(l,y)},F.isEqualWith=function(l,y,_){var A=(_=typeof _=="function"?_:g)?_(l,y):g;return A===g?su(l,y,g,_):!!A},F.isError=_c,F.isFinite=function(l){return typeof l=="number"&&Ip(l)},F.isFunction=xi,F.isInteger=Ld,F.isLength=Ji,F.isMap=Ar,F.isMatch=function(l,y){return l===y||vs(l,y,sf(y))},F.isMatchWith=function(l,y,_){return _=typeof _=="function"?_:g,vs(l,y,sf(y),_)},F.isNaN=function(l){return Oc(l)&&l!=+l},F.isNative=function(l){if(Ki(l))throw new Qt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return lu(l)},F.isNil=function(l){return l==null},F.isNull=function(l){return l===null},F.isNumber=Oc,F.isObject=wn,F.isObjectLike=$n,F.isPlainObject=Ei,F.isRegExp=Mf,F.isSafeInteger=function(l){return Ld(l)&&l>=-9007199254740991&&l<=G},F.isSet=Tf,F.isString=wc,F.isSymbol=Xr,F.isTypedArray=Sa,F.isUndefined=function(l){return l===g},F.isWeakMap=function(l){return $n(l)&&Pr(l)==Me},F.isWeakSet=function(l){return $n(l)&&Fn(l)=="[object WeakSet]"},F.join=function(l,y){return l==null?"":Il.call(l,y)},F.kebabCase=Yd,F.last=Ur,F.lastIndexOf=function(l,y,_){var A=l==null?0:l.length;if(!A)return-1;var R=A;return _!==g&&(R=(R=Xt(_))<0?lr(A+R,0):jr(R,A-1)),y==y?function(W,ne,le){for(var Oe=le+1;Oe--;)if(W[Oe]===ne)return Oe;return Oe}(l,y,R):Fo(l,$o,R,!0)},F.lowerCase=Rf,F.lowerFirst=Cf,F.lt=Bd,F.lte=Is,F.max=function(l){return l&&l.length?Vn(l,_r,Gn):g},F.maxBy=function(l,y){return l&&l.length?Vn(l,kt(y,2),Gn):g},F.mean=function(l){return on(l,_r)},F.meanBy=function(l,y){return on(l,kt(y,2))},F.min=function(l){return l&&l.length?Vn(l,_r,mi):g},F.minBy=function(l,y){return l&&l.length?Vn(l,kt(y,2),mi):g},F.stubArray=Mc,F.stubFalse=Xs,F.stubObject=function(){return{}},F.stubString=function(){return""},F.stubTrue=function(){return!0},F.multiply=Vf,F.nth=function(l,y){return l&&l.length?qp(l,Xt(y)):g},F.noConflict=function(){return Un._===this&&(Un._=Rn),this},F.noop=Ac,F.now=gc,F.pad=function(l,y,_){l=xn(l);var A=(y=Xt(y))?jo(l):0;if(!y||A>=y)return l;var R=(y-A)/2;return Ss(nu(R),_)+l+Ss(as(R),_)},F.padEnd=function(l,y,_){l=xn(l);var A=(y=Xt(y))?jo(l):0;return y&&A<y?l+Ss(y-A,_):l},F.padStart=function(l,y,_){l=xn(l);var A=(y=Xt(y))?jo(l):0;return y&&A<y?Ss(y-A,_)+l:l},F.parseInt=function(l,y,_){return _||y==null?y=0:y&&(y=+y),cs(xn(l).replace(It,""),y||0)},F.random=function(l,y,_){if(_&&typeof _!="boolean"&&gr(l,y,_)&&(y=_=g),_===g&&(typeof y=="boolean"?(_=y,y=g):typeof l=="boolean"&&(_=l,l=g)),l===g&&y===g?(l=0,y=1):(l=Si(l),y===g?(y=l,l=0):y=Si(y)),l>y){var A=l;l=y,y=A}if(_||l%1||y%1){var R=ss();return jr(l+R*(y-l+Bi("1e-"+((R+"").length-1))),y)}return Yl(l,y)},F.reduce=function(l,y,_){var A=Gt(l)?qa:sr,R=arguments.length<3;return A(l,kt(y,4),_,R,Cn)},F.reduceRight=function(l,y,_){var A=Gt(l)?is:sr,R=arguments.length<3;return A(l,kt(y,4),_,R,Gp)},F.repeat=function(l,y,_){return y=(_?gr(l,y,_):y===g)?1:Xt(y),bs(xn(l),y)},F.replace=function(){var l=arguments,y=xn(l[0]);return l.length<3?y:y.replace(l[1],l[2])},F.result=function(l,y,_){var A=-1,R=(y=Hi(y,l)).length;for(R||(R=1,l=g);++A<R;){var W=l==null?g:l[Ao(y[A])];W===g&&(A=R,W=_),l=xi(W)?W.call(l):W}return l},F.round=Kf,F.runInContext=we,F.sample=function(l){return(Gt(l)?zl:Wy)(l)},F.size=function(l){if(l==null)return 0;if(Hr(l))return wc(l)?jo(l):l.length;var y=Pr(l);return y==ue||y==je?l.size:bi(l).length},F.snakeCase=If,F.some=function(l,y,_){var A=Gt(l)?Zu:Kl;return _&&gr(l,y,_)&&(y=g),A(l,kt(y,3))},F.sortedIndex=function(l,y){return ms(l,y)},F.sortedIndexBy=function(l,y,_){return ql(l,y,kt(_,2))},F.sortedIndexOf=function(l,y){var _=l==null?0:l.length;if(_){var A=ms(l,y);if(A<_&&to(l[A],y))return A}return-1},F.sortedLastIndex=function(l,y){return ms(l,y,!0)},F.sortedLastIndexBy=function(l,y,_){return ql(l,y,kt(_,2),!0)},F.sortedLastIndexOf=function(l,y){if(l!=null&&l.length){var _=ms(l,y,!0)-1;if(to(l[_],y))return _}return-1},F.startCase=Pc,F.startsWith=function(l,y,_){return l=xn(l),_=_==null?0:Ui(Xt(_),0,l.length),y=$r(y),l.slice(_,_+y.length)==y},F.subtract=qd,F.sum=function(l){return l&&l.length?Ja(l,_r):0},F.sumBy=function(l,y){return l&&l.length?Ja(l,kt(y,2)):0},F.template=function(l,y,_){var A=F.templateSettings;_&&gr(l,y,_)&&(y=g),l=xn(l),y=Bs({},y,A,pd);var R,W,ne=Bs({},y.imports,A.imports,pd),le=pr(ne),Oe=Qa(ne,le),Le=0,Re=y.interpolate||St,Ue="__p += '",st=M((y.escape||St).source+"|"+Re.source+"|"+(Re===zt?pt:St).source+"|"+(y.evaluate||St).source+"|$","g"),vt="//# sourceURL="+(tt.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jc+"]")+`
`;l.replace(st,function(He,Bt,nt,Dt,Tt,nn){return nt||(nt=Dt),Ue+=l.slice(Le,nn).replace(Lt,fi),Bt&&(R=!0,Ue+=`' +
__e(`+Bt+`) +
'`),Tt&&(W=!0,Ue+=`';
`+Tt+`;
__p += '`),nt&&(Ue+=`' +
((__t = (`+nt+`)) == null ? '' : __t) +
'`),Le=nn+He.length,He}),Ue+=`';
`;var jt=tt.call(y,"variable")&&y.variable;if(jt){if(Ve.test(jt))throw new Qt("Invalid `variable` option passed into `_.template`")}else Ue=`with (obj) {
`+Ue+`
}
`;Ue=(W?Ue.replace(ze,""):Ue).replace(Et,"$1").replace(Rt,"$1;"),Ue="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(W?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var Be=Gs(function(){return Pn(le,vt+"return "+Ue).apply(g,Oe)});if(Be.source=Ue,_c(Be))throw Be;return Be},F.times=function(l,y){if((l=Xt(l))<1||l>G)return[];var _=ae,A=jr(l,ae);y=kt(y),l-=ae;for(var R=ba(A,y);++_<l;)y(_);return R},F.toFinite=Si,F.toInteger=Xt,F.toLength=xc,F.toLower=function(l){return xn(l).toLowerCase()},F.toNumber=no,F.toSafeInteger=function(l){return l?Ui(Xt(l),-9007199254740991,G):l===0?l:0},F.toString=xn,F.toUpper=function(l){return xn(l).toUpperCase()},F.trim=function(l,y,_){if((l=xn(l))&&(_||y===g))return Ju(l);if(!l||!(y=$r(y)))return l;var A=Fr(l),R=Fr(y);return Xi(A,qr(A,R),Qu(A,R)+1).join("")},F.trimEnd=function(l,y,_){if((l=xn(l))&&(_||y===g))return l.slice(0,Cr(l)+1);if(!l||!(y=$r(y)))return l;var A=Fr(l);return Xi(A,0,Qu(A,Fr(y))+1).join("")},F.trimStart=function(l,y,_){if((l=xn(l))&&(_||y===g))return l.replace(It,"");if(!l||!(y=$r(y)))return l;var A=Fr(l);return Xi(A,qr(A,Fr(y))).join("")},F.truncate=function(l,y){var _=30,A="...";if(wn(y)){var R="separator"in y?y.separator:R;_="length"in y?Xt(y.length):_,A="omission"in y?$r(y.omission):A}var W=(l=xn(l)).length;if(So(l)){var ne=Fr(l);W=ne.length}if(_>=W)return l;var le=_-jo(A);if(le<1)return A;var Oe=ne?Xi(ne,0,le).join(""):l.slice(0,le);if(R===g)return Oe+A;if(ne&&(le+=Oe.length-le),Mf(R)){if(l.slice(le).search(R)){var Le,Re=Oe;for(R.global||(R=M(R.source,xn(Yt.exec(R))+"g")),R.lastIndex=0;Le=R.exec(Re);)var Ue=Le.index;Oe=Oe.slice(0,Ue===g?le:Ue)}}else if(l.indexOf($r(R),le)!=le){var st=Oe.lastIndexOf(R);st>-1&&(Oe=Oe.slice(0,st))}return Oe+A},F.unescape=function(l){return(l=xn(l))&&Te.test(l)?l.replace(At,Zr):l},F.uniqueId=function(l){var y=++_n;return xn(l)+y},F.upperCase=ea,F.upperFirst=Us,F.each=Jn,F.eachRight=Td,F.first=wf,Hs(F,(ji={},dt(F,function(l,y){tt.call(F.prototype,y)||(ji[y]=l)}),ji),{chain:!1}),F.VERSION="4.17.21",kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){F[l].placeholder=F}),kr(["drop","take"],function(l,y){un.prototype[l]=function(_){_=_===g?1:lr(Xt(_),0);var A=this.__filtered__&&!y?new un(this):this.clone();return A.__filtered__?A.__takeCount__=jr(_,A.__takeCount__):A.__views__.push({size:jr(_,ae),type:l+(A.__dir__<0?"Right":"")}),A},un.prototype[l+"Right"]=function(_){return this.reverse()[l](_).reverse()}}),kr(["filter","map","takeWhile"],function(l,y){var _=y+1,A=_==1||_==3;un.prototype[l]=function(R){var W=this.clone();return W.__iteratees__.push({iteratee:kt(R,3),type:_}),W.__filtered__=W.__filtered__||A,W}}),kr(["head","last"],function(l,y){var _="take"+(y?"Right":"");un.prototype[l]=function(){return this[_](1).value()[0]}}),kr(["initial","tail"],function(l,y){var _="drop"+(y?"":"Right");un.prototype[l]=function(){return this.__filtered__?new un(this):this[_](1)}}),un.prototype.compact=function(){return this.filter(_r)},un.prototype.find=function(l){return this.filter(l).head()},un.prototype.findLast=function(l){return this.reverse().find(l)},un.prototype.invokeMap=Jt(function(l,y){return typeof l=="function"?new un(this):this.map(function(_){return cu(_,l,y)})}),un.prototype.reject=function(l){return this.filter(wi(kt(l)))},un.prototype.slice=function(l,y){l=Xt(l);var _=this;return _.__filtered__&&(l>0||y<0)?new un(_):(l<0?_=_.takeRight(-l):l&&(_=_.drop(l)),y!==g&&(_=(y=Xt(y))<0?_.dropRight(-y):_.take(y-l)),_)},un.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},un.prototype.toArray=function(){return this.take(ae)},dt(un.prototype,function(l,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),R=F[A?"take"+(y=="last"?"Right":""):y],W=A||/^find/.test(y);R&&(F.prototype[y]=function(){var ne=this.__wrapped__,le=A?[1]:arguments,Oe=ne instanceof un,Le=le[0],Re=Oe||Gt(ne),Ue=function(Bt){var nt=R.apply(F,or([Bt],le));return A&&st?nt[0]:nt};Re&&_&&typeof Le=="function"&&Le.length!=1&&(Oe=Re=!1);var st=this.__chain__,vt=!!this.__actions__.length,jt=W&&!st,Be=Oe&&!vt;if(!W&&Re){ne=Be?ne:new un(this);var He=l.apply(ne,le);return He.__actions__.push({func:Ns,args:[Ue],thisArg:g}),new lo(He,st)}return jt&&Be?l.apply(this,le):(He=this.thru(Ue),jt?A?He.value()[0]:He.value():He)})}),kr(["pop","push","shift","sort","splice","unshift"],function(l){var y=pe[l],_=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",A=/^(?:pop|shift)$/.test(l);F.prototype[l]=function(){var R=arguments;if(A&&!this.__chain__){var W=this.value();return y.apply(Gt(W)?W:[],R)}return this[_](function(ne){return y.apply(Gt(ne)?ne:[],R)})}}),dt(un.prototype,function(l,y){var _=F[y];if(_){var A=_.name+"";tt.call(iu,A)||(iu[A]=[]),iu[A].push({name:y,func:_})}}),iu[sc(g,2).name]=[{name:"wrapper",func:g}],un.prototype.clone=function(){var l=new un(this.__wrapped__);return l.__actions__=Wr(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Wr(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Wr(this.__views__),l},un.prototype.reverse=function(){if(this.__filtered__){var l=new un(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},un.prototype.value=function(){var l=this.__wrapped__.value(),y=this.__dir__,_=Gt(l),A=y<0,R=_?l.length:0,W=function(nn,bt,Pt){for(var Wn=-1,me=Pt.length;++Wn<me;){var To=Pt[Wn],ir=To.size;switch(To.type){case"drop":nn+=ir;break;case"dropRight":bt-=ir;break;case"take":bt=jr(bt,nn+ir);break;case"takeRight":nn=lr(nn,bt-ir)}}return{start:nn,end:bt}}(0,R,this.__views__),ne=W.start,le=W.end,Oe=le-ne,Le=A?le:ne-1,Re=this.__iteratees__,Ue=Re.length,st=0,vt=jr(Oe,this.__takeCount__);if(!_||!A&&R==Oe&&vt==Oe)return nd(l,this.__actions__);var jt=[];e:for(;Oe--&&st<vt;){for(var Be=-1,He=l[Le+=y];++Be<Ue;){var Bt=Re[Be],nt=Bt.iteratee,Dt=Bt.type,Tt=nt(He);if(Dt==2)He=Tt;else if(!Tt){if(Dt==1)continue e;break e}}jt[st++]=He}return jt},F.prototype.at=Ky,F.prototype.chain=function(){return br(this)},F.prototype.commit=function(){return new lo(this.value(),this.__chain__)},F.prototype.next=function(){this.__values__===g&&(this.__values__=zd(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?g:this.__values__[this.__index__++]}},F.prototype.plant=function(l){for(var y,_=this;_ instanceof ic;){var A=bf(_);A.__index__=0,A.__values__=g,y?R.__wrapped__=A:y=A;var R=A;_=_.__wrapped__}return R.__wrapped__=l,y},F.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof un){var y=l;return this.__actions__.length&&(y=new un(this)),(y=y.reverse()).__actions__.push({func:Ns,args:[qo],thisArg:g}),new lo(y,this.__chain__)}return this.thru(qo)},F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=function(){return nd(this.__wrapped__,this.__actions__)},F.prototype.first=F.prototype.head,hi&&(F.prototype[hi]=function(){return this}),F}();Un._=Po,(m=function(){return Po}.call(f,o,f,h))===g||(h.exports=m)}).call(this)}).call(this,o(68),o(221)(a))},function(a,f,o){var d=o(7),h=o(34),m=o(33),g=o(87),E=o(62),P=o(174),j=o(28),k=d.TypeError,T=j("toPrimitive");a.exports=function(C,N){if(!m(C)||g(C))return C;var I,U=E(C,T);if(U){if(N===void 0&&(N="default"),I=h(U,C,N),!m(I)||g(I))return I;throw k("Can't convert object to primitive value")}return N===void 0&&(N="number"),P(C,N)}},function(a,f,o){var d=o(108);a.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,f,o){var d=o(36),h=o(18),m=o(91);a.exports=!d&&!h(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!=7})},function(a,f,o){var d=o(35),h=o(135),m=o(50),g=o(38);a.exports=function(E,P){for(var j=h(P),k=g.f,T=m.f,C=0;C<j.length;C++){var N=j[C];d(E,N)||k(E,N,T(P,N))}}},function(a,f,o){var d=o(46),h=o(15),m=o(74),g=o(112),E=o(32),P=h([].concat);a.exports=d("Reflect","ownKeys")||function(j){var k=m.f(E(j)),T=g.f;return T?P(k,T(j)):k}},function(a,f,o){var d=o(15),h=o(35),m=o(41),g=o(137).indexOf,E=o(72),P=d([].push);a.exports=function(j,k){var T,C=m(j),N=0,I=[];for(T in C)!h(E,T)&&h(C,T)&&P(I,T);for(;k.length>N;)h(C,T=k[N++])&&(~g(I,T)||P(I,T));return I}},function(a,f,o){var d=o(41),h=o(75),m=o(45),g=function(E){return function(P,j,k){var T,C=d(P),N=m(C),I=h(k,N);if(E&&j!=j){for(;N>I;)if((T=C[I++])!=T)return!0}else for(;N>I;I++)if((E||I in C)&&C[I]===j)return E||I||0;return!E&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},function(a,f,o){var d=o(46);a.exports=d("document","documentElement")},function(a,f,o){var d=o(51),h=o(41),m=o(74).f,g=o(114),E=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(P){return E&&d(P)=="Window"?function(j){try{return m(j)}catch(k){return g(E)}}(P):m(h(P))}},function(a,f,o){var d=o(28);f.f=d},function(a,f,o){var d=o(177),h=o(35),m=o(140),g=o(38).f;a.exports=function(E){var P=d.Symbol||(d.Symbol={});h(P,E)||g(P,E,{value:m.f(E)})}},function(a,f,o){var d,h,m,g=o(18),E=o(30),P=o(60),j=o(101),k=o(42),T=o(28),C=o(71),N=T("iterator"),I=!1;[].keys&&("next"in(m=[].keys())?(h=j(j(m)))!==Object.prototype&&(d=h):I=!0),d==null||g(function(){var U={};return d[N].call(U)!==U})?d={}:C&&(d=P(d)),E(d[N])||k(d,N,function(){return this}),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:I}},function(a,f,o){var d=o(18);a.exports=!d(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(a,f,o){var d=o(16),h=o(15),m=o(72),g=o(33),E=o(35),P=o(38).f,j=o(74),k=o(139),T=o(183),C=o(90),N=o(185),I=!1,U=C("meta"),G=0,te=function(ie){P(ie,U,{value:{objectID:"O"+G++,weakData:{}}})},ae=a.exports={enable:function(){ae.enable=function(){},I=!0;var ie=j.f,Q=h([].splice),ee={};ee[U]=1,ie(ee).length&&(j.f=function(V){for(var z=ie(V),H=0,Y=z.length;H<Y;H++)if(z[H]===U){Q(z,H,1);break}return z},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(ie,Q){if(!g(ie))return typeof ie=="symbol"?ie:(typeof ie=="string"?"S":"P")+ie;if(!E(ie,U)){if(!T(ie))return"F";if(!Q)return"E";te(ie)}return ie[U].objectID},getWeakData:function(ie,Q){if(!E(ie,U)){if(!T(ie))return!0;if(!Q)return!1;te(ie)}return ie[U].weakData},onFreeze:function(ie){return N&&I&&T(ie)&&!E(ie,U)&&te(ie),ie}};m[U]=!0},function(a,f,o){var d=o(28),h=o(80),m=d("iterator"),g=Array.prototype;a.exports=function(E){return E!==void 0&&(h.Array===E||g[m]===E)}},function(a,f,o){var d=o(7),h=o(34),m=o(56),g=o(32),E=o(88),P=o(118),j=d.TypeError;a.exports=function(k,T){var C=arguments.length<2?P(k):T;if(m(C))return g(h(C,k));throw j(E(k)+" is not iterable")}},function(a,f,o){var d=o(34),h=o(32),m=o(62);a.exports=function(g,E,P){var j,k;h(g);try{if(!(j=m(g,"return"))){if(E==="throw")throw P;return P}j=d(j,g)}catch(T){k=!0,j=T}if(E==="throw")throw P;if(k)throw j;return h(j),P}},function(a,f,o){var d=o(30),h=o(33),m=o(102);a.exports=function(g,E,P){var j,k;return m&&d(j=E.constructor)&&j!==P&&h(k=j.prototype)&&k!==P.prototype&&m(g,k),g}},function(a,f,o){var d=o(42);a.exports=function(h,m,g){for(var E in m)d(h,E,m[E],g);return h}},function(a,f,o){var d=o(46),h=o(38),m=o(28),g=o(36),E=m("species");a.exports=function(P){var j=d(P),k=h.f;g&&j&&!j[E]&&k(j,E,{configurable:!0,get:function(){return this}})}},function(a,f,o){var d=o(15),h=o(59),m=o(39),g=o(44),E=d("".charAt),P=d("".charCodeAt),j=d("".slice),k=function(T){return function(C,N){var I,U,G=m(g(C)),te=h(N),ae=G.length;return te<0||te>=ae?T?"":void 0:(I=P(G,te))<55296||I>56319||te+1===ae||(U=P(G,te+1))<56320||U>57343?T?E(G,te):I:T?j(G,te,te+2):U-56320+(I-55296<<10)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},function(a,f){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,f,o){var d=o(91)("span").classList,h=d&&d.constructor&&d.constructor.prototype;a.exports=h===Object.prototype?void 0:h},function(a,f,o){var d=o(32);a.exports=function(){var h=d(this),m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),h.dotAll&&(m+="s"),h.unicode&&(m+="u"),h.sticky&&(m+="y"),m}},function(a,f,o){var d=o(18),h=o(7).RegExp,m=d(function(){var P=h("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),g=m||d(function(){return!h("a","y").sticky}),E=m||d(function(){var P=h("^r","gy");return P.lastIndex=2,P.exec("str")!=null});a.exports={BROKEN_CARET:E,MISSED_STICKY:g,UNSUPPORTED_Y:m}},function(a,f,o){var d=o(16),h=o(79).find,m=o(100),g="find",E=!0;g in[]&&Array(1).find(function(){E=!1}),d({target:"Array",proto:!0,forced:E},{find:function(P){return h(this,P,arguments.length>1?arguments[1]:void 0)}}),m(g)},function(a,f,o){var d=o(16),h=o(137).includes,m=o(100);d({target:"Array",proto:!0},{includes:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}}),m("includes")},function(a,f,o){var d=o(16),h=o(15),m=o(197),g=o(44),E=o(39),P=o(198),j=h("".indexOf);d({target:"String",proto:!0,forced:!P("includes")},{includes:function(k){return!!~j(E(g(this)),E(m(k)),arguments.length>1?arguments[1]:void 0)}})},function(a,f,o){var d=o(33),h=o(51),m=o(28)("match");a.exports=function(g){var E;return d(g)&&((E=g[m])!==void 0?!!E:h(g)=="RegExp")}},function(a,f,o){var d=o(15);a.exports=d(1 .valueOf)},function(a,f,o){var d=o(15),h=o(44),m=o(39),g=o(162),E=d("".replace),P="["+g+"]",j=RegExp("^"+P+P+"*"),k=RegExp(P+P+"*$"),T=function(C){return function(N){var I=m(h(N));return 1&C&&(I=E(I,j,"")),2&C&&(I=E(I,k,"")),I}};a.exports={start:T(1),end:T(2),trim:T(3)}},function(a,f){a.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(a,f){var o,d,h=a.exports={};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function E(G){if(o===setTimeout)return setTimeout(G,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(G,0);try{return o(G,0)}catch(te){try{return o.call(null,G,0)}catch(ae){return o.call(this,G,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:m}catch(G){o=m}try{d=typeof clearTimeout=="function"?clearTimeout:g}catch(G){d=g}})();var P,j=[],k=!1,T=-1;function C(){k&&P&&(k=!1,P.length?j=P.concat(j):T=-1,j.length&&N())}function N(){if(!k){var G=E(C);k=!0;for(var te=j.length;te;){for(P=j,j=[];++T<te;)P&&P[T].run();T=-1,te=j.length}P=null,k=!1,function(ae){if(d===clearTimeout)return clearTimeout(ae);if((d===g||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(ae);try{d(ae)}catch(ie){try{return d.call(null,ae)}catch(Q){return d.call(this,ae)}}}(G)}}function I(G,te){this.fun=G,this.array=te}function U(){}h.nextTick=function(G){var te=new Array(arguments.length-1);if(arguments.length>1)for(var ae=1;ae<arguments.length;ae++)te[ae-1]=arguments[ae];j.push(new I(G,te)),j.length!==1||k||E(N)},I.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=U,h.addListener=U,h.once=U,h.off=U,h.removeListener=U,h.removeAllListeners=U,h.emit=U,h.prependListener=U,h.prependOnceListener=U,h.listeners=function(G){return[]},h.binding=function(G){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(G){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(a,f,o){var d=o(32),h=o(165),m=o(28)("species");a.exports=function(g,E){var P,j=d(g).constructor;return j===void 0||(P=d(j)[m])==null?E:h(P)}},function(a,f,o){var d=o(7),h=o(99),m=o(88),g=d.TypeError;a.exports=function(E){if(h(E))return E;throw g(m(E)+" is not a constructor")}},function(a,f,o){var d=o(16),h=o(161).trim;d({target:"String",proto:!0,forced:o(200)("trim")},{trim:function(){return h(this)}})},function(a,f,o){var d=o(34),h=o(123),m=o(32),g=o(94),E=o(39),P=o(44),j=o(62),k=o(124),T=o(125);h("match",function(C,N,I){return[function(U){var G=P(this),te=U==null?void 0:j(U,C);return te?d(te,U,G):new RegExp(U)[C](E(G))},function(U){var G=m(this),te=E(U),ae=I(N,G,te);if(ae.done)return ae.value;if(!G.global)return T(G,te);var ie=G.unicode;G.lastIndex=0;for(var Q,ee=[],V=0;(Q=T(G,te))!==null;){var z=E(Q[0]);ee[V]=z,z===""&&(G.lastIndex=k(te,g(G.lastIndex),ie)),V++}return V===0?null:ee}]})},function(a,f,o){var d,h,m,g,E=o(7),P=o(76),j=o(64),k=o(30),T=o(35),C=o(18),N=o(138),I=o(98),U=o(91),G=o(169),te=o(128),ae=E.setImmediate,ie=E.clearImmediate,Q=E.process,ee=E.Dispatch,V=E.Function,z=E.MessageChannel,H=E.String,Y=0,q={},ue="onreadystatechange";try{d=E.location}catch(je){}var Ee=function(je){if(T(q,je)){var ve=q[je];delete q[je],ve()}},be=function(je){return function(){Ee(je)}},Ae=function(je){Ee(je.data)},Fe=function(je){E.postMessage(H(je),d.protocol+"//"+d.host)};ae&&ie||(ae=function(je){var ve=I(arguments,1);return q[++Y]=function(){P(k(je)?je:V(je),void 0,ve)},h(Y),Y},ie=function(je){delete q[je]},te?h=function(je){Q.nextTick(be(je))}:ee&&ee.now?h=function(je){ee.now(be(je))}:z&&!G?(g=(m=new z).port2,m.port1.onmessage=Ae,h=j(g.postMessage,g)):E.addEventListener&&k(E.postMessage)&&!E.importScripts&&d&&d.protocol!=="file:"&&!C(Fe)?(h=Fe,E.addEventListener("message",Ae,!1)):h=ue in U("script")?function(je){N.appendChild(U("script")).onreadystatechange=function(){N.removeChild(this),Ee(je)}}:function(je){setTimeout(be(je),0)}),a.exports={set:ae,clear:ie}},function(a,f,o){var d=o(55);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},function(a,f,o){var d=o(56),h=function(m){var g,E;this.promise=new m(function(P,j){if(g!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");g=P,E=j}),this.resolve=d(g),this.reject=d(E)};a.exports.f=function(m){return new h(m)}},function(a,f,o){f.a=function(){return!1}},function(a,f,o){(function(d){o.d(f,"a",function(){return Q});var h=o(1);function m(z){throw new Error("[mobx-utils] "+z)}function g(z,H){H===void 0&&(H="Illegal state"),z||m(H)}var E=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(E(Object.getPrototypeOf(z))||[])},P=function(z){return function(H){var Y=E(H);return Y.filter(function(q,ue){return Y.indexOf(q)===ue})}(z).filter(function(H){return H!=="constructor"&&!~H.indexOf("__")})},j="pending",k="fulfilled",T="rejected";function C(z){switch(this.state){case j:return z.pending&&z.pending(this.value);case T:return z.rejected&&z.rejected(this.value);case k:return z.fulfilled?z.fulfilled(this.value):this.value}}function N(z,H){if(g(arguments.length<=2,"fromPromise expects up to two arguments"),g(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var Y=z;z.then(Object(h.k)("observableFromPromise-resolve",function(ue){Y.value=ue,Y.state=k}),Object(h.k)("observableFromPromise-reject",function(ue){Y.value=ue,Y.state=T})),Y.isPromiseBasedObservable=!0,Y.case=C;var q=H&&H.state===k?H.value:void 0;return Object(h.q)(Y,{value:q,state:j},{},{deep:!1}),Y}(function(z){z.reject=Object(h.k)("fromPromise.reject",function(H){var Y=z(Promise.reject(H));return Y.state=T,Y.value=H,Y}),z.resolve=Object(h.k)("fromPromise.resolve",function(H){H===void 0&&(H=void 0);var Y=z(Promise.resolve(H));return Y.state=k,Y.value=H,Y})})(N||(N={}));var I=function(z,H,Y,q){var ue,Ee=arguments.length,be=Ee<3?H:q===null?q=Object.getOwnPropertyDescriptor(H,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(z,H,Y,q);else for(var Ae=z.length-1;Ae>=0;Ae--)(ue=z[Ae])&&(be=(Ee<3?ue(be):Ee>3?ue(H,Y,be):ue(H,Y))||be);return Ee>3&&be&&Object.defineProperty(H,Y,be),be};(function(){function z(H,Y){var q=this;Object(h.G)(function(){q.current=Y,q.subscription=H.subscribe(q)})}z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(H){this.current=H},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(H){this.current=H,this.dispose()},I([h.C.ref],z.prototype,"current",void 0),I([h.k.bound],z.prototype,"next",null),I([h.k.bound],z.prototype,"complete",null),I([h.k.bound],z.prototype,"error",null)})();var U=function(){return U=Object.assign||function(z){for(var H,Y=1,q=arguments.length;Y<q;Y++)for(var ue in H=arguments[Y])Object.prototype.hasOwnProperty.call(H,ue)&&(z[ue]=H[ue]);return z},U.apply(this,arguments)},G=function(z,H,Y,q){var ue,Ee=arguments.length,be=Ee<3?H:q===null?q=Object.getOwnPropertyDescriptor(H,Y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(z,H,Y,q);else for(var Ae=z.length-1;Ae>=0;Ae--)(ue=z[Ae])&&(be=(Ee<3?ue(be):Ee>3?ue(H,Y,be):ue(H,Y))||be);return Ee>3&&be&&Object.defineProperty(H,Y,be),be},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(H){var Y=this;this.model=H,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(q){return Y.localValues.has(q)},g(Object(h.A)(H),"createViewModel expects an observable object"),P(H).forEach(function(q){if(q!==h.a&&q!=="__mobxDidRunLazyInitializers"){if(g(te.indexOf(q)===-1,"The propertyname "+q+" is reserved and cannot be used with viewModels"),Object(h.w)(H,q)){var ue=Object(h.h)(H,q).derivation;Y.localComputedValues.set(q,Object(h.m)(ue.bind(Y)))}var Ee=Object.getOwnPropertyDescriptor(H,q),be=Ee?{enumerable:Ee.enumerable}:{};Object.defineProperty(Y,q,U(U({},be),{configurable:!0,get:function(){return Object(h.w)(H,q)?Y.localComputedValues.get(q).get():Y.isPropertyDirty(q)?Y.localValues.get(q):Y.model[q]},set:Object(h.k)(function(Ae){Ae!==Y.model[q]?Y.localValues.set(q,Ae):Y.localValues.delete(q)})}))}})}Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var H=this;Object(h.B)(this.localValues).forEach(function(Y){var q=H.localValues.get(Y),ue=H.model[Y];Object(h.y)(ue)?ue.replace(q):Object(h.z)(ue)?(ue.clear(),ue.merge(q)):Object(h.v)(q)||(H.model[Y]=q)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(H){this.localValues.delete(H)},G([h.m],z.prototype,"isDirty",null),G([h.m],z.prototype,"changedValues",null),G([h.k.bound],z.prototype,"submit",null),G([h.k.bound],z.prototype,"reset",null),G([h.k.bound],z.prototype,"resetProperty",null)})();function ae(z){if(!z)return"ROOT";for(var H=[];z.parent;)H.push(z.path),z=z.parent;return H.reverse().join("/")}function ie(z){return Object(h.A)(z)||Object(h.y)(z)||Object(h.z)(z)}function Q(z,H){var Y=new WeakMap;function q(be){var Ae=Y.get(be.object);(function(Fe,je){switch(Fe.type){case"add":ue(Fe.newValue,je,Fe.name);break;case"update":Ee(Fe.oldValue),ue(Fe.newValue,je,Fe.name||""+Fe.index);break;case"remove":case"delete":Ee(Fe.oldValue);break;case"splice":Fe.removed.map(Ee),Fe.added.forEach(function(Me,We){return ue(Me,je,""+(Fe.index+We))});for(var ve=Fe.index+Fe.addedCount;ve<Fe.object.length;ve++)if(ie(Fe.object[ve])){var Pe=Y.get(Fe.object[ve]);Pe&&(Pe.path=""+ve)}}})(be,Ae),H(be,ae(Ae),z)}function ue(be,Ae,Fe){if(ie(be)){var je=Y.get(be);if(je){if(je.parent!==Ae||je.path!==Fe)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ae(Ae)+"/"+Fe+"', but it already exists at '"+ae(je.parent)+"/"+je.path+"'")}else{var ve={parent:Ae,path:Fe,dispose:Object(h.D)(be,q)};Y.set(be,ve),Object(h.p)(be).forEach(function(Pe){var Me=Pe[0];return ue(Pe[1],ve,Me)})}}}function Ee(be){if(ie(be)){var Ae=Y.get(be);if(!Ae)return;Y.delete(be),Ae.dispose(),Object(h.L)(be).forEach(Ee)}}return ue(z,void 0,""),function(){Ee(z)}}var ee,V=(ee=function(z,H){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var ue in q)q.hasOwnProperty(ue)&&(Y[ue]=q[ue])},ee(z,H)},function(z,H){function Y(){this.constructor=z}ee(z,H),z.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)});(function(z){function H(Y,q,ue){var Ee=ue===void 0?{}:ue,be=Ee.name,Ae=be===void 0?"ogm"+(1e3*Math.random()|0):be,Fe=Ee.keyToName,je=Fe===void 0?function(Me){return""+Me}:Fe,ve=z.call(this)||this;ve._keyToName=je,ve._groupBy=q,ve._ogmInfoKey=Symbol("ogmInfo"+Ae),ve._base=Y;for(var Pe=0;Pe<Y.length;Pe++)ve._addItem(Y[Pe]);return ve._disposeBaseObserver=Object(h.D)(ve._base,function(Me){if(Me.type==="splice")Object(h.J)(function(){for(var We=0,ot=Me.removed;We<ot.length;We++){var xt=ot[We];ve._removeItem(xt)}for(var Ye=0,Ze=Me.added;Ye<Ze.length;Ye++){var mt=Ze[Ye];ve._addItem(mt)}});else{if(Me.type!=="update")throw new Error("illegal state");Object(h.J)(function(){ve._removeItem(Me.oldValue),ve._addItem(Me.newValue)})}}),ve}V(H,z),H.prototype.clear=function(){throw new Error("not supported")},H.prototype.delete=function(Y){throw new Error("not supported")},H.prototype.set=function(Y,q){throw new Error("not supported")},H.prototype.dispose=function(){this._disposeBaseObserver();for(var Y=0;Y<this._base.length;Y++){var q=this._base[Y];q[this._ogmInfoKey].reaction(),delete q[this._ogmInfoKey]}},H.prototype._getGroupArr=function(Y){var q=z.prototype.get.call(this,Y);return q===void 0&&(q=Object(h.C)([],{name:"GroupArray["+this._keyToName(Y)+"]",deep:!1}),z.prototype.set.call(this,Y,q)),q},H.prototype._removeFromGroupArr=function(Y,q){var ue=z.prototype.get.call(this,Y);ue.length===1?z.prototype.delete.call(this,Y):(q===ue.length-1||(ue[q]=ue[ue.length-1],ue[q][this._ogmInfoKey].groupArrIndex=q),ue.length--)},H.prototype._addItem=function(Y){var q=this,ue=this._groupBy(Y),Ee=this._getGroupArr(ue),be={groupByValue:ue,groupArrIndex:Ee.length,reaction:Object(h.F)(function(){return q._groupBy(Y)},function(Ae,Fe){var je=Y[q._ogmInfoKey];q._removeFromGroupArr(je.groupByValue,je.groupArrIndex);var ve=q._getGroupArr(Ae),Pe=ve.length;ve.push(Y),je.groupByValue=Ae,je.groupArrIndex=Pe})};Object.defineProperty(Y,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:be}),Ee.push(Y)},H.prototype._removeItem=function(Y){var q=Y[this._ogmInfoKey];this._removeFromGroupArr(q.groupByValue,q.groupArrIndex),q.reaction(),delete Y[this._ogmInfoKey]}})(h.b),function(){function z(H,Y){this.base=H,this.args=Y,this.closestIdx=0,this.isDisposed=!1;for(var q=this.closest=this.root=H,ue=0;ue<this.args.length-1&&(q=q.get(Y[ue]));ue++)this.closest=q;this.closestIdx=ue}return z.prototype.exists=function(){this.assertNotDisposed();var H=this.args.length;return this.closestIdx>=H-1&&this.closest.has(this.args[H-1])},z.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},z.prototype.set=function(H){this.assertNotDisposed();for(var Y=this.args.length,q=this.closest,ue=this.closestIdx;ue<Y-1;ue++){var Ee=new Map;q.set(this.args[ue],Ee),q=Ee}this.closestIdx=Y-1,this.closest=q,q.set(this.args[Y-1],H)},z.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var H=this.args.length;this.closest.delete(this.args[H-1]);for(var Y=this.root,q=[Y],ue=0;ue<H-1;ue++)Y=Y.get(this.args[ue]),q.push(Y);for(ue=q.length-1;ue>0;ue--)q[ue].size===0&&q[ue-1].delete(this.args[ue-1]);this.isDisposed=!0},z.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},z}(),Promise.resolve(),typeof queueMicrotask!="undefined"||d!==void 0&&d.nextTick}).call(this,o(163))},function(a,f,o){var d;(function(h,m,g){if(h){for(var E,P={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)P[111+C]="f"+C;for(C=0;C<=9;++C)P[C+96]=C.toString();ie.prototype.bind=function(Q,ee,V){var z=this;return Q=Q instanceof Array?Q:[Q],z._bindMultiple.call(z,Q,ee,V),z},ie.prototype.unbind=function(Q,ee){return this.bind.call(this,Q,function(){},ee)},ie.prototype.trigger=function(Q,ee){var V=this;return V._directMap[Q+":"+ee]&&V._directMap[Q+":"+ee]({},Q),V},ie.prototype.reset=function(){var Q=this;return Q._callbacks={},Q._directMap={},Q},ie.prototype.stopCallback=function(Q,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||ae(ee,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var V=Q.composedPath()[0];V!==Q.target&&(ee=V)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},ie.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},ie.addKeycodes=function(Q){for(var ee in Q)Q.hasOwnProperty(ee)&&(P[ee]=Q[ee]);E=null},ie.init=function(){var Q=ie(m);for(var ee in Q)ee.charAt(0)!=="_"&&(ie[ee]=function(V){return function(){return Q[V].apply(Q,arguments)}}(ee))},ie.init(),h.Mousetrap=ie,a.exports&&(a.exports=ie),(d=function(){return ie}.call(f,o,f,a))===void 0||(a.exports=d)}function N(Q,ee,V){Q.addEventListener?Q.addEventListener(ee,V,!1):Q.attachEvent("on"+ee,V)}function I(Q){if(Q.type=="keypress"){var ee=String.fromCharCode(Q.which);return Q.shiftKey||(ee=ee.toLowerCase()),ee}return P[Q.which]?P[Q.which]:j[Q.which]?j[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function U(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function G(Q,ee,V){return V||(V=function(){if(!E)for(var z in E={},P)z>95&&z<112||P.hasOwnProperty(z)&&(E[P[z]]=z);return E}()[Q]?"keydown":"keypress"),V=="keypress"&&ee.length&&(V="keydown"),V}function te(Q,ee){var V,z,H,Y=[];for(V=function(q){return q==="+"?["+"]:(q=q.replace(/\+{2}/g,"+plus")).split("+")}(Q),H=0;H<V.length;++H)z=V[H],T[z]&&(z=T[z]),ee&&ee!="keypress"&&k[z]&&(z=k[z],Y.push("shift")),U(z)&&Y.push(z);return{key:z,modifiers:Y,action:ee=G(z,Y,ee)}}function ae(Q,ee){return Q!==null&&Q!==m&&(Q===ee||ae(Q.parentNode,ee))}function ie(Q){var ee=this;if(Q=Q||m,!(ee instanceof ie))return new ie(Q);ee.target=Q,ee._callbacks={},ee._directMap={};var V,z={},H=!1,Y=!1,q=!1;function ue(ve){ve=ve||{};var Pe,Me=!1;for(Pe in z)ve[Pe]?Me=!0:z[Pe]=0;Me||(q=!1)}function Ee(ve,Pe,Me,We,ot,xt){var Ye,Ze,mt,se,ce=[],he=Me.type;if(!ee._callbacks[ve])return[];for(he=="keyup"&&U(ve)&&(Pe=[ve]),Ye=0;Ye<ee._callbacks[ve].length;++Ye)if(Ze=ee._callbacks[ve][Ye],(We||!Ze.seq||z[Ze.seq]==Ze.level)&&he==Ze.action&&(he=="keypress"&&!Me.metaKey&&!Me.ctrlKey||(mt=Pe,se=Ze.modifiers,mt.sort().join(",")===se.sort().join(",")))){var De=!We&&Ze.combo==ot,Ge=We&&Ze.seq==We&&Ze.level==xt;(De||Ge)&&ee._callbacks[ve].splice(Ye,1),ce.push(Ze)}return ce}function be(ve,Pe,Me,We){ee.stopCallback(Pe,Pe.target||Pe.srcElement,Me,We)||ve(Pe,Me)===!1&&(function(ot){ot.preventDefault?ot.preventDefault():ot.returnValue=!1}(Pe),function(ot){ot.stopPropagation?ot.stopPropagation():ot.cancelBubble=!0}(Pe))}function Ae(ve){typeof ve.which!="number"&&(ve.which=ve.keyCode);var Pe=I(ve);Pe&&(ve.type!="keyup"||H!==Pe?ee.handleKey(Pe,function(Me){var We=[];return Me.shiftKey&&We.push("shift"),Me.altKey&&We.push("alt"),Me.ctrlKey&&We.push("ctrl"),Me.metaKey&&We.push("meta"),We}(ve),ve):H=!1)}function Fe(ve,Pe,Me,We){function ot(mt){return function(){q=mt,++z[ve],clearTimeout(V),V=setTimeout(ue,1e3)}}function xt(mt){be(Me,mt,ve),We!=="keyup"&&(H=I(mt)),setTimeout(ue,10)}z[ve]=0;for(var Ye=0;Ye<Pe.length;++Ye){var Ze=Ye+1===Pe.length?xt:ot(We||te(Pe[Ye+1]).action);je(Pe[Ye],Ze,We,ve,Ye)}}function je(ve,Pe,Me,We,ot){ee._directMap[ve+":"+Me]=Pe;var xt,Ye=(ve=ve.replace(/\s+/g," ")).split(" ");Ye.length>1?Fe(ve,Ye,Pe,Me):(xt=te(ve,Me),ee._callbacks[xt.key]=ee._callbacks[xt.key]||[],Ee(xt.key,xt.modifiers,{type:xt.action},We,ve,ot),ee._callbacks[xt.key][We?"unshift":"push"]({callback:Pe,modifiers:xt.modifiers,action:xt.action,seq:We,level:ot,combo:ve}))}ee._handleKey=function(ve,Pe,Me){var We,ot=Ee(ve,Pe,Me),xt={},Ye=0,Ze=!1;for(We=0;We<ot.length;++We)ot[We].seq&&(Ye=Math.max(Ye,ot[We].level));for(We=0;We<ot.length;++We)if(ot[We].seq){if(ot[We].level!=Ye)continue;Ze=!0,xt[ot[We].seq]=1,be(ot[We].callback,Me,ot[We].combo,ot[We].seq)}else Ze||be(ot[We].callback,Me,ot[We].combo);var mt=Me.type=="keypress"&&Y;Me.type!=q||U(ve)||mt||ue(xt),Y=Ze&&Me.type=="keydown"},ee._bindMultiple=function(ve,Pe,Me){for(var We=0;We<ve.length;++We)je(ve[We],Pe,Me)},N(Q,"keypress",Ae),N(Q,"keydown",Ae),N(Q,"keyup",Ae)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(a,f,o){var d=o(7),h=o(34),m=o(30),g=o(33),E=d.TypeError;a.exports=function(P,j){var k,T;if(j==="string"&&m(k=P.toString)&&!g(T=h(k,P))||m(k=P.valueOf)&&!g(T=h(k,P))||j!=="string"&&m(k=P.toString)&&!g(T=h(k,P)))return T;throw E("Can't convert object to primitive value")}},function(a,f,o){var d=o(7),h=o(30),m=o(92),g=d.WeakMap;a.exports=h(g)&&/native code/.test(m(g))},function(a,f,o){var d=o(36),h=o(38),m=o(32),g=o(41),E=o(77);a.exports=d?Object.defineProperties:function(P,j){m(P);for(var k,T=g(j),C=E(j),N=C.length,I=0;N>I;)h.f(P,k=C[I++],T[k]);return P}},function(a,f,o){var d=o(7);a.exports=d},function(a,f,o){var d=o(7),h=o(96),m=o(99),g=o(33),E=o(28)("species"),P=d.Array;a.exports=function(j){var k;return h(j)&&(k=j.constructor,(m(k)&&(k===P||h(k.prototype))||g(k)&&(k=k[E])===null)&&(k=void 0)),k===void 0?P:k}},function(a,f,o){var d=o(113),h=o(97);a.exports=d?{}.toString:function(){return"[object "+h(this)+"]"}},function(a,f,o){var d=o(142).IteratorPrototype,h=o(60),m=o(69),g=o(78),E=o(80),P=function(){return this};a.exports=function(j,k,T,C){var N=k+" Iterator";return j.prototype=h(d,{next:m(+!C,T)}),g(j,N,!1,!0),E[N]=P,j}},function(a,f,o){var d=o(7),h=o(30),m=d.String,g=d.TypeError;a.exports=function(E){if(typeof E=="object"||h(E))return E;throw g("Can't set "+m(E)+" as a prototype")}},function(a,f,o){var d=o(16),h=o(7),m=o(15),g=o(95),E=o(42),P=o(144),j=o(117),k=o(119),T=o(30),C=o(33),N=o(18),I=o(120),U=o(78),G=o(148);a.exports=function(te,ae,ie){var Q=te.indexOf("Map")!==-1,ee=te.indexOf("Weak")!==-1,V=Q?"set":"add",z=h[te],H=z&&z.prototype,Y=z,q={},ue=function(ve){var Pe=m(H[ve]);E(H,ve,ve=="add"?function(Me){return Pe(this,Me===0?0:Me),this}:ve=="delete"?function(Me){return!(ee&&!C(Me))&&Pe(this,Me===0?0:Me)}:ve=="get"?function(Me){return ee&&!C(Me)?void 0:Pe(this,Me===0?0:Me)}:ve=="has"?function(Me){return!(ee&&!C(Me))&&Pe(this,Me===0?0:Me)}:function(Me,We){return Pe(this,Me===0?0:Me,We),this})};if(g(te,!T(z)||!(ee||H.forEach&&!N(function(){new z().entries().next()}))))Y=ie.getConstructor(ae,te,Q,V),P.enable();else if(g(te,!0)){var Ee=new Y,be=Ee[V](ee?{}:-0,1)!=Ee,Ae=N(function(){Ee.has(1)}),Fe=I(function(ve){new z(ve)}),je=!ee&&N(function(){for(var ve=new z,Pe=5;Pe--;)ve[V](Pe,Pe);return!ve.has(-0)});Fe||((Y=ae(function(ve,Pe){k(ve,H);var Me=G(new z,ve,Y);return Pe!=null&&j(Pe,Me[V],{that:Me,AS_ENTRIES:Q}),Me})).prototype=H,H.constructor=Y),(Ae||je)&&(ue("delete"),ue("has"),Q&&ue("get")),(je||be)&&ue(V),ee&&H.clear&&delete H.clear}return q[te]=Y,d({global:!0,forced:Y!=z},q),U(Y,te),ee||ie.setStrong(Y,te,Q),Y}},function(a,f,o){var d=o(18),h=o(33),m=o(51),g=o(184),E=Object.isExtensible,P=d(function(){});a.exports=P||g?function(j){return!!h(j)&&(!g||m(j)!="ArrayBuffer")&&(!E||E(j))}:E},function(a,f,o){var d=o(18);a.exports=d(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(a,f,o){var d=o(18);a.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,f,o){var d=o(38).f,h=o(60),m=o(149),g=o(64),E=o(119),P=o(117),j=o(116),k=o(150),T=o(36),C=o(144).fastKey,N=o(58),I=N.set,U=N.getterFor;a.exports={getConstructor:function(G,te,ae,ie){var Q=G(function(Y,q){E(Y,ee),I(Y,{type:te,index:h(null),first:void 0,last:void 0,size:0}),T||(Y.size=0),q!=null&&P(q,Y[ie],{that:Y,AS_ENTRIES:ae})}),ee=Q.prototype,V=U(te),z=function(Y,q,ue){var Ee,be,Ae=V(Y),Fe=H(Y,q);return Fe?Fe.value=ue:(Ae.last=Fe={index:be=C(q,!0),key:q,value:ue,previous:Ee=Ae.last,next:void 0,removed:!1},Ae.first||(Ae.first=Fe),Ee&&(Ee.next=Fe),T?Ae.size++:Y.size++,be!=="F"&&(Ae.index[be]=Fe)),Y},H=function(Y,q){var ue,Ee=V(Y),be=C(q);if(be!=="F")return Ee.index[be];for(ue=Ee.first;ue;ue=ue.next)if(ue.key==q)return ue};return m(ee,{clear:function(){for(var Y=V(this),q=Y.index,ue=Y.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=void 0),delete q[ue.index],ue=ue.next;Y.first=Y.last=void 0,T?Y.size=0:this.size=0},delete:function(Y){var q=this,ue=V(q),Ee=H(q,Y);if(Ee){var be=Ee.next,Ae=Ee.previous;delete ue.index[Ee.index],Ee.removed=!0,Ae&&(Ae.next=be),be&&(be.previous=Ae),ue.first==Ee&&(ue.first=be),ue.last==Ee&&(ue.last=Ae),T?ue.size--:q.size--}return!!Ee},forEach:function(Y){for(var q,ue=V(this),Ee=g(Y,arguments.length>1?arguments[1]:void 0);q=q?q.next:ue.first;)for(Ee(q.value,q.key,this);q&&q.removed;)q=q.previous},has:function(Y){return!!H(this,Y)}}),m(ee,ae?{get:function(Y){var q=H(this,Y);return q&&q.value},set:function(Y,q){return z(this,Y===0?0:Y,q)}}:{add:function(Y){return z(this,Y=Y===0?0:Y,Y)}}),T&&d(ee,"size",{get:function(){return V(this).size}}),Q},setStrong:function(G,te,ae){var ie=te+" Iterator",Q=U(te),ee=U(ie);j(G,te,function(V,z){I(this,{type:ie,target:V,state:Q(V),kind:z,last:void 0})},function(){for(var V=ee(this),z=V.kind,H=V.last;H&&H.removed;)H=H.previous;return V.target&&(V.last=H=H?H.next:V.state.first)?z=="keys"?{value:H.key,done:!1}:z=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(V.target=void 0,{value:void 0,done:!0})},ae?"entries":"values",!ae,!0),k(te)}}},function(a,f,o){var d=o(79).forEach,h=o(121)("forEach");a.exports=h?[].forEach:function(m){return d(this,m,arguments.length>1?arguments[1]:void 0)}},function(a,f,o){var d=o(7),h=o(64),m=o(34),g=o(40),E=o(189),P=o(145),j=o(99),k=o(45),T=o(63),C=o(146),N=o(118),I=d.Array;a.exports=function(U){var G=g(U),te=j(this),ae=arguments.length,ie=ae>1?arguments[1]:void 0,Q=ie!==void 0;Q&&(ie=h(ie,ae>2?arguments[2]:void 0));var ee,V,z,H,Y,q,ue=N(G),Ee=0;if(!ue||this==I&&P(ue))for(ee=k(G),V=te?new this(ee):I(ee);ee>Ee;Ee++)q=Q?ie(G[Ee],Ee):G[Ee],T(V,Ee,q);else for(Y=(H=C(G,ue)).next,V=te?new this:[];!(z=m(Y,H)).done;Ee++)q=Q?E(H,ie,[z.value,Ee],!0):z.value,T(V,Ee,q);return V.length=Ee,V}},function(a,f,o){var d=o(32),h=o(147);a.exports=function(m,g,E,P){try{return P?g(d(E)[0],E[1]):g(E)}catch(j){h(m,"throw",j)}}},function(a,f,o){var d=o(18),h=o(7).RegExp;a.exports=d(function(){var m=h(".","s");return!(m.dotAll&&m.exec(`
`)&&m.flags==="s")})},function(a,f,o){var d=o(18),h=o(7).RegExp;a.exports=d(function(){var m=h("(?<a>b)","g");return m.exec("b").groups.a!=="b"||"b".replace(m,"$<a>c")!=="bc"})},function(a,f,o){var d=o(16),h=o(15),m=o(56),g=o(40),E=o(45),P=o(39),j=o(18),k=o(193),T=o(121),C=o(194),N=o(195),I=o(70),U=o(196),G=[],te=h(G.sort),ae=h(G.push),ie=j(function(){G.sort(void 0)}),Q=j(function(){G.sort(null)}),ee=T("sort"),V=!j(function(){if(I)return I<70;if(!(C&&C>3)){if(N)return!0;if(U)return U<603;var z,H,Y,q,ue="";for(z=65;z<76;z++){switch(H=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:Y=3;break;case 68:case 71:Y=4;break;default:Y=2}for(q=0;q<47;q++)G.push({k:H+q,v:Y})}for(G.sort(function(Ee,be){return be.v-Ee.v}),q=0;q<G.length;q++)H=G[q].k.charAt(0),ue.charAt(ue.length-1)!==H&&(ue+=H);return ue!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:ie||!Q||!ee||!V},{sort:function(z){z!==void 0&&m(z);var H=g(this);if(V)return z===void 0?te(H):te(H,z);var Y,q,ue=[],Ee=E(H);for(q=0;q<Ee;q++)q in H&&ae(ue,H[q]);for(k(ue,function(be){return function(Ae,Fe){return Fe===void 0?-1:Ae===void 0?1:be!==void 0?+be(Ae,Fe)||0:P(Ae)>P(Fe)?1:-1}}(z)),Y=ue.length,q=0;q<Y;)H[q]=ue[q++];for(;q<Ee;)delete H[q++];return H}})},function(a,f,o){var d=o(114),h=Math.floor,m=function(P,j){var k=P.length,T=h(k/2);return k<8?g(P,j):E(P,m(d(P,0,T),j),m(d(P,T),j),j)},g=function(P,j){for(var k,T,C=P.length,N=1;N<C;){for(T=N,k=P[N];T&&j(P[T-1],k)>0;)P[T]=P[--T];T!==N++&&(P[T]=k)}return P},E=function(P,j,k,T){for(var C=j.length,N=k.length,I=0,U=0;I<C||U<N;)P[I+U]=I<C&&U<N?T(j[I],k[U])<=0?j[I++]:k[U++]:I<C?j[I++]:k[U++];return P};a.exports=m},function(a,f,o){var d=o(55).match(/firefox\/(\d+)/i);a.exports=!!d&&+d[1]},function(a,f,o){var d=o(55);a.exports=/MSIE|Trident/.test(d)},function(a,f,o){var d=o(55).match(/AppleWebKit\/(\d+)\./);a.exports=!!d&&+d[1]},function(a,f,o){var d=o(7),h=o(159),m=d.TypeError;a.exports=function(g){if(h(g))throw m("The method doesn't accept regular expressions");return g}},function(a,f,o){var d=o(28)("match");a.exports=function(h){var m=/./;try{"/./"[h](m)}catch(g){try{return m[d]=!1,"/./"[h](m)}catch(E){}}return!1}},function(a,f,o){o(16)({target:"Number",stat:!0},{isNaN:function(d){return d!=d}})},function(a,f,o){var d=o(73).PROPER,h=o(18),m=o(162);a.exports=function(g){return h(function(){return!!m[g]()||"​᠎"[g]()!=="​᠎"||d&&m[g].name!==g})}},function(a,f,o){var d=o(15),h=o(40),m=Math.floor,g=d("".charAt),E=d("".replace),P=d("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;a.exports=function(T,C,N,I,U,G){var te=N+T.length,ae=I.length,ie=k;return U!==void 0&&(U=h(U),ie=j),E(G,ie,function(Q,ee){var V;switch(g(ee,0)){case"$":return"$";case"&":return T;case"`":return P(C,0,N);case"'":return P(C,te);case"<":V=U[P(ee,1,-1)];break;default:var z=+ee;if(z===0)return Q;if(z>ae){var H=m(z/10);return H===0?Q:H<=ae?I[H-1]===void 0?g(ee,1):I[H-1]+g(ee,1):Q}V=I[z-1]}return V===void 0?"":V})}},function(a,f,o){var d=o(36),h=o(15),m=o(34),g=o(18),E=o(77),P=o(112),j=o(84),k=o(40),T=o(85),C=Object.assign,N=Object.defineProperty,I=h([].concat);a.exports=!C||g(function(){if(d&&C({b:1},C(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},G={},te=Symbol(),ae="abcdefghijklmnopqrst";return U[te]=7,ae.split("").forEach(function(ie){G[ie]=ie}),C({},U)[te]!=7||E(C({},G)).join("")!=ae})?function(U,G){for(var te=k(U),ae=arguments.length,ie=1,Q=P.f,ee=j.f;ae>ie;)for(var V,z=T(arguments[ie++]),H=Q?I(E(z),Q(z)):E(z),Y=H.length,q=0;Y>q;)V=H[q++],d&&!m(ee,z,V)||(te[V]=z[V]);return te}:C},function(a,f,o){var d=o(7),h=o(15),m=o(56),g=o(33),E=o(35),P=o(98),j=d.Function,k=h([].concat),T=h([].join),C={},N=function(I,U,G){if(!E(C,U)){for(var te=[],ae=0;ae<U;ae++)te[ae]="a["+ae+"]";C[U]=j("C,a","return new C("+T(te,",")+")")}return C[U](I,G)};a.exports=j.bind||function(I){var U=m(this),G=U.prototype,te=P(arguments,1),ae=function(){var ie=k(te,P(arguments));return this instanceof ae?N(U,ie.length,ie):U.apply(I,ie)};return g(G)&&(ae.prototype=G),ae}},function(a,f,o){var d=o(35);a.exports=function(h){return h!==void 0&&(d(h,"value")||d(h,"writable"))}},function(a,f,o){var d=o(15),h=o(44),m=o(39),g=/"/g,E=d("".replace);a.exports=function(P,j,k,T){var C=m(h(P)),N="<"+j;return k!==""&&(N+=" "+k+'="'+E(m(T),g,"&quot;")+'"'),N+">"+C+"</"+j+">"}},function(a,f,o){var d=o(18);a.exports=function(h){return d(function(){var m=""[h]('"');return m!==m.toLowerCase()||m.split('"').length>3})}},function(a,f,o){o(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(a,f,o){var d,h,m,g,E=o(16),P=o(71),j=o(7),k=o(46),T=o(34),C=o(209),N=o(42),I=o(149),U=o(102),G=o(78),te=o(150),ae=o(56),ie=o(30),Q=o(33),ee=o(119),V=o(92),z=o(117),H=o(120),Y=o(164),q=o(168).set,ue=o(210),Ee=o(213),be=o(214),Ae=o(170),Fe=o(215),je=o(58),ve=o(95),Pe=o(28),Me=o(216),We=o(128),ot=o(70),xt=Pe("species"),Ye="Promise",Ze=je.getterFor(Ye),mt=je.set,se=je.getterFor(Ye),ce=C&&C.prototype,he=C,De=ce,Ge=j.TypeError,ze=j.document,Et=j.process,Rt=Ae.f,At=Rt,gt=!!(ze&&ze.createEvent&&j.dispatchEvent),Te=ie(j.PromiseRejectionEvent),lt="unhandledrejection",fe=!1,at=ve(Ye,function(){var oe=V(he),_e=oe!==String(he);if(!_e&&ot===66||P&&!De.finally)return!0;if(ot>=51&&/native code/.test(oe))return!1;var Ve=new he(function(pt){pt(1)}),Ke=function(pt){pt(function(){},function(){})};return(Ve.constructor={})[xt]=Ke,!(fe=Ve.then(function(){})instanceof Ke)||!_e&&Me&&!Te}),zt=at||!H(function(oe){he.all(oe).catch(function(){})}),dn=function(oe){var _e;return!(!Q(oe)||!ie(_e=oe.then))&&_e},Ft=function(oe,_e){if(!oe.notified){oe.notified=!0;var Ve=oe.reactions;ue(function(){for(var Ke=oe.value,pt=oe.state==1,Yt=0;Ve.length>Yt;){var rr,hr,Xn,qn=Ve[Yt++],ut=pt?qn.ok:qn.fail,_t=qn.resolve,St=qn.reject,Lt=qn.domain;try{ut?(pt||(oe.rejection===2&&It(oe),oe.rejection=1),ut===!0?rr=Ke:(Lt&&Lt.enter(),rr=ut(Ke),Lt&&(Lt.exit(),Xn=!0)),rr===qn.promise?St(Ge("Promise-chain cycle")):(hr=dn(rr))?T(hr,rr,_t,St):_t(rr)):St(Ke)}catch(gn){Lt&&!Xn&&Lt.exit(),St(gn)}}oe.reactions=[],oe.notified=!1,_e&&!oe.rejection&&mn(oe)})}},rn=function(oe,_e,Ve){var Ke,pt;gt?((Ke=ze.createEvent("Event")).promise=_e,Ke.reason=Ve,Ke.initEvent(oe,!1,!0),j.dispatchEvent(Ke)):Ke={promise:_e,reason:Ve},!Te&&(pt=j["on"+oe])?pt(Ke):oe===lt&&be("Unhandled promise rejection",Ve)},mn=function(oe){T(q,j,function(){var _e,Ve=oe.facade,Ke=oe.value;if(Dn(oe)&&(_e=Fe(function(){We?Et.emit("unhandledRejection",Ke,Ve):rn(lt,Ve,Ke)}),oe.rejection=We||Dn(oe)?2:1,_e.error))throw _e.value})},Dn=function(oe){return oe.rejection!==1&&!oe.parent},It=function(oe){T(q,j,function(){var _e=oe.facade;We?Et.emit("rejectionHandled",_e):rn("rejectionhandled",_e,oe.value)})},Hn=function(oe,_e,Ve){return function(Ke){oe(_e,Ke,Ve)}},Z=function(oe,_e,Ve){oe.done||(oe.done=!0,Ve&&(oe=Ve),oe.value=_e,oe.state=2,Ft(oe,!0))},de=function(oe,_e,Ve){if(!oe.done){oe.done=!0,Ve&&(oe=Ve);try{if(oe.facade===_e)throw Ge("Promise can't be resolved itself");var Ke=dn(_e);Ke?ue(function(){var pt={done:!1};try{T(Ke,_e,Hn(de,pt,oe),Hn(Z,pt,oe))}catch(Yt){Z(pt,Yt,oe)}}):(oe.value=_e,oe.state=1,Ft(oe,!1))}catch(pt){Z({done:!1},pt,oe)}}};if(at&&(De=(he=function(oe){ee(this,De),ae(oe),T(d,this);var _e=Ze(this);try{oe(Hn(de,_e),Hn(Z,_e))}catch(Ve){Z(_e,Ve)}}).prototype,(d=function(oe){mt(this,{type:Ye,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(De,{then:function(oe,_e){var Ve=se(this),Ke=Ve.reactions,pt=Rt(Y(this,he));return pt.ok=!ie(oe)||oe,pt.fail=ie(_e)&&_e,pt.domain=We?Et.domain:void 0,Ve.parent=!0,Ke[Ke.length]=pt,Ve.state!=0&&Ft(Ve,!1),pt.promise},catch:function(oe){return this.then(void 0,oe)}}),h=function(){var oe=new d,_e=Ze(oe);this.promise=oe,this.resolve=Hn(de,_e),this.reject=Hn(Z,_e)},Ae.f=Rt=function(oe){return oe===he||oe===m?new h(oe):At(oe)},!P&&ie(C)&&ce!==Object.prototype)){g=ce.then,fe||(N(ce,"then",function(oe,_e){var Ve=this;return new he(function(Ke,pt){T(g,Ve,Ke,pt)}).then(oe,_e)},{unsafe:!0}),N(ce,"catch",De.catch,{unsafe:!0}));try{delete ce.constructor}catch(oe){}U&&U(ce,De)}E({global:!0,wrap:!0,forced:at},{Promise:he}),G(he,Ye,!1,!0),te(Ye),m=k(Ye),E({target:Ye,stat:!0,forced:at},{reject:function(oe){var _e=Rt(this);return T(_e.reject,void 0,oe),_e.promise}}),E({target:Ye,stat:!0,forced:P||at},{resolve:function(oe){return Ee(P&&this===m?he:this,oe)}}),E({target:Ye,stat:!0,forced:zt},{all:function(oe){var _e=this,Ve=Rt(_e),Ke=Ve.resolve,pt=Ve.reject,Yt=Fe(function(){var rr=ae(_e.resolve),hr=[],Xn=0,qn=1;z(oe,function(ut){var _t=Xn++,St=!1;qn++,T(rr,_e,ut).then(function(Lt){St||(St=!0,hr[_t]=Lt,--qn||Ke(hr))},pt)}),--qn||Ke(hr)});return Yt.error&&pt(Yt.value),Ve.promise},race:function(oe){var _e=this,Ve=Rt(_e),Ke=Ve.reject,pt=Fe(function(){var Yt=ae(_e.resolve);z(oe,function(rr){T(Yt,_e,rr).then(Ve.resolve,Ke)})});return pt.error&&Ke(pt.value),Ve.promise}})},function(a,f,o){var d=o(7);a.exports=d.Promise},function(a,f,o){var d,h,m,g,E,P,j,k,T=o(7),C=o(64),N=o(50).f,I=o(168).set,U=o(169),G=o(211),te=o(212),ae=o(128),ie=T.MutationObserver||T.WebKitMutationObserver,Q=T.document,ee=T.process,V=T.Promise,z=N(T,"queueMicrotask"),H=z&&z.value;H||(d=function(){var Y,q;for(ae&&(Y=ee.domain)&&Y.exit();h;){q=h.fn,h=h.next;try{q()}catch(ue){throw h?g():m=void 0,ue}}m=void 0,Y&&Y.enter()},U||ae||te||!ie||!Q?!G&&V&&V.resolve?((j=V.resolve(void 0)).constructor=V,k=C(j.then,j),g=function(){k(d)}):ae?g=function(){ee.nextTick(d)}:(I=C(I,T),g=function(){I(d)}):(E=!0,P=Q.createTextNode(""),new ie(d).observe(P,{characterData:!0}),g=function(){P.data=E=!E})),a.exports=H||function(Y){var q={fn:Y,next:void 0};m&&(m.next=q),h||(h=q,g()),m=q}},function(a,f,o){var d=o(55),h=o(7);a.exports=/ipad|iphone|ipod/i.test(d)&&h.Pebble!==void 0},function(a,f,o){var d=o(55);a.exports=/web0s(?!.*chrome)/i.test(d)},function(a,f,o){var d=o(32),h=o(33),m=o(170);a.exports=function(g,E){if(d(g),h(E)&&E.constructor===g)return E;var P=m.f(g);return(0,P.resolve)(E),P.promise}},function(a,f,o){var d=o(7);a.exports=function(h,m){var g=d.console;g&&g.error&&(arguments.length==1?g.error(h):g.error(h,m))}},function(a,f){a.exports=function(o){try{return{error:!1,value:o()}}catch(d){return{error:!0,value:d}}}},function(a,f){a.exports=typeof window=="object"},function(a,f,o){var d=o(40),h=o(75),m=o(45);a.exports=function(g){for(var E=d(this),P=m(E),j=arguments.length,k=h(j>1?arguments[1]:void 0,P),T=j>2?arguments[2]:void 0,C=T===void 0?P:h(T,P);C>k;)E[k++]=g;return E}},function(a,f,o){var d=o(16),h=o(7),m=o(15),g=o(59),E=o(160),P=o(219),j=o(18),k=h.RangeError,T=h.String,C=Math.floor,N=m(P),I=m("".slice),U=m(1 .toFixed),G=function(Q,ee,V){return ee===0?V:ee%2==1?G(Q,ee-1,V*Q):G(Q*Q,ee/2,V)},te=function(Q,ee,V){for(var z=-1,H=V;++z<6;)H+=ee*Q[z],Q[z]=H%1e7,H=C(H/1e7)},ae=function(Q,ee){for(var V=6,z=0;--V>=0;)z+=Q[V],Q[V]=C(z/ee),z=z%ee*1e7},ie=function(Q){for(var ee=6,V="";--ee>=0;)if(V!==""||ee===0||Q[ee]!==0){var z=T(Q[ee]);V=V===""?z:V+N("0",7-z.length)+z}return V};d({target:"Number",proto:!0,forced:j(function(){return U(8e-5,3)!=="0.000"||U(.9,0)!=="1"||U(1.255,2)!=="1.25"||U(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!j(function(){U({})})},{toFixed:function(Q){var ee,V,z,H,Y=E(this),q=g(Q),ue=[0,0,0,0,0,0],Ee="",be="0";if(q<0||q>20)throw k("Incorrect fraction digits");if(Y!=Y)return"NaN";if(Y<=-1e21||Y>=1e21)return T(Y);if(Y<0&&(Ee="-",Y=-Y),Y>1e-21)if(V=(ee=function(Ae){for(var Fe=0,je=Ae;je>=4096;)Fe+=12,je/=4096;for(;je>=2;)Fe+=1,je/=2;return Fe}(Y*G(2,69,1))-69)<0?Y*G(2,-ee,1):Y/G(2,ee,1),V*=4503599627370496,(ee=52-ee)>0){for(te(ue,0,V),z=q;z>=7;)te(ue,1e7,0),z-=7;for(te(ue,G(10,z,1),0),z=ee-1;z>=23;)ae(ue,1<<23),z-=23;ae(ue,1<<z),te(ue,1,1),ae(ue,2),be=ie(ue)}else te(ue,0,V),te(ue,1<<-ee,0),be=ie(ue)+N("0",q);return be=q>0?Ee+((H=be.length)<=q?"0."+N("0",q-H)+be:I(be,0,H-q)+"."+I(be,H-q)):Ee+be}})},function(a,f,o){var d=o(7),h=o(59),m=o(39),g=o(44),E=d.RangeError;a.exports=function(P){var j=m(g(this)),k="",T=h(P);if(T<0||T==1/0)throw E("Wrong number of repetitions");for(;T>0;(T>>>=1)&&(j+=j))1&T&&(k+=j);return k}},function(a,f,o){var d=o(36),h=o(15),m=o(77),g=o(41),E=h(o(84).f),P=h([].push),j=function(k){return function(T){for(var C,N=g(T),I=m(N),U=I.length,G=0,te=[];U>G;)C=I[G++],d&&!E(N,C)||P(te,k?[C,N[C]]:N[C]);return te}};a.exports={entries:j(!0),values:j(!1)}},function(a,f){a.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(a,f,o){o.r(f),o.d(f,"observer",function(){return Di}),o.d(f,"LogicFlow",function(){return Rb}),o.d(f,"h",function(){return fe.g}),o.d(f,"LogicFlowUtil",function(){return d}),o.d(f,"BaseNode",function(){return Ra}),o.d(f,"RectNode",function(){return Sg}),o.d(f,"CircleNode",function(){return Mg}),o.d(f,"PolygonNode",function(){return Rg}),o.d(f,"DiamondNode",function(){return Bg}),o.d(f,"EllipseNode",function(){return Ug}),o.d(f,"TextNode",function(){return Xg}),o.d(f,"HtmlNode",function(){return qg}),o.d(f,"BaseEdge",function(){return sp}),o.d(f,"LineEdge",function(){return lb}),o.d(f,"PolylineEdge",function(){return yb}),o.d(f,"BezierEdge",function(){return mb}),o.d(f,"Arrow",function(){return nA}),o.d(f,"BaseEdgeModel",function(){return jf}),o.d(f,"BezierEdgeModel",function(){return kv}),o.d(f,"LineEdgeModel",function(){return Cs}),o.d(f,"PolylineEdgeModel",function(){return Oc}),o.d(f,"BaseNodeModel",function(){return Na}),o.d(f,"CircleNodeModel",function(){return Lv}),o.d(f,"DiamondNodeModel",function(){return Wv}),o.d(f,"EllipseNodeModel",function(){return Xv}),o.d(f,"PolygonNodeModel",function(){return Jv}),o.d(f,"RectNodeModel",function(){return ng}),o.d(f,"TextNodeModel",function(){return ag}),o.d(f,"HtmlNodeModel",function(){return sg}),o.d(f,"EditConfigModel",function(){return Ul}),o.d(f,"GraphModel",function(){return n0}),o.d(f,"SnaplineModel",function(){return F_}),o.d(f,"Keyboard",function(){return j1}),o.d(f,"get",function(){return j0}),o.d(f,"defaults",function(){return A0}),o.d(f,"ElementState",function(){return vn}),o.d(f,"ModelType",function(){return Zt}),o.d(f,"ElementType",function(){return Zn}),o.d(f,"EventType",function(){return dt}),o.d(f,"formateAnchorConnectValidateData",function(){return vc});var d={};o.r(d),o.d(d,"createUuid",function(){return Ki}),o.d(d,"refreshGraphId",function(){return dc}),o.d(d,"StepDrag",function(){return Zo}),o.d(d,"setupEdgeModel",function(){return xn}),o.d(d,"isBboxOverLapping",function(){return Fd}),o.d(d,"filterRepeatPoints",function(){return gu}),o.d(d,"getSimplePolyline",function(){return Bs}),o.d(d,"getExpandedBBox",function(){return Ec}),o.d(d,"pointDirection",function(){return $d}),o.d(d,"getExpandedBBoxPoint",function(){return Sc}),o.d(d,"mergeBBox",function(){return kf}),o.d(d,"getBBoxOfPoints",function(){return Qi}),o.d(d,"getPointsFromBBox",function(){return ja}),o.d(d,"isPointOutsideBBox",function(){return jc}),o.d(d,"getBBoxXCrossPoints",function(){return Wd}),o.d(d,"getBBoxYCrossPoints",function(){return Ud}),o.d(d,"getBBoxCrossPointsByPoint",function(){return pr}),o.d(d,"estimateDistance",function(){return mr}),o.d(d,"costByPoints",function(){return Gd}),o.d(d,"heuristicCostEstimate",function(){return zs}),o.d(d,"rebuildPath",function(){return Hd}),o.d(d,"removeClosePointFromOpenList",function(){return Xd}),o.d(d,"isSegmentsIntersected",function(){return Pa}),o.d(d,"isSegmentCrossingBBox",function(){return Fs}),o.d(d,"getNextNeighborPoints",function(){return Df}),o.d(d,"pathFinder",function(){return Aa}),o.d(d,"getBoxByOriginNode",function(){return Nf}),o.d(d,"pointFilter",function(){return $s}),o.d(d,"getPolylinePoints",function(){return Ws}),o.d(d,"getLongestEdge",function(){return Yd}),o.d(d,"isSegmentsInNode",function(){return Rf}),o.d(d,"isSegmentsCrossNode",function(){return Cf}),o.d(d,"getCrossPointInRect",function(){return If}),o.d(d,"segmentDirection",function(){return Pc}),o.d(d,"points2PointsList",function(){return ea}),o.d(d,"getSimplePoints",function(){return Us}),o.d(d,"getBytesLength",function(){return Gs}),o.d(d,"getTextWidth",function(){return zf}),o.d(d,"getAppendAttributes",function(){return Vd}),o.d(d,"getBezierControlPoints",function(){return Ff}),o.d(d,"getBezierPoints",function(){return _r}),o.d(d,"getEndTangent",function(){return $f}),o.d(d,"getClosestPointOfPolyline",function(){return Wf}),o.d(d,"pickEdgeConfig",function(){return Hs}),o.d(d,"twoPointDistance",function(){return Ac}),o.d(d,"createEdgeGenerator",function(){return Kd}),o.d(d,"snapToGrid",function(){return Ko}),o.d(d,"getGridOffset",function(){return du}),o.d(d,"sampleCubic",function(){return Tf}),o.d(d,"getThetaOfVector",function(){return Xr}),o.d(d,"degrees",function(){return Sa}),o.d(d,"Vector",function(){return W}),o.d(d,"Point",function(){return ne}),o.d(d,"Matrix",function(){return na}),o.d(d,"RotateMatrix",function(){return Dc}),o.d(d,"ScaleMatrix",function(){return Jf}),o.d(d,"TranslateMatrix",function(){return ra});var h=o(1),m=o(10);if(!m.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var g=o(43),E=Object(g.b)("observerBatching");function P(t){t()}var j=!1;function k(){return j}function T(t){return Object(h.t)(t)}var C,N=1e4,I=new Set;function U(){C===void 0&&(C=setTimeout(G,1e4))}function G(){C=void 0;var t=Date.now();I.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,I.delete(e))}),I.size>0&&U()}var te=!1,ae=[],ie={};function Q(t){return"observer"+t}function ee(t,e,n){e===void 0&&(e="observed"),n===void 0&&(n=ie),k();var r,s=function(x){return function(){te?ae.push(x):x()}}((n.useForceUpdate||g.d)()),c=m.d.useRef(null);if(!c.current){var p=new h.c(Q(e),function(){v.mounted?s():(p.dispose(),c.current=null)}),v=function(x){return{cleanAt:Date.now()+N,reaction:x}}(p);c.current=v,r=c,I.add(r),U()}var b=c.current.reaction;return m.d.useDebugValue(b,T),m.d.useEffect(function(){var x;return x=c,I.delete(x),c.current?c.current.mounted=!0:(c.current={reaction:new h.c(Q(e),function(){s()}),cleanAt:1/0},s()),function(){c.current.reaction.dispose(),c.current=null}},[]),function(x){te=!0,ae=[];try{var S=x();te=!1;var D=ae.length>0?ae:void 0;return m.d.useLayoutEffect(function(){D&&D.forEach(function(L){return L()})},[D]),S}finally{te=!1}}(function(){var x,S;if(b.track(function(){try{x=t()}catch(D){S=D}}),S)throw S;return x})}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},V.apply(this,arguments)};function z(t,e){var n,r,s,c=V({forwardRef:!1},e),p=t.displayName||t.name,v=function(b,x){return ee(function(){return t(b,x)},p)};return v.displayName=p,n=c.forwardRef?Object(m.f)(Object(m.e)(v)):Object(m.f)(v),r=t,s=n,Object.keys(r).forEach(function(b){H[b]||Object.defineProperty(s,b,Object.getOwnPropertyDescriptor(r,b))}),n.displayName=p,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function Y(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ee(r)}function q(t,e,n,r,s){var c=e==="children"?"render":"children",p=typeof t[e]=="function",v=typeof t[c]=="function";return p&&v?new Error("MobX Observer: Do not use children and render in the same time in`"+n):p||v?null:new Error("Invalid prop `"+s+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}Y.propTypes={children:q,render:q},Y.displayName="Observer";var ue;(ue=m.g)||(ue=P),Object(h.n)({reactionScheduler:ue}),Object(g.a)()[E]=!0;var Ee=0,be={};function Ae(t){return be[t]||(be[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+Ee+")";return Ee++,n}(t)),be[t]}function Fe(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!Object.hasOwnProperty.call(e,n[s])||!je(t[n[s]],e[n[s]]))return!1;return!0}function je(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ve(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Pe=Ae("patchMixins"),Me=Ae("patchedDefinition");function We(t,e){for(var n=this,r=arguments.length,s=new Array(r>2?r-2:0),c=2;c<r;c++)s[c-2]=arguments[c];e.locks++;try{var p;return t!=null&&(p=t.apply(this,s)),p}finally{e.locks--,e.locks===0&&e.methods.forEach(function(v){v.apply(n,s)})}}function ot(t,e){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];We.call.apply(We,[this,t,e].concat(r))}}function xt(t,e,n){var r=function(v,b){var x=v[Pe]=v[Pe]||{},S=x[b]=x[b]||{};return S.locks=S.locks||0,S.methods=S.methods||[],S}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var s=Object.getOwnPropertyDescriptor(t,e);if(!s||!s[Me]){var c=t[e],p=Ye(t,e,s?s.enumerable:void 0,r,c);Object.defineProperty(t,e,p)}}function Ye(t,e,n,r,s){var c,p=ot(s,r);return(c={})[Me]=!0,c.get=function(){return p},c.set=function(v){if(this===t)p=ot(v,r);else{var b=Ye(this,e,n,r,v);Object.defineProperty(this,e,b)}},c.configurable=!0,c.enumerable=n,c}var Ze=h.a||"$mobx",mt=Ae("isMobXReactObserver"),se=Ae("isUnmounted"),ce=Ae("skipRender"),he=Ae("isForcingUpdate");function De(t){var e=t.prototype;if(t[mt]?Ge(e):t[mt]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==m.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Et)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Et;Rt(e,"props"),Rt(e,"state");var n=e.render;return e.render=function(){return ze.call(this,n)},xt(e,"componentWillUnmount",function(){var r;(r=this.render[Ze])===null||r===void 0||r.dispose(),this[se]=!0,!this.render[Ze]&&Ge(this)}),t}function Ge(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;ve(this,ce,!1),ve(this,he,!1);var n=Ge(this),r=t.bind(this),s=!1,c=new h.c(n+".render()",function(){if(!s&&(s=!0,e[se]!==!0)){var v=!0;try{ve(e,he,!0),e[ce]||m.a.prototype.forceUpdate.call(e),v=!1}finally{ve(e,he,!1),v&&c.dispose()}}});function p(){s=!1;var v=void 0,b=void 0;if(c.track(function(){try{b=Object(h.d)(!1,r)}catch(x){v=x}}),v)throw v;return b}return c.reactComponent=this,p[Ze]=c,this.render=p,p.call(this)}function Et(t,e){return this.state!==e||!Fe(this.props,t)}function Rt(t,e){var n=Ae("reactProp_"+e+"_valueHolder"),r=Ae("reactProp_"+e+"_atomHolder");function s(){return this[r]||ve(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var c=!1;return h.f&&h.e&&(c=Object(h.f)(!0)),s.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(c),this[n]},set:function(c){this[he]||Fe(this[n],c)?ve(this,n,c):(ve(this,n,c),ve(this,ce,!0),s.call(this).reportChanged(),ve(this,ce,!1))}})}var At=typeof Symbol=="function"&&Symbol.for,gt=At?Symbol.for("react.forward_ref"):typeof m.e=="function"&&Object(m.e)(function(t){return null}).$$typeof,Te=At?Symbol.for("react.memo"):typeof m.f=="function"&&Object(m.f)(function(t){return null}).$$typeof;function lt(t){if(t.isMobxInjector,Te&&t.$$typeof===Te)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(gt&&t.$$typeof===gt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(m.e)(function(){var n=arguments;return Object(m.c)(Y,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(m.a,t)?De(t):z(t)}if(!m.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var fe=o(0);o(4),o(8),o(2),o(3),o(52),o(6),o(5),o(11),o(37),o(26),o(21),o(20),o(24),o(22),o(25),o(9),o(17),o(23),o(19),o(192),o(156),o(104),o(157),o(158),o(199),o(61);var at=function(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s},zt=function(){this.__data__=[],this.size=0},dn=function(t,e){return t===e||t!=t&&e!=e},Ft=function(t,e){for(var n=t.length;n--;)if(dn(t[n][0],e))return n;return-1},rn=Array.prototype.splice,mn=function(t){var e=this.__data__,n=Ft(e,t);return!(n<0)&&(n==e.length-1?e.pop():rn.call(e,n,1),--this.size,!0)},Dn=function(t){var e=this.__data__,n=Ft(e,t);return n<0?void 0:e[n][1]},It=function(t){return Ft(this.__data__,t)>-1},Hn=function(t,e){var n=this.__data__,r=Ft(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Z(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Z.prototype.clear=zt,Z.prototype.delete=mn,Z.prototype.get=Dn,Z.prototype.has=It,Z.prototype.set=Hn;var de=Z,oe=function(){this.__data__=new de,this.size=0},_e=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ve=function(t){return this.__data__.get(t)},Ke=function(t){return this.__data__.has(t)},pt=o(31),Yt=pt.a.Symbol,rr=Object.prototype,hr=rr.hasOwnProperty,Xn=rr.toString,qn=Yt?Yt.toStringTag:void 0,ut=function(t){var e=hr.call(t,qn),n=t[qn];try{t[qn]=void 0;var r=!0}catch(c){}var s=Xn.call(t);return r&&(e?t[qn]=n:delete t[qn]),s},_t=Object.prototype.toString,St=function(t){return _t.call(t)},Lt=Yt?Yt.toStringTag:void 0,gn=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Lt&&Lt in Object(t)?ut(t):St(t)},Bn=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},Io,Oo=function(t){if(!Bn(t))return!1;var e=gn(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Lo=pt.a["__core-js_shared__"],Li=(Io=/[^.]+$/.exec(Lo&&Lo.keys&&Lo.keys.IE_PROTO||""))?"Symbol(src)_1."+Io:"",Tl=function(t){return!!Li&&Li in t},Iu=Function.prototype.toString,Vr=function(t){if(t!=null){try{return Iu.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ya=/^\[object .+?Constructor\]$/,ft=Function.prototype,kl=Object.prototype,Lu=ft.toString,Bu=kl.hasOwnProperty,Tr=RegExp("^"+Lu.call(Bu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Br=function(t){return!(!Bn(t)||Tl(t))&&(Oo(t)?Tr:ya).test(Vr(t))},Xa=function(t,e){return t==null?void 0:t[e]},co=function(t,e){var n=Xa(t,e);return Br(n)?n:void 0},Kr=co(pt.a,"Map"),so=co(Object,"create"),zu=function(){this.__data__=so?so(null):{},this.size=0},Fu=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Kc=Object.prototype.hasOwnProperty,va=function(t){var e=this.__data__;if(so){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Kc.call(e,t)?e[t]:void 0},qc=Object.prototype.hasOwnProperty,$u=function(t){var e=this.__data__;return so?e[t]!==void 0:qc.call(e,t)},Dl=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=so&&e===void 0?"__lodash_hash_undefined__":e,this};function li(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}li.prototype.clear=zu,li.prototype.delete=Fu,li.prototype.get=va,li.prototype.has=$u,li.prototype.set=Dl;var Zc=li,Bo=function(){this.size=0,this.__data__={hash:new Zc,map:new(Kr||de),string:new Zc}},Wu=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},Ya=function(t,e){var n=t.__data__;return Wu(e)?n[typeof e=="string"?"string":"hash"]:n.map},Uu=function(t){var e=Ya(this,t).delete(t);return this.size-=e?1:0,e},Gu=function(t){return Ya(this,t).get(t)},Nl=function(t){return Ya(this,t).has(t)},Jc=function(t,e){var n=Ya(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function yn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yn.prototype.clear=Bo,yn.prototype.delete=Uu,yn.prototype.get=Gu,yn.prototype.has=Nl,yn.prototype.set=Jc;var hn=yn,Qc=function(t,e){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!Kr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hn(r)}return n.set(t,e),this.size=n.size,this};function Bi(t){var e=this.__data__=new de(t);this.size=e.size}Bi.prototype.clear=oe,Bi.prototype.delete=_e,Bi.prototype.get=Ve,Bi.prototype.has=Ke,Bi.prototype.set=Qc;var zo=Bi,Hu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},es=function(t){return this.__data__.has(t)};function Un(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hn;++e<n;)this.add(t[e])}Un.prototype.add=Un.prototype.push=Hu,Un.prototype.has=es;var Xu=Un,ga=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Yu=function(t,e){return t.has(e)},Va=function(t,e,n,r,s,c){var p=1&n,v=t.length,b=e.length;if(v!=b&&!(p&&b>v))return!1;var x=c.get(t),S=c.get(e);if(x&&S)return x==e&&S==t;var D=-1,L=!0,X=2&n?new Xu:void 0;for(c.set(t,e),c.set(e,t);++D<v;){var J=t[D],re=e[D];if(r)var ye=p?r(re,J,D,e,t,c):r(J,re,D,t,e,c);if(ye!==void 0){if(ye)continue;L=!1;break}if(X){if(!ga(e,function(ge,xe){if(!Yu(X,xe)&&(J===ge||s(J,ge,n,r,c)))return X.push(xe)})){L=!1;break}}else if(J!==re&&!s(J,re,n,r,c)){L=!1;break}}return c.delete(t),c.delete(e),L},yr=pt.a.Uint8Array,Vu=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n},ts=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Ku=Yt?Yt.prototype:void 0,Ka=Ku?Ku.valueOf:void 0,zi=function(t,e,n,r,s,c,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!c(new yr(t),new yr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var v=Vu;case"[object Set]":var b=1&r;if(v||(v=ts),t.size!=e.size&&!b)return!1;var x=p.get(t);if(x)return x==e;r|=2,p.set(t,e);var S=Va(v(t),v(e),r,s,c,p);return p.delete(t),S;case"[object Symbol]":if(Ka)return Ka.call(t)==Ka.call(e)}return!1},wo=function(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t},En=Array.isArray,ns=function(t,e,n){var r=e(t);return En(t)?r:wo(r,n(t))},kr=function(t,e){for(var n=-1,r=t==null?0:t.length,s=0,c=[];++n<r;){var p=t[n];e(p,n,t)&&(c[s++]=p)}return c},rs=function(){return[]},os=Object.prototype.propertyIsEnumerable,xr=Object.getOwnPropertySymbols,Dr=xr?function(t){return t==null?[]:(t=Object(t),kr(xr(t),function(e){return os.call(t,e)}))}:rs,qu=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},cn=function(t){return t!=null&&typeof t=="object"},or=function(t){return cn(t)&&gn(t)=="[object Arguments]"},qa=Object.prototype,is=qa.hasOwnProperty,Zu=qa.propertyIsEnumerable,Za=or(function(){return arguments}())?or:function(t){return cn(t)&&is.call(t,"callee")&&!Zu.call(t,"callee")},xo=Za,Fo=o(48),Fi=/^(?:0|[1-9]\d*)$/,Nr=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Fi.test(t))&&t>-1&&t%1==0&&t<e},$o=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},on={};on["[object Float32Array]"]=on["[object Float64Array]"]=on["[object Int8Array]"]=on["[object Int16Array]"]=on["[object Int32Array]"]=on["[object Uint8Array]"]=on["[object Uint8ClampedArray]"]=on["[object Uint16Array]"]=on["[object Uint32Array]"]=!0,on["[object Arguments]"]=on["[object Array]"]=on["[object ArrayBuffer]"]=on["[object Boolean]"]=on["[object DataView]"]=on["[object Date]"]=on["[object Error]"]=on["[object Function]"]=on["[object Map]"]=on["[object Number]"]=on["[object Object]"]=on["[object RegExp]"]=on["[object Set]"]=on["[object String]"]=on["[object WeakMap]"]=!1;var Rr=function(t){return cn(t)&&$o(t.length)&&!!on[gn(t)]},Eo=function(t){return function(e){return t(e)}},sr=o(49),Ja=sr.a&&sr.a.isTypedArray,ba=Ja?Eo(Ja):Rr,Ju=Object.prototype.hasOwnProperty,zn=function(t,e){var n=En(t),r=!n&&xo(t),s=!n&&!r&&Object(Fo.a)(t),c=!n&&!r&&!s&&ba(t),p=n||r||s||c,v=p?qu(t.length,String):[],b=v.length;for(var x in t)!e&&!Ju.call(t,x)||p&&(x=="length"||s&&(x=="offset"||x=="parent")||c&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Nr(x,b))||v.push(x);return v},Qa=Object.prototype,Wo=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Qa)},qr=function(t,e){return function(n){return t(e(n))}},Qu=qr(Object.keys,Object),Rl=Object.prototype.hasOwnProperty,ec=function(t){if(!Wo(t))return Qu(t);var e=[];for(var n in Object(t))Rl.call(t,n)&&n!="constructor"&&e.push(n);return e},Yn=function(t){return t!=null&&$o(t.length)&&!Oo(t)},fi=function(t){return Yn(t)?zn(t):ec(t)},So=function(t){return ns(t,fi,Dr)},Er=Object.prototype.hasOwnProperty,tc=function(t,e,n,r,s,c){var p=1&n,v=So(t),b=v.length;if(b!=So(e).length&&!p)return!1;for(var x=b;x--;){var S=v[x];if(!(p?S in e:Er.call(e,S)))return!1}var D=c.get(t),L=c.get(e);if(D&&L)return D==e&&L==t;var X=!0;c.set(t,e),c.set(e,t);for(var J=p;++x<b;){var re=t[S=v[x]],ye=e[S];if(r)var ge=p?r(ye,re,S,e,t,c):r(re,ye,S,t,e,c);if(!(ge===void 0?re===ye||s(re,ye,n,r,c):ge)){X=!1;break}J||(J=S=="constructor")}if(X&&!J){var xe=t.constructor,Ce=e.constructor;xe==Ce||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ce=="function"&&Ce instanceof Ce||(X=!1)}return c.delete(t),c.delete(e),X},zr=co(pt.a,"DataView"),pi=co(pt.a,"Promise"),eu=co(pt.a,"Set"),jo=co(pt.a,"WeakMap"),Fr="[object Map]",Cr="[object Promise]",Zr="[object Set]",Po="[object WeakMap]",we="[object DataView]",Ne=Vr(zr),Ie=Vr(Kr),et=Vr(pi),$t=Vr(eu),Qt=Vr(jo),Pn=gn;(zr&&Pn(new zr(new ArrayBuffer(1)))!=we||Kr&&Pn(new Kr)!=Fr||pi&&Pn(pi.resolve())!=Cr||eu&&Pn(new eu)!=Zr||jo&&Pn(new jo)!=Po)&&(Pn=function(t){var e=gn(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Vr(n):"";if(r)switch(r){case Ne:return we;case Ie:return Fr;case et:return Cr;case $t:return Zr;case Qt:return Po}return e});var O=Pn,w="[object Arguments]",M="[object Array]",B="[object Object]",K=Object.prototype.hasOwnProperty,pe=function(t,e,n,r,s,c){var p=En(t),v=En(e),b=p?M:O(t),x=v?M:O(e),S=(b=b==w?B:b)==B,D=(x=x==w?B:x)==B,L=b==x;if(L&&Object(Fo.a)(t)){if(!Object(Fo.a)(e))return!1;p=!0,S=!1}if(L&&!S)return c||(c=new zo),p||ba(t)?Va(t,e,n,r,s,c):zi(t,e,b,n,r,s,c);if(!(1&n)){var X=S&&K.call(t,"__wrapped__"),J=D&&K.call(e,"__wrapped__");if(X||J){var re=X?t.value():t,ye=J?e.value():e;return c||(c=new zo),s(re,ye,n,r,c)}}return!!L&&(c||(c=new zo),tc(t,e,n,r,s,c))},Se=function t(e,n,r,s,c){return e===n||(e==null||n==null||!cn(e)&&!cn(n)?e!=e&&n!=n:pe(e,n,r,s,t,c))},$e=function(t,e,n,r){var s=n.length,c=s,p=!r;if(t==null)return!c;for(t=Object(t);s--;){var v=n[s];if(p&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++s<c;){var b=(v=n[s])[0],x=t[b],S=v[1];if(p&&v[2]){if(x===void 0&&!(b in t))return!1}else{var D=new zo;if(r)var L=r(x,S,b,t,e,D);if(!(L===void 0?Se(S,x,3,r,D):L))return!1}}return!0},ct=function(t){return t==t&&!Bn(t)},Kt=function(t){for(var e=fi(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,ct(s)]}return e},tt=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},_n=function(t){var e=Kt(t);return e.length==1&&e[0][2]?tt(e[0][0],e[0][1]):function(n){return n===t||$e(n,t,e)}},Ut=function(t){return typeof t=="symbol"||cn(t)&&gn(t)=="[object Symbol]"},ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jr=/^\w*$/,Rn=function(t,e){if(En(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Ut(t))||Jr.test(t)||!ln.test(t)||e!=null&&t in Object(e)};function Ir(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],c=n.cache;if(c.has(s))return c.get(s);var p=t.apply(this,r);return n.cache=c.set(s,p)||c,p};return n.cache=new(Ir.Cache||hn),n}Ir.Cache=hn;var Uo=Ir,Go=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ma=/\\(\\)?/g,nc=function(t){var e=Uo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Go,function(n,r,s,c){e.push(s?c.replace(ma,"$1"):r||n)}),e}),di=Yt?Yt.prototype:void 0,tu=di?di.toString:void 0,Sr=function t(e){if(typeof e=="string")return e;if(En(e))return at(e,t)+"";if(Ut(e))return tu?tu.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},_a=function(t){return t==null?"":Sr(t)},$i=function(t,e){return En(t)?t:Rn(t,e)?[t]:nc(_a(t))},hi=function(t){if(typeof t=="string"||Ut(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},yi=function(t,e){for(var n=0,r=(e=$i(e,t)).length;t!=null&&n<r;)t=t[hi(e[n++])];return n&&n==r?t:void 0},rc=function(t,e,n){var r=t==null?void 0:yi(t,e);return r===void 0?n:r},Ry=function(t,e){return t!=null&&e in Object(t)},Cy=function(t,e,n){for(var r=-1,s=(e=$i(e,t)).length,c=!1;++r<s;){var p=hi(e[r]);if(!(c=t!=null&&n(t,p)))break;t=t[p]}return c||++r!=s?c:!!(s=t==null?0:t.length)&&$o(s)&&Nr(p,s)&&(En(t)||xo(t))},Cp=function(t,e){return t!=null&&Cy(t,e,Ry)},as=function(t,e){return Rn(t)&&ct(e)?tt(hi(t),e):function(n){var r=rc(n,t);return r===void 0&&r===e?Cp(n,t):Se(e,r,3)}},nu=function(t){return t},Cl=function(t){return function(e){return e==null?void 0:e[t]}},Iy=function(t){return function(e){return yi(e,t)}},Ip=function(t){return Rn(t)?Cl(hi(t)):Iy(t)},Il=function(t){return typeof t=="function"?t:t==null?nu:typeof t=="object"?En(t)?as(t[0],t[1]):_n(t):Ip(t)},Lp=function(t){return function(e,n,r){for(var s=-1,c=Object(e),p=r(e),v=p.length;v--;){var b=p[t?v:++s];if(n(c[b],b,c)===!1)break}return e}}(),lr=function(t,e){return function(n,r){if(n==null)return n;if(!Yn(n))return t(n,r);for(var s=n.length,c=e?s:-1,p=Object(n);(e?c--:++c<s)&&r(p[c],c,p)!==!1;);return n}}(function(t,e){return t&&Lp(t,e,fi)}),jr=function(t,e){var n=-1,r=Yn(t)?Array(t.length):[];return lr(t,function(s,c,p){r[++n]=e(s,c,p)}),r},us=function(t,e){return(En(t)?at:jr)(t,Il(e))};Object(h.n)({isolateGlobalState:!0});var cs=function(){try{var t=co(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),ss=function(t,e,n){e=="__proto__"&&cs?cs(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ly=Object.prototype.hasOwnProperty,ru=function(t,e,n){var r=t[e];Ly.call(t,e)&&dn(r,n)&&(n!==void 0||e in t)||ss(t,e,n)},Ho=function(t,e,n,r){var s=!n;n||(n={});for(var c=-1,p=e.length;++c<p;){var v=e[c],b=r?r(n[v],t[v],v,n,t):void 0;b===void 0&&(b=t[v]),s?ss(n,v,b):ru(n,v,b)}return n},Ll=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Oa=Math.max,ou=function(t,e,n){return e=Oa(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,c=Oa(r.length-e,0),p=Array(c);++s<c;)p[s]=r[e+s];s=-1;for(var v=Array(e+1);++s<e;)v[s]=r[s];return v[e]=n(p),Ll(t,this,v)}},oc=function(t){return function(){return t}},ls=cs?function(t,e){return cs(t,"toString",{configurable:!0,enumerable:!1,value:oc(e),writable:!0})}:nu,iu=Date.now,By=function(t){var e=0,n=0;return function(){var r=iu(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Bp=By(ls),zy=function(t,e){return Bp(ou(t,e,nu),t+"")},Fy=function(t,e,n){if(!Bn(n))return!1;var r=typeof e;return!!(r=="number"?Yn(n)&&Nr(e,n.length):r=="string"&&e in n)&&dn(n[e],t)},zp=function(t){return zy(function(e,n){var r=-1,s=n.length,c=s>1?n[s-1]:void 0,p=s>2?n[2]:void 0;for(c=t.length>3&&typeof c=="function"?(s--,c):void 0,p&&Fy(n[0],n[1],p)&&(c=s<3?void 0:c,s=1),e=Object(e);++r<s;){var v=n[r];v&&t(e,v,r,c)}return e})},fs=Object.prototype.hasOwnProperty,fr=zp(function(t,e){if(Wo(e)||Yn(e))Ho(e,fi(e),t);else for(var n in e)fs.call(e,n)&&ru(t,n,e[n])}),Fp=function(t,e,n,r){if(!Bn(t))return t;for(var s=-1,c=(e=$i(e,t)).length,p=c-1,v=t;v!=null&&++s<c;){var b=hi(e[s]),x=n;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(s!=p){var S=v[b];(x=r?r(S,b,v):void 0)===void 0&&(x=Bn(S)?S:Nr(e[s+1])?[]:{})}ru(v,b,x),v=v[b]}return t},F=function(t,e,n){for(var r=-1,s=e.length,c={};++r<s;){var p=e[r],v=yi(t,p);n(v,p)&&Fp(c,$i(p,t),v)}return c},au=function(t,e){return F(t,e,function(n,r){return Cp(t,r)})},ic=Yt?Yt.isConcatSpreadable:void 0,lo=function(t){return En(t)||xo(t)||!!(ic&&t&&t[ic])},un=function t(e,n,r,s,c){var p=-1,v=e.length;for(r||(r=lo),c||(c=[]);++p<v;){var b=e[p];n>0&&r(b)?n>1?t(b,n-1,r,s,c):wo(c,b):s||(c[c.length]=b)}return c},wa=function(t){return t!=null&&t.length?un(t,1):[]},On,Xo,Wi,fo,Bl,zl,$p,Wp,ps,uu,ac,Up,Fl,Yo,ds,Ui,Qr,$l,Wl,vi=function(t){return Bp(ou(t,void 0,wa),t+"")}(function(t,e){return t==null?{}:au(t,e)});function Cn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var vn,vr,Zt,Zn,dt,An,hs={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},gi=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Ul=(Xo=Vn((On=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Cn(this,"isSilentMode",Xo,this),Cn(this,"stopZoomGraph",Wi,this),Cn(this,"stopScrollGraph",fo,this),Cn(this,"stopMoveGraph",Bl,this),Cn(this,"adjustEdge",zl,this),Cn(this,"adjustEdgeMiddle",$p,this),Cn(this,"adjustEdgeStartAndEnd",Wp,this),Cn(this,"adjustNodePosition",ps,this),Cn(this,"hideAnchors",uu,this),Cn(this,"allowRotation",ac,this),Cn(this,"hoverOutline",Up,this),Cn(this,"nodeSelectedOutline",Fl,this),Cn(this,"edgeSelectedOutline",Yo,this),Cn(this,"nodeTextEdit",ds,this),Cn(this,"edgeTextEdit",Ui,this),Cn(this,"nodeTextDraggable",Qr,this),Cn(this,"edgeTextDraggable",$l,this),Cn(this,"autoExpand",Wl,this),Hp(this,"multipleSelectKey",""),Hp(this,"defaultConfig",{}),fr(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var s=this.getConfigDetail(r);fr(this,s)}},{key:"getConfigDetail",value:function(r){var s=r.isSilentMode,c=r.textEdit,p={};if(s===!1&&fr(p,this.defaultConfig),s===!0&&s!==this.isSilentMode){var v=vi(hs,gi);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},fr(p,v)}c===!1&&fr(p,{nodeTextEdit:!1,edgeTextEdit:!1});var b=vi(r,gi);return fr(p,b)}},{key:"getConfig",value:function(){return vi(this,gi)}}])&&Gp(e.prototype,n),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wi=Vn(On.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fo=Vn(On.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bl=Vn(On.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zl=Vn(On.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$p=Vn(On.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wp=Vn(On.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Vn(On.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uu=Vn(On.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ac=Vn(On.prototype,"allowRotation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Up=Vn(On.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fl=Vn(On.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yo=Vn(On.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ds=Vn(On.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ui=Vn(On.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qr=Vn(On.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$l=Vn(On.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wl=Vn(On.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vn(On.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(On.prototype,"updateEditConfig"),On.prototype),On);o(65),o(66),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(vn||(vn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(vr||(vr={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Zt||(Zt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(Zn||(Zn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(dt||(dt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(An||(An={}));var Fn,Gn,Xp,Yp,ys,cu,Gl,su,vs;function lu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Hl(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Hl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function po(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Fn||(Fn={}));var Vp={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},Kp=(Gn=function(){function t(r,s){(function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")})(this,t),mi(this,"MINI_SCALE_SIZE",.2),mi(this,"MAX_SCALE_SIZE",16),bi(this,"SCALE_X",Xp,this),bi(this,"SKEW_Y",Yp,this),bi(this,"SKEW_X",ys,this),bi(this,"SCALE_Y",cu,this),bi(this,"TRANSLATE_X",Gl,this),bi(this,"TRANSLATE_Y",su,this),bi(this,"ZOOM_SIZE",vs,this),mi(this,"eventCenter",void 0),mi(this,"translateLimitMinX",void 0),mi(this,"translateLimitMinY",void 0),mi(this,"translateLimitMaxX",void 0),mi(this,"translateLimitMaxY",void 0),this.eventCenter=r;var c=s.stopMoveGraph,p=c!==void 0&&c;this.updateTranslateLimits(p)}var e,n;return e=t,n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var s=lu(r,2),c=s[0],p=s[1];return[(c-this.TRANSLATE_X)/this.SCALE_X,(p-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var s=lu(r,2),c=s[0],p=s[1];return[c*this.SCALE_X+this.TRANSLATE_X,p*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,s,c){var p=lu(r,2),v=p[0],b=p[1];return[v+s/this.SCALE_X,b+c/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,s){return[r/this.SCALE_X,s/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1?arguments[1]:void 0,c=this.SCALE_X,p=this.SCALE_Y;return r===!0?(c+=this.ZOOM_SIZE,p+=this.ZOOM_SIZE):r===!1?(c-=this.ZOOM_SIZE,p-=this.ZOOM_SIZE):typeof r=="number"&&(c=r,p=r),c<this.MINI_SCALE_SIZE||c>this.MAX_SCALE_SIZE||(s&&(this.TRANSLATE_X-=(c-this.SCALE_X)*s[0],this.TRANSLATE_Y-=(p-this.SCALE_Y)*s[1]),this.SCALE_X=c,this.SCALE_Y=p,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(dt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,s){this.TRANSLATE_X+r<=this.translateLimitMaxX&&this.TRANSLATE_X+r>=this.translateLimitMinX&&(this.TRANSLATE_X+=r),this.TRANSLATE_Y+s<=this.translateLimitMaxY&&this.TRANSLATE_Y+s>=this.translateLimitMinY&&(this.TRANSLATE_Y+=s),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,s,c,p){var v=lu(this.CanvasPointToHtmlPoint([r,s]),2),b=c/2-v[0],x=p/2-v[1];this.TRANSLATE_X+=b,this.TRANSLATE_Y+=x,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(r){var s=lu(Array.isArray(r)&&r.length===4?r:Vp[r.toString()],4);this.translateLimitMinX=s[0],this.translateLimitMinY=s[1],this.translateLimitMaxX=s[2],this.translateLimitMaxY=s[3]}}],n&&$y(e.prototype,n),t}(),Xp=po(Gn.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yp=po(Gn.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ys=po(Gn.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cu=po(Gn.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Gl=po(Gn.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),su=po(Gn.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vs=po(Gn.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),po(Gn.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(Gn.prototype,"zoom"),Gn.prototype),po(Gn.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(Gn.prototype,"resetZoom"),Gn.prototype),po(Gn.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(Gn.prototype,"translate"),Gn.prototype),po(Gn.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(Gn.prototype,"focusOn"),Gn.prototype),Gn),gs=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},qp=function(t,e){return t&&Ho(e,fi(e),t)},Zp=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Jp=Object.prototype.hasOwnProperty,Xl=function(t){if(!Bn(t))return Zp(t);var e=Wo(t),n=[];for(var r in t)(r!="constructor"||!e&&Jp.call(t,r))&&n.push(r);return n},fu=function(t){return Yn(t)?zn(t,!0):Xl(t)},Yl=function(t,e){return t&&Ho(e,fu(e),t)},bs=o(107),Jt=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Wy=function(t,e){return Ho(t,Dr(t),e)},Vl=qr(Object.getPrototypeOf,Object),pu=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)wo(e,Dr(t)),t=Vl(t);return e}:rs,Qp=function(t,e){return Ho(t,pu(t),e)},Uy=function(t){return ns(t,fu,pu)},Gy=Object.prototype.hasOwnProperty,ho=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Gy.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Kl=function(t){var e=new t.constructor(t.byteLength);return new yr(e).set(new yr(t)),e},ms=function(t,e){var n=e?Kl(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},ql=/\w*$/,ed=function(t){var e=new t.constructor(t.source,ql.exec(t));return e.lastIndex=t.lastIndex,e},Zl=Yt?Yt.prototype:void 0,$r=Zl?Zl.valueOf:void 0,Gi=function(t){return $r?Object($r.call(t)):{}},_s=function(t,e){var n=e?Kl(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},td=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Kl(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ms(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _s(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ed(t);case"[object Symbol]":return Gi(t)}},uc=Object.create,nd=function(){function t(){}return function(e){if(!Bn(e))return{};if(uc)return uc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Os=function(t){return typeof t.constructor!="function"||Wo(t)?{}:nd(Vl(t))},rd=function(t){return cn(t)&&O(t)=="[object Map]"},ws=sr.a&&sr.a.isMap,Jl=ws?Eo(ws):rd,Hi=function(t){return cn(t)&&O(t)=="[object Set]"},od=sr.a&&sr.a.isSet,Xi=od?Eo(od):Hi,Ql="[object Arguments]",ef="[object Function]",tf="[object Object]",Mn={};Mn[Ql]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object DataView]"]=Mn["[object Boolean]"]=Mn["[object Date]"]=Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn["[object Object]"]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object Symbol]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Error]"]=Mn[ef]=Mn["[object WeakMap]"]=!1;var id=function t(e,n,r,s,c,p){var v,b=1&n,x=2&n,S=4&n;if(r&&(v=c?r(e,s,c,p):r(e)),v!==void 0)return v;if(!Bn(e))return e;var D=En(e);if(D){if(v=ho(e),!b)return Jt(e,v)}else{var L=O(e),X=L==ef||L=="[object GeneratorFunction]";if(Object(Fo.a)(e))return Object(bs.a)(e,b);if(L==tf||L==Ql||X&&!c){if(v=x||X?{}:Os(e),!b)return x?Qp(e,Yl(v,e)):Wy(e,qp(v,e))}else{if(!Mn[L])return c?e:{};v=td(e,L,b)}}p||(p=new zo);var J=p.get(e);if(J)return J;p.set(e,v),Xi(e)?e.forEach(function(ye){v.add(t(ye,n,r,ye,e,p))}):Jl(e)&&e.forEach(function(ye,ge){v.set(ge,t(ye,n,r,ge,e,p))});var re=D?void 0:(S?x?Uy:So:x?fu:fi)(e);return gs(re||e,function(ye,ge){re&&(ye=e[ge=ye]),ru(v,ge,t(ye,n,r,ge,e,p))}),v},In=function(t){return id(t,5)},xs=function(t,e,n){(n!==void 0&&!dn(t[e],n)||n===void 0&&!(e in t))&&ss(t,e,n)},Wr=function(t){return cn(t)&&Yn(t)},Vo=Function.prototype,Es=Object.prototype,xa=Vo.toString,ad=Es.hasOwnProperty,ud=xa.call(Object),cd=function(t){if(!cn(t)||gn(t)!="[object Object]")return!1;var e=Vl(t);if(e===null)return!0;var n=ad.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xa.call(n)==ud},Yi=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},cc=function(t){return Ho(t,fu(t))},sd=function(t,e,n,r,s,c,p){var v=Yi(t,n),b=Yi(e,n),x=p.get(b);if(x)xs(t,n,x);else{var S=c?c(v,b,n+"",t,e,p):void 0,D=S===void 0;if(D){var L=En(b),X=!L&&Object(Fo.a)(b),J=!L&&!X&&ba(b);S=b,L||X||J?En(v)?S=v:Wr(v)?S=Jt(v):X?(D=!1,S=Object(bs.a)(b,!0)):J?(D=!1,S=_s(b,!0)):S=[]:cd(b)||xo(b)?(S=v,xo(v)?S=cc(v):Bn(v)&&!Oo(v)||(S=Os(b))):D=!1}D&&(p.set(b,S),s(S,b,r,c,p),p.delete(b)),xs(t,n,S)}},ld=function t(e,n,r,s,c){e!==n&&Lp(n,function(p,v){if(c||(c=new zo),Bn(p))sd(e,n,v,r,t,s,c);else{var b=s?s(Yi(e,v),p,v+"",e,n,c):void 0;b===void 0&&(b=p),xs(e,v,b)}},fu)},sc=zp(function(t,e,n){ld(t,e,n)}),fd={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},lc=function(t){var e=In(fd);return t&&(e=sc(e,t)),e};o(82),o(166);function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ss=function(){function t(){var r,s,c;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),c={},(s="_events")in(r=this)?Object.defineProperty(r,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[s]=c}var e,n;return e=t,(n=[{key:"on",value:function(r,s,c){var p=this;return r==null||r.split(",").forEach(function(v){v=v.trim(),p._events[v]||(p._events[v]=[]),p._events[v].push({callback:s,once:!!c})}),this}},{key:"once",value:function(r,s){var c=this;r==null||r.split(",").forEach(function(p){return p=p.trim(),c.on(p,s,!0)})}},{key:"emit",value:function(r,s){var c=this;r==null||r.split(",").forEach(function(p){var v=c._events[p]||[],b=c._events["*"]||[],x=function(S){for(var D=S.length,L=0;L<D;L++)if(S[L]){var X=S[L],J=X.callback;X.once&&(S.splice(L,1),S.length===0&&delete c._events[p],D--,L--),J.apply(c,[s])}};x(v),x(b)})}},{key:"off",value:function(r,s){var c=this;return r||(this._events={}),r.split(",").forEach(function(p){if(s){for(var v=c._events[p]||[],b=v.length,x=0;x<b;x++)v[x].callback===s&&(v.splice(x,1),b--,x--);v.length===0&&delete c._events[p]}else delete c._events[p]}),this}},{key:"getEvents",value:function(){return this._events}}])&&nf(e.prototype,n),t}();function Ko(t,e){return e*Math.round(t/e)||t}function du(t,e){return t%e}function js(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Ps(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Ps(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ps(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rf=function(t,e,n){var r=js(t,2),s=r[0],c=r[1],p=js(e,2),v=p[0],b=p[1],x=js(n,2),S=x[0],D=x[1];return s>v&&s<S&&c>b&&c<D},of=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;case"ctrl":n=t.ctrlKey;break;default:n=!1}return n};o(167),o(126),o(83),o(29),o(12),o(13),o(14),o(47);var _i=function(t){return function(e,n,r){var s=Object(e);if(!Yn(e)){var c=Il(n);e=fi(e),n=function(v){return c(s[v],v,s)}}var p=t(e,n,r);return p>-1?s[c?e[p]:p]:void 0}},pd=function(t,e,n,r){for(var s=t.length,c=n+(r?1:-1);r?c--:++c<s;)if(e(t[c],c,t))return c;return-1},dd=/\s/,Hy=function(t){for(var e=t.length;e--&&dd.test(t.charAt(e)););return e},hd=/^\s+/,Oi=function(t){return t&&t.slice(0,Hy(t)+1).replace(hd,"")},af=/^[-+]0x[0-9a-f]+$/i,uf=/^0b[01]+$/i,cf=/^0o[0-7]+$/i,As=parseInt,Vi=function(t){if(typeof t=="number")return t;if(Ut(t))return NaN;if(Bn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Oi(t);var n=uf.test(t);return n||cf.test(t)?As(t.slice(2),n?2:8):af.test(t)?NaN:+t},kt=1/0,Ms=function(t){return t?(t=Vi(t))===kt||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},sf=function(t){var e=Ms(t),n=e%1;return e==e?n?e-n:e:0},Ea=Math.max,fc,lf=_i(function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:sf(n);return s<0&&(s=Ea(r+s,0)),pd(t,Il(e),s)}),Pr=new Uint8Array(16);function yd(){if(!fc&&!(fc=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fc(Pr)}for(var vd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xy=function(t){return typeof t=="string"&&vd.test(t)},Ln=[],gr=0;gr<256;++gr)Ln.push((gr+256).toString(16).substr(1));var ff=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase();if(!Xy(n))throw TypeError("Stringified UUID is invalid");return n},pc=function(t,e,n){var r=(t=t||{}).random||(t.rng||yd)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=r[s];return e}return ff(r)},Ki=function(){return pc()},dc=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,s){return r[s.id]=e+pc(),s.id=r[s.id],r},{});return t.edges.forEach(function(r){r.id=e+pc(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},hu=(o(105),o(127),o(207),function(t,e,n){var r=t.x,s=t.y,c=e.x,p=e.y,v=n.x,b=n.y,x=(b-p)/(v-c),S=p-x*c;return r>=c&&r<=v&&s>=p&&s<=b&&Math.abs(s-x*r+S)<Number.EPSILON});function Ts(t){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function pf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pf(Object(n),!0).forEach(function(r){Yy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke,hf,yu,ks,yf,vf,hc,gf,Ao,qi,bf,gd,bd,md,mf,_f,Of,wf,_d,Od,wd,Ur=function(t){return t.anchors},Ds=function(t,e){for(var n,r=e.nodes,s=r.length-1;s>=0;s--){var c=r[s];if(Vy(t,c)){var p=c.getTargetAnchor(t);if(p){var v={node:c,anchorIndex:p.index,anchor:p.anchor};n&&!xd(c,n.node,e)||(n=v)}}}return n},xd=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Mo=function(t,e,n,r){return Math.hypot(t-n,e-r)},qo=function(t,e){var n=!1,r=eo(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Vy=function(t,e){var n=!1,r=eo(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},eo=function(t){var e=t.x,n=t.y,r=t.width,s=t.height;return{minX:e-r/2,minY:n-s/2,maxX:e+r/2,maxY:n+s/2,x:e,y:n,width:r,height:s,centerX:e,centerY:n}},Ed=function(t,e,n){var r,s=function(p){var v=p,b=v.x,x=v.y,S=v.width,D=v.height,L=v.radius;return[{x:b-S/2+L,y:x-D/2+L,r:L},{x:b+S/2-L,y:x-D/2+L,r:L},{x:b-S/2+L,y:x+D/2-L,r:L},{x:b+S/2-L,y:x+D/2-L,r:L}]}(n),c=Number.MAX_SAFE_INTEGER;return s.forEach(function(p){var v=Mo(t.x,t.y,p.x,p.y);v<c&&(c=v,r=p)}),yc(t,e,r)},yc=function(t,e,n){var r,s=n,c=s.x,p=s.y,v=s.r;if(e===An.HORIZONTAL){var b=c-Math.sqrt(v*v-(t.y-p)*(t.y-p)),x=c+Math.sqrt(v*v-(t.y-p)*(t.y-p));r={x:Math.abs(b-t.x)<Math.abs(x-t.x)?b:x,y:t.y}}else if(e===An.VERTICAL){var S=p-Math.sqrt(v*v-(t.x-c)*(t.x-c)),D=p+Math.sqrt(v*v-(t.x-c)*(t.x-c)),L=Math.abs(S-t.y)<Math.abs(D-t.y)?S:D;r={x:t.x,y:L}}return r},xf=function(t,e){var n=e,r=!1,s=n.x-n.width/2+n.radius,c=n.x+n.width/2-n.radius,p=n.y-n.height/2+n.radius,v=n.y+n.height/2-n.radius,b=n.x,x=n.y,S=n.width,D=n.height;return t.y===x+D/2||t.y===x-D/2?r=t.x>s&&t.x<c:t.x!==b+S/2&&t.x!==b-S/2||(r=t.y>p&&t.y<v),r},Sd=function(t,e,n){var r,s=n,c=s.x,p=s.y,v=s.rx,b=s.ry;if(e===An.HORIZONTAL){var x=c-Math.sqrt(v*v-(t.y-p)*(t.y-p)*v*v/(b*b)),S=c+Math.sqrt(v*v-(t.y-p)*(t.y-p)*v*v/(b*b));r={x:Math.abs(x-t.x)<Math.abs(S-t.x)?x:S,y:t.y}}else if(e===An.VERTICAL){var D=p-Math.sqrt(b*b-(t.x-c)*(t.x-c)*b*b/(v*v)),L=p+Math.sqrt(b*b-(t.x-c)*(t.x-c)*b*b/(v*v)),X=Math.abs(D-t.y)<Math.abs(L-t.y)?D:L;r={x:t.x,y:X}}return r},jd=function(t,e,n){for(var r,s=n.pointsPosition,c=Number.MAX_SAFE_INTEGER,p=[],v=0;v<s.length;v++)p.push({start:s[v],end:s[(v+1)%s.length]});return p.forEach(function(b){var x=b.start,S=b.end,D=x,L=S;x.x>S.x&&(D=S,L=x);var X={x:t.x,y:t.y};if(D.x===L.x&&e===An.HORIZONTAL&&(X={x:D.x,y:t.y}),D.y===L.y&&e===An.VERTICAL&&(X={x:t.x,y:D.y}),D.x!==L.x&&D.y!==L.y){var J=(L.y-D.y)/(L.x-D.x),re=(D.x*L.y-L.x*D.y)/(D.x-L.x);e===An.HORIZONTAL?X={x:(t.y-re)/J,y:t.y}:e===An.VERTICAL&&(X={x:t.x,y:J*t.x+re})}if(hu(X,x,S)){var ye=Mo(X.x,X.y,t.x,t.y);ye<c&&(c=ye,r=X)}}),r},Pd=function(t,e,n,r){var s=t.x,c=t.y;return e.x>t.x?s=t.x+n/2:e.x<t.x&&(s=t.x-n/2),e.y>t.y?c=t.y+r/2:e.y<t.y&&(c=t.y-r/2),{x:s,y:c}},Ad=function(t){var e=t.rows,n=t.style,r=t.rowsLength,s=t.className,c=document.createElement("div");c.style.fontSize=n.fontSize,c.style.width=n.width,c.className=s,c.style.lineHeight=n.lineHeight,c.style.padding=n.padding,n.fontFamily&&(c.style.fontFamily=n.fontFamily),r>1?e.forEach(function(v){var b=document.createElement("div");b.textContent=v,c.appendChild(b)}):c.textContent=e,document.body.appendChild(c);var p=c.clientHeight;return document.body.removeChild(c),p},Ef=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,s=0;return e&&e.forEach(function(c){var p=Gs(c);s=p>s?p:s}),{width:Math.ceil(s/2)*r+r/4,height:n*(r+2)+r/4}},vc=function(t){return Ts(t)!=="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},br=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Ns=1e3,Ky=999,Sf=function(){return++Ns};function Md(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Md(Object(n),!0).forEach(function(r){yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Td(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var jf=(ke=function(){function t(r,s){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),yo(this,"id",""),Jn(this,"type",hf,this),Jn(this,"sourceNodeId",yu,this),Jn(this,"targetNodeId",ks,this),Jn(this,"startPoint",yf,this),Jn(this,"endPoint",vf,this),Jn(this,"text",hc,this),Jn(this,"properties",gf,this),Jn(this,"points",Ao,this),Jn(this,"pointsList",qi,this),Jn(this,"isSelected",bf,this),Jn(this,"isHovered",gd,this),Jn(this,"isHitable",bd,this),Jn(this,"draggable",md,this),Jn(this,"visible",mf,this),yo(this,"virtual",!1),Jn(this,"isAnimation",_f,this),Jn(this,"isShowAdjustPoint",Of,this),yo(this,"graphModel",void 0),Jn(this,"zIndex",wf,this),yo(this,"BaseType",Zn.EDGE),yo(this,"modelType",Zt.EDGE),Jn(this,"state",_d,this),yo(this,"additionStateData",void 0),yo(this,"sourceAnchorId",""),yo(this,"targetAnchorId",""),yo(this,"menu",void 0),yo(this,"customTextPosition",!1),Jn(this,"style",Od,this),Jn(this,"arrowConfig",wd,this),this.graphModel=s,this.initEdgeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var s=this.graphModel.idGenerator,c=s&&s(r.type),p=this.createId();r.id=p||c||Ki()}this.arrowConfig.markerEnd="url(#marker-end-".concat(r.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(r.id,")");var v=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=v,fr(this,Hs(r)),this.graphModel.overlapMode===Fn.INCREASE&&(this.zIndex=r.zIndex||Sf()),this.setAnchors(),this.initPoints(),this.formatText(r)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Gr(Gr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return Gr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return In(r)}},{key:"getEdgeAnimationStyle",value:function(){var r=this.graphModel.theme.edgeAnimation;return In(r)}},{key:"getArrowStyle",value:function(){var r=this.getEdgeStyle(),s=this.getEdgeAnimationStyle(),c=this.graphModel.theme.arrow,p=this.isAnimation?s.stroke:r.stroke;return Gr(Gr({},r),{},{fill:p,stroke:p},c)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return In(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,s;return(r=this.graphModel)===null||r===void 0||(s=r.nodesMap[this.sourceNodeId])===null||s===void 0?void 0:s.model}},{key:"targetNode",get:function(){var r,s;return(r=this.graphModel)===null||r===void 0||(s=r.nodesMap[this.targetNodeId])===null||s===void 0?void 0:s.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,s,c){var p,v,b=Ur(r);return c&&(p=lf(b,function(x){return x.id===c}))||b.forEach(function(x){var S=Ac(x,s);(v===void 0||S<v)&&(v=S,p=x)}),p}},{key:"getEndAnchor",value:function(r,s){var c,p,v=this,b=Ur(r);return s&&(c=lf(b,function(x){return x.id===s}))||b.forEach(function(x){var S=Ac(x,v.startPoint);(p===void 0||S<p)&&(p=S,c=x)}),c}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,s=r.x,c=r.y,p=r.value,v={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return p&&(v.text={x:s,y:c,value:p}),this.graphModel.overlapMode===Fn.INCREASE&&(v.zIndex=this.zIndex),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,s){this.properties[r]=br(s),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Gr(Gr({},Object(h.I)(this.properties)),br(r)),this.setAttributes()}},{key:"changeEdgeId",value:function(r){var s=this.arrowConfig,c=s.markerEnd,p=s.markerStart;p&&p==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(r,")")),c&&c==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(r,")")),this.id=r}},{key:"setStyle",value:function(r,s){this.style=Gr(Gr({},this.style),{},yo({},r,br(s)))}},{key:"setStyles",value:function(r){this.style=Gr(Gr({},this.style),br(r))}},{key:"updateStyles",value:function(r){this.style=Gr({},br(r))}},{key:"formatText",value:function(r){var s=this.textPosition,c=s.x,p=s.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||c,y:r.text.y||p,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:c,y:p,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,s=r.x,c=r.y;this.text.x=s,this.text.y=c}},{key:"moveText",value:function(r,s){if(this.text){var c=this.text,p=c.x,v=c.y,b=c.value,x=c.draggable,S=c.editable;this.text={value:b,draggable:x,x:p+r,y:v+s,editable:S}}}},{key:"setText",value:function(r){r&&fr(this.text,r)}},{key:"updateText",value:function(r){this.text=Gr(Gr({},Object(h.I)(this.text)),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!r)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var s=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!s)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:s.x,y:s.y}),this.targetAnchorId||(this.targetAnchorId=s.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(r,s){this.state=r,this.additionStateData=s}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,s){this.startPoint.x+=r,this.startPoint.y+=s}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,s){this.endPoint.x+=r,this.endPoint.y+=s}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){fr(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var s=r.startPoint,c=r.endPoint;this.updateStartPoint({x:s.x,y:s.y}),this.updateEndPoint({x:c.x,y:c.y})}}],n&&Td(e.prototype,n),t}(),hf=Mt(ke.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yu=Mt(ke.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ks=Mt(ke.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yf=Mt(ke.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vf=Mt(ke.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hc=Mt(ke.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),gf=Mt(ke.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ao=Mt(ke.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qi=Mt(ke.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bf=Mt(ke.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gd=Mt(ke.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bd=Mt(ke.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),md=Mt(ke.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mf=Mt(ke.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_f=Mt(ke.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Of=Mt(ke.prototype,"isShowAdjustPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wf=Mt(ke.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_d=Mt(ke.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Od=Mt(ke.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wd=Mt(ke.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Mt(ke.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"sourceNode"),ke.prototype),Mt(ke.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"targetNode"),ke.prototype),Mt(ke.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(ke.prototype,"textPosition"),ke.prototype),Mt(ke.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Mt(ke.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"deleteProperty"),ke.prototype),Mt(ke.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Mt(ke.prototype,"changeEdgeId",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"changeEdgeId"),ke.prototype),Mt(ke.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyle"),ke.prototype),Mt(ke.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setStyles"),ke.prototype),Mt(ke.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStyles"),ke.prototype),Mt(ke.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"formatText"),ke.prototype),Mt(ke.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"resetTextPosition"),ke.prototype),Mt(ke.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Mt(ke.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setText"),ke.prototype),Mt(ke.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Mt(ke.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setAnchors"),ke.prototype),Mt(ke.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Mt(ke.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Mt(ke.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Mt(ke.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"openEdgeAnimation"),ke.prototype),Mt(ke.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"closeEdgeAnimation"),ke.prototype),Mt(ke.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Mt(ke.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateStartPoint"),ke.prototype),Mt(ke.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveStartPoint"),ke.prototype),Mt(ke.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateEndPoint"),ke.prototype),Mt(ke.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveEndPoint"),ke.prototype),Mt(ke.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Mt(ke.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"initPoints"),ke.prototype),Mt(ke.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype),Mt(ke.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustStart"),ke.prototype),Mt(ke.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"getAdjustEnd"),ke.prototype),Mt(ke.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAfterAdjustStartAndEnd"),ke.prototype),ke),vu=jf;function Pf(t){return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function kd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kd(Object(n),!0).forEach(function(r){Cd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bc(){return bc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Rd(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},bc.apply(this,arguments)}function Rd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wi(t))!==null;);return t}function Rs(t,e){return Rs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Rs(t,e)}function qy(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wi(t);if(e){var s=wi(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Zy(this,n)}}function Zy(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mc(t)}function mc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wi(t){return wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wi(t)}function Cd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt,Af,Cs=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Rs(c,p)})(s,t);var e,n,r=qy(s);function s(){var c;Dd(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return Cd(mc(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.LINE_EDGE),c}return e=s,(n=[{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.line;return gc(gc({},bc(wi(s.prototype),"getEdgeStyle",this).call(this)),In(c))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Nd(e.prototype,n),s}(vu);function to(t){return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(t)}function Jy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Id(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Id(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Id(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zi(Object(n),!0).forEach(function(r){$n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qy(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(){return vo=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=ev(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},vo.apply(this,arguments)}function ev(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=wn(t))!==null;);return t}function _c(t,e){return _c=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_c(t,e)}function xi(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wn(t);if(e){var s=wn(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ld(this,n)}}function Ld(t,e){if(e&&(to(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ji(t)}function Ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wn(t){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(t)}function $n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ar(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Oc=(Wt=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&_c(c,p)})(s,t);var e,n,r=xi(s);function s(){var c;Hr(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return $n(Ji(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.POLYLINE_EDGE),$n(Ji(c),"draggingPointList",void 0),Qy(Ji(c),"dbClickPosition",Af,Ji(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=30,vo(wn(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.polyline;return Gt(Gt({},vo(wn(s.prototype),"getEdgeStyle",this).call(this)),In(c))}},{key:"getTextPosition",value:function(){var c,p=(c=this.text)===null||c===void 0?void 0:c.value;if(this.dbClickPosition&&!p){var v=this.dbClickPosition;return{x:v.x,y:v.y}}var b=ea(this.points),x=Jy(Yd(b),2),S=x[0],D=x[1];return{x:(S.x+D.x)/2,y:(S.y+D.y)/2}}},{key:"getAfterAnchor",value:function(c,p,v){var b,x;return v.forEach(function(S){var D;c===An.HORIZONTAL?D=Math.abs(p.y-S.y):c===An.VERTICAL&&(D=Math.abs(p.x-S.x)),(!x||x>D)&&(x=D,b=S)}),b}},{key:"getCrossPoint",value:function(c,p,v){var b;return c===An.HORIZONTAL?b={x:v.x,y:p.y}:c===An.VERTICAL&&(b={x:p.x,y:v.y}),b}},{key:"removeCrossPoints",value:function(c,p,v){var b=v.map(function(ge){return ge});if(c===1){var x=b[c],S=b[p],D=b[c-1];if(Rf(D,x,this.sourceNode)){if(Cf(x,S,this.sourceNode)){var L=If(x,S,this.sourceNode);L&&(b[c]=L,b.splice(c-1,1),c--,p--)}}else this.sourceNode.anchors.forEach(function(ge){(ge.x===D.x&&ge.x===x.x||ge.y===D.y&&ge.y===x.y)&&Mo(ge.x,ge.y,x.x,x.y)<Mo(D.x,D.y,x.x,x.y)&&(b[c-1]=ge)})}if(p===v.length-2){var X=b[c],J=b[p],re=b[p+1];if(Rf(J,re,this.targetNode)){if(Cf(X,J,this.targetNode)){var ye=If(X,J,this.targetNode);ye&&(b[p]=ye,b.splice(p+1,1))}}else this.targetNode.anchors.forEach(function(ge){(ge.x===re.x&&ge.x===J.x||ge.y===re.y&&ge.y===J.y)&&Mo(ge.x,ge.y,J.x,J.y)<Mo(re.x,re.y,J.x,J.y)&&(b[p+1]=ge)})}return b}},{key:"getDraggingPoints",value:function(c,p,v,b,x){var S=x.map(function(X){return X}),D=this.getAfterAnchor(c,v,b),L=this.getCrossPoint(c,v,D);return p==="start"?(S.unshift(L),S.unshift(D)):(S.push(L),S.push(D)),S}},{key:"updateCrossPoints",value:function(c){var p=c.map(function(Ce){return Ce}),v=c[0],b=c[1],x=c[p.length-2],S=c[p.length-1],D=this.sourceNode,L=this.targetNode,X=D.modelType,J=L.modelType,re=Pc(v,b),ye=p[0];switch(X){case Zt.RECT_NODE:D.radius!==0&&(xf(v,D)||(ye=Ed(v,re,D)));break;case Zt.CIRCLE_NODE:ye=yc(v,re,D);break;case Zt.ELLIPSE_NODE:ye=Sd(v,re,D);break;case Zt.DIAMOND_NODE:case Zt.POLYGON_NODE:ye=jd(v,re,D)}p[0]=ye;var ge=Pc(x,S),xe=p[p.length-1];switch(J){case Zt.RECT_NODE:L.radius!==0&&(xf(S,L)||(xe=Ed(S,ge,L)));break;case Zt.CIRCLE_NODE:xe=yc(S,ge,L);break;case Zt.ELLIPSE_NODE:xe=Sd(S,ge,L);break;case Zt.DIAMOND_NODE:case Zt.POLYGON_NODE:xe=jd(S,ge,L)}return p[p.length-1]=xe,p}},{key:"getData",value:function(){var c=vo(wn(s.prototype),"getData",this).call(this),p=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return Object.assign({},c,{pointsList:p})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var c=Ws({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=c,this.points=c.map(function(p){return"".concat(p.x,",").concat(p.y)}).join(" ")}},{key:"updateStartPoint",value:function(c){this.startPoint=Object.assign({},c),this.updatePoints()}},{key:"moveStartPoint",value:function(c,p){this.startPoint.x+=c,this.startPoint.y+=p,this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=Object.assign({},c),this.updatePoints()}},{key:"moveEndPoint",value:function(c,p){this.endPoint.x+=c,this.endPoint.y+=p,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(c){return c})}},{key:"dragAppendSimple",value:function(c,p){this.isDragging=!0;var v=c.start,b=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,L=this.pointsList,X=L;return D===An.HORIZONTAL?(L[x]={x:v.x,y:v.y+p.y},L[S]={x:b.x,y:b.y+p.y},X=this.pointsList.map(function(J){return J})):D===An.VERTICAL&&(L[x]={x:v.x+p.x,y:v.y},L[S]={x:b.x+p.x,y:b.y},X=this.pointsList.map(function(J){return J})),this.updatePointsAfterDrag(X),this.draggingPointList=X,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppend",value:function(c,p){this.isDragging=!0;var v=c.start,b=c.end,x=c.startIndex,S=c.endIndex,D=c.direction,L=this.pointsList;if(D===An.HORIZONTAL){L[x]={x:v.x,y:v.y+p.y},L[S]={x:b.x,y:b.y+p.y};var X=this.pointsList.map(function(Qe){return Qe});if(x!==0&&S!==this.pointsList.length-1&&(X=this.removeCrossPoints(x,S,X)),x===0){var J={x:v.x,y:v.y+p.y};if(!qo(J,this.sourceNode)){var re=this.sourceNode.anchors;X=this.getDraggingPoints(D,"start",J,re,X)}}if(S===this.pointsList.length-1){var ye={x:b.x,y:b.y+p.y};if(!qo(ye,this.targetNode)){var ge=this.targetNode.anchors;X=this.getDraggingPoints(D,"end",ye,ge,X)}}this.updatePointsAfterDrag(X),this.draggingPointList=X}else if(D===An.VERTICAL){L[x]={x:v.x+p.x,y:v.y},L[S]={x:b.x+p.x,y:b.y};var xe=this.pointsList.map(function(Qe){return Qe});if(x!==0&&S!==this.pointsList.length-1&&(xe=this.removeCrossPoints(x,S,xe)),x===0){var Ce={x:v.x+p.x,y:v.y};if(!qo(Ce,this.sourceNode)){var Je=this.sourceNode.anchors;xe=this.getDraggingPoints(D,"start",Ce,Je,xe)}}if(S===this.pointsList.length-1){var qe={x:b.x+p.x,y:b.y};if(!qo(qe,this.targetNode)){var wt=this.targetNode.anchors;xe=this.getDraggingPoints(D,"end",qe,wt,xe)}}this.updatePointsAfterDrag(xe),this.draggingPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[x]),end:Object.assign({},L[S]),startIndex:x,endIndex:S,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var c=$s(ea(this.points));this.pointsList=c.map(function(b){return b}),this.draggingPointList=[];var p=c[0];this.startPoint=Object.assign({},p);var v=c[c.length-1];this.endPoint=Object.assign({},v)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(c){var p=this.updateCrossPoints(c);this.points=p.map(function(v){return"".concat(v.x,",").concat(v.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var p=c.startPoint,v=c.endPoint,b=c.sourceNode,x=c.targetNode,S=Ws({x:p.x,y:p.y},{x:v.x,y:v.y},b,x,this.offset||0);this.pointsList=S,this.initPoints()}}])&&Qn(e.prototype,n),s}(vu),Af=Ar(Wt.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar(Wt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"initPoints"),Wt.prototype),Ar(Wt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePoints"),Wt.prototype),Ar(Wt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateStartPoint"),Wt.prototype),Ar(Wt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveStartPoint"),Wt.prototype),Ar(Wt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateEndPoint"),Wt.prototype),Ar(Wt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveEndPoint"),Wt.prototype),Ar(Wt.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendStart"),Wt.prototype),Ar(Wt.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendSimple"),Wt.prototype),Ar(Wt.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppend"),Wt.prototype),Ar(Wt.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendEnd"),Wt.prototype),Ar(Wt.prototype,"updatePointsAfterDrag",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePointsAfterDrag"),Wt.prototype),Ar(Wt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustStart"),Wt.prototype),Ar(Wt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustEnd"),Wt.prototype),Ar(Wt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAfterAdjustStartAndEnd"),Wt.prototype),Wt),Ei=function(t){var e=t.start,n=t.end,r=t.offset,s=t.verticalLength,c=t.type,p={leftX:0,leftY:0,rightX:0,rightY:0},v=Math.atan((n.y-e.y)/(n.x-e.x)),b=Math.atan(r/s),x=Math.sqrt(s*s+r*r);return c==="start"?n.x>=e.x?(p.leftX=e.x+x*Math.sin(v+b),p.leftY=e.y-x*Math.cos(v+b),p.rightX=e.x-x*Math.sin(v-b),p.rightY=e.y+x*Math.cos(v-b)):(p.leftX=e.x-x*Math.sin(v+b),p.leftY=e.y+x*Math.cos(v+b),p.rightX=e.x+x*Math.sin(v-b),p.rightY=e.y-x*Math.cos(v-b)):c==="end"&&(n.x>=e.x?(p.leftX=n.x+x*Math.sin(v-b),p.leftY=n.y-x*Math.cos(v-b),p.rightX=n.x-x*Math.sin(v+b),p.rightY=n.y+x*Math.cos(v+b)):(p.leftX=n.x-x*Math.sin(v-b),p.leftY=n.y+x*Math.cos(v-b),p.rightX=n.x+x*Math.sin(v+b),p.rightY=n.y-x*Math.cos(v+b))),p},Mf={x:1,y:0,z:0};function Tf(t,e,n,r,s){for(var c=function(J){if(J<0||J>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-J,3)+3*e.x*J*Math.pow(1-J,2)+3*n.x*Math.pow(J,2)*(1-J)+r.x*Math.pow(J,3),y:t.y*Math.pow(1-J,3)+3*e.y*J*Math.pow(1-J,2)+3*n.y*Math.pow(J,2)*(1-J)+r.y*Math.pow(J,3)}},p=0,v=2,b=r.x,x=r.y,S=r;p<s&&v<50;){var D=S=c(1-v/100),L=D.x,X=D.y;p=Mo(b,x,L,X),v++}return S}function wc(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function Xr(t){return r=function(c,p){return c.x*p.y-c.y*p.x}(e=Mf,n=t),s=Math.acos(function(c,p){var v=[c.x,c.y,c.z];return[p.x,p.y,p.z].reduce(function(b,x,S){return b+x*v[S]})}(wc(e),wc(n))),r>=0?s:-s;var e,n,r,s}function Sa(t){return t*(180/Math.PI)}function Bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bd(Object(n),!0).forEach(function(r){zd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Si(t){return function(e){if(Array.isArray(e))return Ls(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||no(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xt(t){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(t)}function xc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||no(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function no(t,e){if(t){if(typeof t=="string")return Ls(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ls(t,e):void 0}}function Ls(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xn=function(t,e){var n;switch(t.type){case"line":default:n=new Cs(t,e);break;case"polyline":n=new Oc(t,e)}return n},Fd=function(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height},gu=function(t){var e=[],n={};return t.forEach(function(r){var s="".concat(r.x,"-").concat(r.y);r.id=s,n[s]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Bs=function(t,e){var n=[t,{x:t.x,y:e.y},e];return gu(n)},Ec=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},$d=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?An.HORIZONTAL:An.VERTICAL},Sc=function(t,e,n){return $d(n,e)===An.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},kf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),s=Math.max(t.maxX,e.maxX),c=Math.max(t.maxY,e.maxY);return{centerX:(n+s)/2,centerY:(r+c)/2,minX:n,minY:r,maxX:s,maxY:c,height:c-r,width:s-n}},Qi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(S){n.push(S.x),r.push(S.y)});var s=Math.min.apply(Math,n),c=Math.max.apply(Math,n),p=Math.min.apply(Math,r),v=Math.max.apply(Math,r),b=c-s,x=v-p;return e&&(b+=e,x+=e),{centerX:(s+c)/2,centerY:(p+v)/2,maxX:c,maxY:v,minX:s,minY:p,x:(s+c)/2,y:(p+v)/2,height:x,width:b}},ja=function(t){var e=t.minX,n=t.minY,r=t.maxX,s=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:s},{x:e,y:s}]},jc=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Wd=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},Ud=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},pr=function(t,e){return Wd(t,e.x).concat(Ud(t,e.y))},mr=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Gd=function(t,e){var n=0;return e.forEach(function(r){r&&(t.x===r.x&&(n+=-2),t.y===r.y&&(n+=-2))}),n},zs=function(t,e,n,r,s){return mr(t,e)+mr(t,n)+Gd(t,[e,n,r,s])},Hd=function t(e,n,r,s,c){c||(c=0),e.unshift(n[s]),r[s]&&r[s]!==s&&c<=100&&t(e,n,r,r[s],c+1)},Xd=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Pa=function(t,e,n,r){var s=e.x-t.x,c=e.y-t.y,p=r.x-n.x,v=r.y-n.y,b=(-c*(t.x-n.x)+s*(t.y-n.y))/(-p*c+s*v),x=(p*(t.y-n.y)-v*(t.x-n.x))/(-p*c+s*v);return b>=0&&b<=1&&x>=0&&x<=1},Fs=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=xc(ja(n),4),s=r[0],c=r[1],p=r[2],v=r[3];return Pa(t,e,s,c)||Pa(t,e,s,v)||Pa(t,e,c,p)||Pa(t,e,p,v)},Df=function(t,e,n,r){var s=[];return t.forEach(function(c){c!==e&&(c.x!==e.x&&c.y!==e.y||Fs(c,e,n)||Fs(c,e,r)||s.push(c))}),gu(s)},Aa=function(t,e,n,r,s,c,p){var v=[],b=[e],x={},S={},D={};S[e.id]=0,D[e.id]=zs(e,n,e);var L={};t.forEach(function(re){L[re.id]=re});for(var X=function(){var re=void 0,ye=1/0;if(b.forEach(function(xe){D[xe.id]<ye&&(ye=D[xe.id],re=xe)}),re===n){var ge=[];return Hd(ge,L,x,n.id),{v:ge}}Xd(b,re),v.push(re),Df(t,re,r,s).forEach(function(xe){if(v.indexOf(xe)===-1){b.indexOf(xe)===-1&&b.push(xe);var Ce=D[re.id]+mr(re,xe);S[xe.id]&&Ce>=S[xe.id]||(x[xe.id]=re.id,S[xe.id]=Ce,D[xe.id]=S[xe.id]+zs(xe,n,e,c,p))}})};b.length;){var J=X();if(Xt(J)==="object")return J.v}return[e,n]},Nf=function(t){return eo(t)},$s=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],s=t[e+1];n.x===r.x&&r.x===s.x||n.y===r.y&&r.y===s.y?t.splice(e,1):e++}return t},Ws=function(t,e,n,r,s){var c=Nf(n),p=Nf(r),v=Ec(c,s),b=Ec(p,s),x=Sc(v,c,t),S=Sc(b,p,e);if(Fd(v,b)){var D=Us(t,e,x,S);return[t,x].concat(Si(D),[S,e])}var L=Qi([x,S]),X=kf(v,L),J=kf(b,L),re=[];re=(re=re.concat(ja(X))).concat(ja(J));var ye={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[L,X,J].forEach(function(xe){re=re.concat(pr(xe,ye).filter(function(Ce){return jc(Ce,v)&&jc(Ce,b)}))}),[{x:x.x,y:S.y},{x:S.x,y:x.y}].forEach(function(xe){jc(xe,v)&&jc(xe,b)&&re.push(xe)}),re.unshift(x),re.push(S),re=gu(re);var ge=Aa(re,x,S,c,p,t,e);return ge.unshift(t),ge.push(e),ge.length>2&&(ge=$s(ge)),gu(ge)},Yd=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],s=Mo(n.x,n.y,r.x,r.y),c=1;c<t.length-1;c++){var p=t[c],v=t[c+1],b=Mo(p.x,p.y,v.x,v.y);b>s&&(s=b,n=p,r=v)}e=[n,r]}return e},Rf=function(t,e,n){var r=qo(t,n),s=qo(e,n);return r&&s},Cf=function(t,e,n){var r=qo(t,n),s=qo(e,n);return!(r&&s)&&(r||s)},If=function(t,e,n){for(var r,s,c=eo(n),p=ja(c),v=0;v<p.length;v++)Pa(t,e,p[v],p[(v+1)%p.length])&&(s=[p[v],p[(v+1)%p.length]]);return s&&(r=function(b,x,S,D){var L=(x.y-b.y)*(D.x-S.x)-(b.x-x.x)*(S.y-D.y);if(L===0)return!1;var X=((x.x-b.x)*(D.x-S.x)*(S.y-b.y)+(x.y-b.y)*(D.x-S.x)*b.x-(D.y-S.y)*(x.x-b.x)*S.x)/L,J=-((x.y-b.y)*(D.y-S.y)*(S.x-b.x)+(x.x-b.x)*(D.y-S.y)*b.y-(D.x-S.x)*(x.y-b.y)*S.y)/L;return(X-b.x)*(X-x.x)<=0&&(J-b.y)*(J-x.y)<=0&&(X-S.x)*(X-D.x)<=0&&(J-S.y)*(J-D.y)<=0&&{x:X,y:J}}(t,e,s[0],s[1])),r},Pc=function(t,e){var n;return t.x===e.x?n=An.VERTICAL:t.y===e.y&&(n=An.HORIZONTAL),n},ea=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var s=xc(r.split(","),2),c=s[0],p=s[1];n.push({x:Number(c),y:Number(p)})}),n},Us=function(t,e,n,r){var s=[];if(Pc(t,n)===Pc(e,r))t.y===n.y?(s.push({x:n.x,y:(n.y+r.y)/2}),s.push({x:r.x,y:(n.y+r.y)/2})):(s.push({x:(n.x+r.x)/2,y:n.y}),s.push({x:(n.x+r.x)/2,y:r.y}));else{var c={x:n.x,y:r.y},p=hu(c,t,n),v=hu(c,e,r);if(p||v)c={x:r.x,y:n.y};else{var b=Lf(c,t,n),x=Lf(c,e,r);b&&x&&(c={x:r.x,y:n.y})}s.push(c)}return s},Lf=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Gs=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Bf=null,zf=function(t,e){Bf||(Bf=document.createElement("canvas"));var n=Bf.getContext("2d");return n.font=e,n.measureText(t).width},Vd=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var s={start:n,end:r,offset:10,verticalLength:5},c=Ei(Is(Is({},s),{},{type:"start"})),p=Ei(Is(Is({},s),{},{type:"end"}));e="M".concat(c.leftX," ").concat(c.leftY,` 
    L`).concat(c.rightX," ").concat(c.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ff=function(t){var e=t.start,n=t.end,r=t.sourceNode,s=t.targetNode,c=t.offset,p=eo(r),v=eo(s),b=Ec(p,c),x=Ec(v,c);return{sNext:Sc(b,p,e),ePre:Sc(x,v,n)}},_r=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[bu(e[0]),bu(e[1]),bu(e[2]),bu(e[3])]},bu=function(t){var e=xc(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},$f=function(t,e){var n=xc(t,4);return[Tf(n[0],n[1],n[2],n[3],e),t[3]]},Wf=function(t,e){for(var n,r=t.x,s=t.y,c=ea(e),p=Number.MAX_SAFE_INTEGER,v=[],b=0;b<c.length;b++)v.push({start:c[b],end:c[(b+1)%c.length]});if(v.forEach(function(L){var X=L.start,J=L.end;if(X.x===J.x){var re={x:X.x,y:s};if(hu(re,X,J)){var ye=Math.abs(X.x-r);ye<p&&(p=ye,n=re)}}else if(X.y===J.y){var ge={x:r,y:X.y};if(hu(ge,X,J)){var xe=Math.abs(X.y-s);xe<p&&(p=xe,n=ge)}}}),!n){var x=v[0],S=x.start,D=x.end;n={x:S.x+(D.x-S.x)/2,y:S.y+(D.y-S.y)/2}}return n},Hs=function(t){return vi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Ac=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Kd(t,e){return typeof e!="function"?function(n,r,s){return Object.assign({type:t.edgeType},s)}:function(n,r,s){var c=e(n,r,s);return c?typeof c=="string"?Object.assign({},s,{type:c}):Object.assign({type:c},s):{type:t.edgeType}}}o(208);var Uf=function(){};function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zo=function(){function t(r){var s=this,c=r.onDragStart,p=c===void 0?Uf:c,v=r.onDragging,b=v===void 0?Uf:v,x=r.onDragEnd,S=x===void 0?Uf:x,D=r.eventType,L=D===void 0?"":D,X=r.eventCenter,J=X===void 0?null:X,re=r.step,ye=re===void 0?1:re,ge=r.isStopPropagation,xe=ge===void 0||ge,Ce=r.model,Je=Ce===void 0?null:Ce,qe=r.data,wt=qe===void 0?null:qe;(function(Qe,ht){if(!(Qe instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,t),er(this,"onDragStart",void 0),er(this,"onDragging",void 0),er(this,"onDragEnd",void 0),er(this,"step",void 0),er(this,"isStopPropagation",void 0),er(this,"isDragging",!1),er(this,"isStartDragging",!1),er(this,"startX",0),er(this,"startY",0),er(this,"sumDeltaX",0),er(this,"sumDeltaY",0),er(this,"eventType",void 0),er(this,"eventCenter",void 0),er(this,"model",void 0),er(this,"data",void 0),er(this,"startTime",void 0),er(this,"handleMouseDown",function(Qe){var ht,rt,en,an=(ht=window)===null||ht===void 0?void 0:ht.document;if(Qe.button===0){s.isStopPropagation&&Qe.stopPropagation(),s.isStartDragging=!0,s.startX=Qe.clientX,s.startY=Qe.clientY,an.addEventListener("mousemove",s.handleMouseMove,!1),an.addEventListener("mouseup",s.handleMouseUp,!1);var Ct=(rt=s.model)===null||rt===void 0?void 0:rt.getData();(en=s.eventCenter)===null||en===void 0||en.emit(dt["".concat(s.eventType,"_MOUSEDOWN")],{e:Qe,data:s.data||Ct}),s.startTime=new Date().getTime()}}),er(this,"handleMouseMove",function(Qe){if(s.isStopPropagation&&Qe.stopPropagation(),s.isStartDragging&&(s.sumDeltaX+=Qe.clientX-s.startX,s.sumDeltaY+=Qe.clientY-s.startY,s.startX=Qe.clientX,s.startY=Qe.clientY,s.step<=1||Math.abs(s.sumDeltaX)>s.step||Math.abs(s.sumDeltaY)>s.step)){var ht,rt=s.sumDeltaX%s.step,en=s.sumDeltaY%s.step,an=s.sumDeltaX-rt,Ct=s.sumDeltaY-en;s.sumDeltaX=rt,s.sumDeltaY=en;var fn,tr=(ht=s.model)===null||ht===void 0?void 0:ht.getData();s.isDragging||((fn=s.eventCenter)===null||fn===void 0||fn.emit(dt["".concat(s.eventType,"_DRAGSTART")],{e:Qe,data:s.data||tr}),s.onDragStart({event:Qe})),s.isDragging=!0,Promise.resolve().then(function(){var nr,Lr;s.onDragging({deltaX:an,deltaY:Ct,event:Qe}),(nr=s.eventCenter)===null||nr===void 0||nr.emit(dt["".concat(s.eventType,"_MOUSEMOVE")],{e:Qe,data:s.data||tr}),(Lr=s.eventCenter)===null||Lr===void 0||Lr.emit(dt["".concat(s.eventType,"_DRAG")],{e:Qe,data:s.data||tr})})}}),er(this,"handleMouseUp",function(Qe){var ht=window.document;s.isStartDragging=!1,s.isStopPropagation&&Qe.stopPropagation(),Promise.resolve().then(function(){var rt,en,an;ht.removeEventListener("mousemove",s.handleMouseMove,!1),ht.removeEventListener("mouseup",s.handleMouseUp,!1);var Ct=(rt=s.model)===null||rt===void 0?void 0:rt.getData();(en=s.eventCenter)===null||en===void 0||en.emit(dt["".concat(s.eventType,"_MOUSEUP")],{e:Qe,data:s.data||Ct}),s.isDragging&&(s.isDragging=!1,s.onDragEnd({event:Qe}),(an=s.eventCenter)===null||an===void 0||an.emit(dt["".concat(s.eventType,"_DROP")],{e:Qe,data:s.data||Ct}))})}),er(this,"cancelDrag",function(){var Qe,ht=(Qe=window)===null||Qe===void 0?void 0:Qe.document;ht.removeEventListener("mousemove",s.handleMouseMove,!1),ht.removeEventListener("mouseup",s.handleMouseUp,!1),s.onDragEnd({event:null}),s.isDragging=!1}),this.onDragStart=p,this.onDragging=b,this.onDragEnd=S,this.step=ye,this.isStopPropagation=xe,this.eventType=L,this.eventCenter=J,this.model=Je,this.data=wt}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}},{key:"setModel",value:function(r){this.model=r}}])&&tv(e.prototype,n),t}();function Gf(t){return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hf(t,e,n){return e&&Xs(t.prototype,e),n&&Xs(t,n),t}function Xf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function Yf(t){var e=qd();return function(){var n,r=y(t);if(e){var s=y(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return nv(this,n)}}function nv(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(t)}function ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vf(t){var e=typeof Map=="function"?new Map:void 0;return Vf=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return Kf(n,arguments,y(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l(s,n)},Vf(t)}function Kf(t,e,n){return Kf=qd()?Reflect.construct:function(r,s,c){var p=[null];p.push.apply(p,s);var v=new(Function.bind.apply(r,p));return c&&l(v,c.prototype),v},Kf.apply(null,arguments)}function qd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t,e){return l=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},l(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(t)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){return t instanceof W&&e instanceof W}var R=function(t){Xf(n,t);var e=Yf(n);function n(r,s,c){var p;return Mc(this,n),_(ji(p=e.call(this,3)),"x",void 0),_(ji(p),"y",void 0),_(ji(p),"z",void 0),p[0]=r,p[1]=s,p[2]=c,p.x=r,p.y=s,p.z=c,Object.setPrototypeOf(ji(p),n.prototype),p}return Hf(n,[{key:"add",value:function(r){if(A(this,r))return new W(this.x+r.x,this.y+r.y);var s=this.z+r.z;return new ne((this.x+r.x)/s,(this.y+r.y)/s)}},{key:"subtract",value:function(r){if(A(this,r))return new W(this.x-r.x,this.y-r.y);var s=this.z-r.z;return s===0?new W(this.x-r.x,this.y-r.y):new ne((this.x-r.x)/s,(this.y-r.y)/s)}}]),n}(Vf(Array)),W=function(t){Xf(n,t);var e=Yf(n);function n(r,s,c){var p;return Mc(this,n),p=e.call(this,r,s,c!=null?c:0),Object.setPrototypeOf(ji(p),n.prototype),p}return Hf(n,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(r){var s=this;return r.reduce(function(c,p,v){return c+p*s[v]})}},{key:"cross",value:function(r){return new n(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var r=this.getLength();return new n(this.x/r,this.y/r)}},{key:"crossZ",value:function(r){return this.x*r.y-this.y*r.x}},{key:"angle",value:function(r){var s=this.crossZ(r),c=Math.acos(this.normalize().dot(r.normalize()));return s>=0?c:-c}}]),n}(R),ne=function(t){Xf(n,t);var e=Yf(n);function n(r,s){var c;return Mc(this,n),c=e.call(this,r,s,1),Object.setPrototypeOf(ji(c),n.prototype),c}return Hf(n,[{key:"toString",value:function(){return"Point"}}]),n}(R);o(67),o(218);function le(t){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(t)}function Oe(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||Re(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Le(t){return function(e){if(Array.isArray(e))return Ue(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Re(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Re(t,e){if(t){if(typeof t=="string")return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(t,e):void 0}}function Ue(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e,n){return e&&vt(t.prototype,e),n&&vt(t,n),t}function Be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}function He(t){var e=nn();return function(){var n,r=Pt(t);if(e){var s=Pt(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(t,e){if(e&&(le(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(t)}function nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t){var e=typeof Map=="function"?new Map:void 0;return Dt=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return Tt(n,arguments,Pt(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),bt(s,n)},Dt(t)}function Tt(t,e,n){return Tt=nn()?Reflect.construct:function(r,s,c){var p=[null];p.push.apply(p,s);var v=new(Function.bind.apply(r,p));return c&&bt(v,c.prototype),v},Tt.apply(null,arguments)}function nn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bt(t,e){return bt=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bt(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(t)}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var me,To,ir,Jo,Pi,mu,Tc,Ma,ta,qf,Zf,kc,Ys,na=function(t){Be(n,t);var e=He(n);function n(){var r;st(this,n);for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return Wn(nt(r=e.call(this,c.length)),"rows",void 0),Wn(nt(r),"columns",void 0),r.fill(new Array(3)),c.forEach(function(v,b){r[b]=v}),r.columns=c[0].length,r.rows=c.length,Object.setPrototypeOf(nt(r),n.prototype),r}return jt(n,[{key:"getRow",value:function(r){return this[r]}},{key:"getColumn",value:function(r){return Le(this.map(function(s){return s[r]}))}},{key:"transpose",value:function(){for(var r=[],s=0;s<this.columns;s++)r.push(this.getColumn(s));return Tt(n,r)}},{key:"cross",value:function(r){var s=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===r.rows)for(var c=0;c<this.rows;c++)for(var p=this.getRow(c),v=function(x){var S=r.getColumn(x);s[c][x]=p.reduce(function(D,L,X){return D+L*S[X]},0)},b=0;b<r.columns;b++)v(b);return Tt(n,Le(s))}},{key:"to2D",value:function(){return this.map(function(r){return[r[0],r[1]]})}},{key:"toPoints",value:function(){return this.map(function(r){return new ne(r[0],r[1])})}},{key:"toString",value:function(){var r=Oe(this[0],2),s=r[0],c=r[1],p=Oe(this[1],2),v=p[0],b=p[1],x=Oe(this[2],2),S=x[0],D=x[1];return"matrix(".concat(s," ").concat(c," ").concat(v," ").concat(b," ").concat(S," ").concat(D,")")}},{key:"translate",value:function(r,s){return this.cross(new ra(r,s))}},{key:"rotate",value:function(r){return this.cross(new Dc(r))}},{key:"scale",value:function(r,s){return this.cross(new Jf(r,s))}}]),n}(Dt(Array)),Dc=function(t){Be(n,t);var e=He(n);function n(r){var s;return st(this,n),s=e.call(this,new W(+Math.cos(r).toFixed(2),+Math.sin(r).toFixed(2),0),new W(-Math.sin(r).toFixed(2),+Math.cos(r).toFixed(2),0),new W(0,0,1)),Object.setPrototypeOf(nt(s),n.prototype),s}return jt(n,[{key:"inverse",value:function(){return this.transpose()}}]),n}(na),Jf=function(t){Be(n,t);var e=He(n);function n(r,s){var c;return st(this,n),Wn(nt(c=e.call(this,new W(r,0,0),new W(0,s,0),new W(0,0,1))),"sx",void 0),Wn(nt(c),"sy",void 0),c.sx=r,c.sy=s,Object.setPrototypeOf(nt(c),n.prototype),c}return jt(n,[{key:"inverse",value:function(){return new n(1/this.sx,1/this.sy)}}]),n}(na),ra=function(t){Be(n,t);var e=He(n);function n(r,s){var c;return st(this,n),Wn(nt(c=e.call(this,new W(1,0,0),new W(0,1,0),new W(r,s,1))),"tx",void 0),Wn(nt(c),"ty",void 0),c.tx=r,c.ty=s,Object.setPrototypeOf(nt(c),n.prototype),c}return jt(n,[{key:"inverse",value:function(){return new n(-this.tx,-this.ty)}}]),n}(na),Nc={node:!1,edge:!1},AE={node:!0,edge:!0};function Jm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jm(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qf(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||Qm(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vs(t){return function(e){if(Array.isArray(e))return rv(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Qm(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qm(t,e){if(t){if(typeof t=="string")return rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rv(t,e):void 0}}function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jd(t){return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Qo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ME(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ot(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var e0,t0=200,n0=(me=function(){function t(r){(function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),Ai(this,"rootEl",void 0),Qo(this,"width",To,this),Qo(this,"height",ir,this),Ai(this,"theme",void 0),Ai(this,"eventCenter",void 0),Ai(this,"modelMap",new Map),Ai(this,"topElement",void 0),Ai(this,"animation",void 0),Ai(this,"idGenerator",void 0),Ai(this,"edgeGenerator",void 0),Ai(this,"nodeMoveRules",[]),Ai(this,"customTrajectory",void 0),Qo(this,"edgeType",Jo,this),Qo(this,"nodes",Pi,this),Qo(this,"edges",mu,this),Qo(this,"overlapMode",Tc,this),Qo(this,"background",Ma,this),Qo(this,"transformModel",ta,this),Qo(this,"editConfigModel",qf,this),Qo(this,"gridSize",Zf,this),Qo(this,"partial",kc,this),Qo(this,"fakerNode",Ys,this);var s,c=r.container,p=r.background,v=p===void 0?{}:p,b=r.grid,x=r.idGenerator,S=r.edgeGenerator,D=r.animation,L=r.customTrajectory;this.background=v,Jd(b)==="object"&&(this.gridSize=b.size),this.rootEl=c,this.editConfigModel=new Ul(r),this.eventCenter=new Ss,this.transformModel=new Kp(this.eventCenter,r),this.theme=lc(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=(s=D)&&typeof s!="boolean"?sc(In(Nc),s):In(s===!0?AE:Nc),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=x,this.customTrajectory=L,this.edgeGenerator=Kd(this,S),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Ki()}var e,n;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,s,c){return r[s.id]={index:c,model:s},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,s,c){return r[s.id]={index:c,model:s},r},{})}},{key:"modelsMap",get:function(){return[].concat(Vs(this.nodes),Vs(this.edges)).reduce(function(r,s){return r[s.id]=s,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(x){return r.push(x)}),this.edges.forEach(function(x){return r.push(x)}),r=r.sort(function(x,S){return x.zIndex-S.zIndex});for(var s=[],c=[-200,-200],p=[this.width+t0,this.height+t0],v=0;v<r.length;v++){var b=r[v];b.visible&&(!this.partial||b.isSelected||this.isElementInArea(b,c,p,!1,!1))&&s.push(b)}return s}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(c){return c.state===vn.TEXT_EDIT}),s=this.edges.find(function(c){return c.state===vn.TEXT_EDIT});return r||s}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(s){s.isSelected&&r.set(s.id,s)}),this.edges.forEach(function(s){s.isSelected&&r.set(s.id,s)}),r}},{key:"selectNodes",get:function(){var r=[];return this.nodes.forEach(function(s){s.isSelected&&r.push(s)}),r}},{key:"getAreaElement",value:function(r,s){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=arguments.length>4&&arguments[4]!==void 0&&arguments[4],b=[],x=[];this.nodes.forEach(function(L){return x.push(L)}),this.edges.forEach(function(L){return x.push(L)});for(var S=0;S<x.length;S++){var D=x[S];v&&!D.visible||!this.isElementInArea(D,r,s,c,p)||b.push(D)}return b}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var s;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(s=this.nodesMap[r])===null||s===void 0?void 0:s.model}},{key:"getPointByClient",value:function(r){var s=r.x,c=r.y,p=this.rootEl.getBoundingClientRect(),v={x:s-p.left,y:c-p.top},b=Qf(this.transformModel.HtmlPointToCanvasPoint([v.x,v.y]),2);return{domOverlayPosition:v,canvasOverlayPosition:{x:b[0],y:b[1]}}}},{key:"isElementInArea",value:function(r,s,c){var p=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],v=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Zn.NODE){for(var b=eo(r=r),x=b.minX,S=b.minY,D=b.maxX,L=b.maxY,X=[{x,y:S},{x:D,y:S},{x:D,y:L},{x,y:L}],J=v,re=0;re<X.length;re++){var ye=X[re],ge=ye.x,xe=ye.y,Ce=this.transformModel.CanvasPointToHtmlPoint([ge,xe]),Je=Qf(Ce,2);if(ge=Je[0],xe=Je[1],rf([ge,xe],s,c)!==v){J=!v;break}}return J}if(r.BaseType===Zn.EDGE){var qe=r=r,wt=qe.startPoint,Qe=qe.endPoint,ht=this.transformModel.CanvasPointToHtmlPoint([wt.x,wt.y]),rt=this.transformModel.CanvasPointToHtmlPoint([Qe.x,Qe.y]),en=rf(ht,s,c),an=rf(rt,s,c);return p?en&&an:en||an}return!1}},{key:"graphDataToModel",value:function(r){var s=this;if(this.width&&this.height||this.resize(),!r)return this.nodes=[],void(this.edges=[]);r.nodes?this.nodes=us(r.nodes,function(c){var p=s.getModel(c.type);if(!p)throw new Error("找不到".concat(c.type,"对应的节点。"));var v=c.x,b=c.y;return v&&b&&(c.x=Ko(v,s.gridSize),c.y=Ko(b,s.gridSize),Jd(c.text)==="object"&&(c.text.x-=du(v,s.gridSize),c.text.y-=du(b,s.gridSize))),new p(c,s)}):this.nodes=[],r.edges?this.edges=us(r.edges,function(c){var p=s.getModel(c.type);if(!p)throw new Error("找不到".concat(c.type,"对应的边。"));return new p(c,s)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(c){var p=c.getData();p&&!c.virtual&&r.push(p)});var s=[];return this.nodes.forEach(function(c){var p=c.getData();p&&!c.virtual&&s.push(p)}),{nodes:s,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,s=[],c=0;c<this.nodes.length;c++){var p=this.nodes[c];if(p.isDragging){r=!0;break}s.push(p.getHistoryData())}if(r)return!1;for(var v=!1,b=[],x=0;x<this.edges.length;x++){var S=this.edges[x];if(S.isDragging){v=!0;break}b.push(S.getHistoryData())}return!v&&{nodes:s,edges:b}}},{key:"getEdgeModelById",value:function(r){var s;return(s=this.edgesMap[r])===null||s===void 0?void 0:s.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var s=[],c=0;c<this.edges.length;c++){var p=this.edges[c],v=this.edges[c].sourceNodeId===r,b=this.edges[c].targetNodeId===r;(v||b)&&s.push(p)}return s}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=this.selectElements,c={nodes:[],edges:[]};return s.forEach(function(p){if(p.BaseType===Zn.NODE&&c.nodes.push(p.getData()),p.BaseType===Zn.EDGE){var v=p.getData(),b=s.get(v.sourceNodeId)&&s.get(v.targetNodeId);(r||b)&&c.edges.push(v)}}),c}},{key:"updateAttributes",value:function(r,s){this.getElement(r).updateAttributes(s)}},{key:"changeNodeId",value:function(r,s){return s||(s=Ki()),this.nodesMap[s]?"":this.nodesMap[r]?(this.edges.forEach(function(c){c.sourceNodeId===r&&(c.sourceNodeId=s),c.targetNodeId===r&&(c.targetNodeId=s)}),this.nodesMap[r].model.id=s,this.nodesMap[s]=this.nodesMap[r],s):""}},{key:"changeEdgeId",value:function(r,s){return s||(s=Ki()),this.edgesMap[s]?"":this.edgesMap[r]?(this.edges.forEach(function(c){c.id===r&&c.changeEdgeId(s)}),s):""}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,s){return this.modelMap.set(r,s)}},{key:"toFront",value:function(r){var s,c,p,v=((s=this.nodesMap[r])===null||s===void 0?void 0:s.model)||((c=this.edgesMap[r])===null||c===void 0?void 0:c.model);v&&(this.overlapMode===Fn.DEFAULT&&((p=this.topElement)===null||p===void 0||p.setZIndex(),v.setZIndex(9999),this.topElement=v),this.overlapMode===Fn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,s){var c,p,v,b=((c=this.nodesMap[r])===null||c===void 0?void 0:c.model)||((p=this.edgesMap[r])===null||p===void 0?void 0:p.model);b&&(typeof s=="number"&&(v=s),s==="top"&&(v=Sf()),s==="bottom"&&(v=--Ky),b.setZIndex(v))}},{key:"deleteNode",value:function(r){var s=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(dt.NODE_DELETE,{data:s})}},{key:"addNode",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.NODE_ADD,c=arguments.length>2?arguments[2]:void 0,p=br(r);p.id&&this.nodesMap[r.id]&&delete p.id;var v=this.getModel(p.type);if(!v)throw new Error("找不到".concat(p.type,"对应的节点，请确认是否已注册此类型节点。"));p.x=Ko(p.x,this.gridSize),p.y=Ko(p.y,this.gridSize);var b=new v(p,this);this.nodes.push(b);var x=b.getData(),S={data:x};return c&&(S.e=c),this.eventCenter.emit(s,S),b}},{key:"cloneNode",value:function(r){var s=this.getNodeModelById(r),c=s.getData();c.x+=30,c.y+=30,delete c.id,c.text&&(c.text.x+=30,c.text.y+=30);var p=this.addNode(c);return p.setSelected(!0),s.setSelected(!1),p.getData()}},{key:"moveNode",value:function(r,s,c){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.getMoveDistance(s,c,p),S=Qf(x,2);s=S[0],c=S[1],this.moveEdge(r,s,c)}}},{key:"moveNode2Coordinate",value:function(r,s,c){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3],v=this.nodesMap[r];if(v){var b=v.model,x=b.x,S=b.y,D=s-x,L=c-S;this.moveNode(r,D,L,p)}}},{key:"editText",value:function(r){this.setElementStateById(r,vn.TEXT_EDIT)}},{key:"addEdge",value:function(r){var s=br(r),c=s.type;c||(c=this.edgeType),s.id&&this.edgesMap[s.id]&&delete s.id;var p=this.getModel(c);if(!p)throw new Error("找不到".concat(c,"对应的边，请确认是否已注册此类型边。"));var v=new p(Zd(Zd({},s),{},{type:c}),this),b=v.getData();return this.edges.push(v),this.eventCenter.emit(dt.EDGE_ADD,{data:b}),v}},{key:"moveEdge",value:function(r,s,c){for(var p=0;p<this.edges.length;p++){var v=this.edges[p],b=v.textPosition,x=b.x,S=b.y,D=this.edges[p].sourceNodeId===r,L=this.edges[p].targetNodeId===r;D&&v.moveStartPoint(s,c),L&&v.moveEndPoint(s,c),(D||L)&&this.handleEdgeTextMove(v,x,S)}}},{key:"handleEdgeTextMove",value:function(r,s,c){var p;if(r.customTextPosition===!0)r.resetTextPosition();else if(r.modelType===Zt.POLYLINE_EDGE&&(p=r.text)!==null&&p!==void 0&&p.value){var v=r.text,b=Wf(v,r.points);r.moveText(b.x-v.x,b.y-v.y)}else{var x=r.textPosition,S=x.x,D=x.y;r.moveText(S-s,D-c)}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,s){for(var c=0;c<this.edges.length;c++)if(this.edges[c].sourceNodeId===r&&this.edges[c].targetNodeId===s){var p=this.edges[c].getData();this.edges.splice(c,1),c--,this.eventCenter.emit(dt.EDGE_DELETE,{data:p})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var s=this.edgesMap[r].index,c=this.edgesMap[r].model.getData();this.edges.splice(s,1),this.eventCenter.emit(dt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeBySource",value:function(r){for(var s=0;s<this.edges.length;s++)if(this.edges[s].sourceNodeId===r){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(dt.EDGE_DELETE,{data:c})}}},{key:"deleteEdgeByTarget",value:function(r){for(var s=0;s<this.edges.length;s++)if(this.edges[s].targetNodeId===r){var c=this.edges[s].getData();this.edges.splice(s,1),s--,this.eventCenter.emit(dt.EDGE_DELETE,{data:c})}}},{key:"setElementStateById",value:function(r,s,c){this.nodes.forEach(function(p){p.id===r?p.setElementState(s,c):p.setElementState(vn.DEFAULT)}),this.edges.forEach(function(p){p.id===r?p.setElementState(s,c):p.setElementState(vn.DEFAULT)})}},{key:"updateText",value:function(r,s){this.nodes.forEach(function(c){c.id===r&&c.updateText(s)}),this.edges.forEach(function(c){c.id===r&&c.updateText(s)})}},{key:"selectNodeById",value:function(r){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var p=(s=this.nodesMap[r])===null||s===void 0?void 0:s.model;p==null||p.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var s,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||this.clearSelectElements();var p=(s=this.edgesMap[r])===null||s===void 0?void 0:s.model;p==null||p.setSelected(!0)}},{key:"selectElementById",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];s||this.clearSelectElements();var c=this.getElement(r);c==null||c.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(s){s==null||s.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Fn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,s,c){for(var p=this,v=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=r.reduce(function(Je,qe){var wt=p.nodesMap[qe].model.getMoveDistance(s,c,v);return Je[qe]=wt,Je},{}),x=0;x<this.edges.length;x++){var S=this.edges[x],D=S.textPosition,L=D.x,X=D.y,J=b[S.sourceNodeId],re=void 0,ye=void 0;if(J){var ge=Qf(J,2);re=ge[0],ye=ge[1],S.moveStartPoint(re,ye)}var xe=b[S.targetNodeId];if(xe){var Ce=Qf(xe,2);re=Ce[0],ye=Ce[1],S.moveEndPoint(re,ye)}(J||xe)&&this.handleEdgeTextMove(S,L,X)}}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,s){var c=this.getNodeModelById(r);if(c){var p=c.getData();p.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));var b=new v(p,this);this.nodes.splice(this.nodesMap[r].index,1,b),this.getNodeEdges(r).forEach(function(x){if(x.sourceNodeId===r){var S=Pd(b,x.startPoint,b.width,b.height);x.updateStartPoint(S)}if(x.targetNodeId===r){var D=Pd(b,x.endPoint,b.width,b.height);x.updateEndPoint(D)}})}}},{key:"changeEdgeType",value:function(r,s){var c=this.getEdgeModelById(r);if(c&&c.type!==s){var p=c.getData();p.type=s;var v=this.getModel(s);if(!v)throw new Error("找不到".concat(s,"对应的节点，请确认是否已注册此类型节点。"));delete p.pointsList;var b=new v(p,this);this.edges.splice(this.edgesMap[r].index,1,b)}}},{key:"getNodeIncomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.targetNodeId===r&&s.push(c)}),s}},{key:"getNodeOutgoingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.sourceNodeId===r&&s.push(c)}),s}},{key:"getAnchorIncomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.targetAnchorId===r&&s.push(c)}),s}},{key:"getAnchorOutcomingEdge",value:function(r){var s=[];return this.edges.forEach(function(c){c.sourceAnchorId===r&&s.push(c)}),s}},{key:"getNodeIncomingNode",value:function(r){var s=this,c=[];return this.edges.forEach(function(p){p.targetNodeId===r&&c.push(s.nodesMap[p.sourceNodeId].model)}),c}},{key:"getNodeOutgoingNode",value:function(r){var s=this,c=[];return this.edges.forEach(function(p){p.sourceNodeId===r&&c.push(s.nodesMap[p.targetNodeId].model)}),c}},{key:"setTheme",value:function(r){this.theme=lc(Zd(Zd({},this.theme),r))}},{key:"resize",value:function(r,s){this.width=r||this.rootEl.getBoundingClientRect().width,this.height=s||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,s=[],c=[];r.forEach(function(D){var L=D.x,X=D.y,J=D.width,re=D.height,ye=D.getNodeStyle().strokeWidth,ge=ye===void 0?0:ye,xe=L+J/2+ge,Ce=L-J/2-ge,Je=X+re/2+ge,qe=X-re/2-ge;s=s.concat([xe,Ce].filter(function(wt){return!Number.isNaN(wt)})),c=c.concat([Je,qe].filter(function(wt){return!Number.isNaN(wt)}))});var p=Math.min.apply(Math,Vs(s)),v=Math.max.apply(Math,Vs(s)),b=Math.min.apply(Math,Vs(c)),x=v-p||0,S=Math.max.apply(Math,Vs(c))-b||0;return{virtualRectWidth:x,virtualRectHeight:S,virtualRectCenterPositionX:p+x/2,virtualRectCenterPositionY:b+S/2}}},{key:"translateCenter",value:function(){var r=this.nodes,s=this.width,c=this.height,p=this.rootEl,v=this.transformModel;if(r.length){var b=s||p.clientWidth,x=c||p.clientHeight,S=this.getVirtualRectSize(),D=S.virtualRectCenterPositionX,L=S.virtualRectCenterPositionY;v.focusOn(D,L,b,x)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,c=this.nodes,p=this.width,v=this.height,b=this.rootEl,x=this.transformModel;if(c.length){var S=p||b.clientWidth,D=v||b.clientHeight,L=this.getVirtualRectSize(),X=L.virtualRectWidth,J=L.virtualRectHeight,re=L.virtualRectCenterPositionX,ye=L.virtualRectCenterPositionY,ge=(X+s)/S,xe=(J+r)/D,Ce=0;Ce=1/Math.max(ge,xe);var Je=[S/2,D/2];x.zoom(Ce,Je),x.focusOn(re,ye,S,D)}}},{key:"openEdgeAnimation",value:function(r){this.getEdgeModelById(r).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(r){this.getEdgeModelById(r).closeEdgeAnimation()}}],n&&ME(e.prototype,n),t}(),To=Ot(me.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=Ot(me.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=Ot(me.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=Ot(me.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mu=Ot(me.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tc=Ot(me.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fn.DEFAULT}}),Ma=Ot(me.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=Ot(me.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qf=Ot(me.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zf=Ot(me.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),kc=Ot(me.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ys=Ot(me.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot(me.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"nodesMap"),me.prototype),Ot(me.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"edgesMap"),me.prototype),Ot(me.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"modelsMap"),me.prototype),Ot(me.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"sortElements"),me.prototype),Ot(me.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"textEditElement"),me.prototype),Ot(me.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"selectElements"),me.prototype),Ot(me.prototype,"selectNodes",[h.m],Object.getOwnPropertyDescriptor(me.prototype,"selectNodes"),me.prototype),Ot(me.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"setFakerNode"),me.prototype),Ot(me.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"removeFakerNode"),me.prototype),Ot(me.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"setModel"),me.prototype),Ot(me.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"toFront"),me.prototype),Ot(me.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"setElementZIndex"),me.prototype),Ot(me.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteNode"),me.prototype),Ot(me.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"addNode"),me.prototype),Ot(me.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"cloneNode"),me.prototype),Ot(me.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"moveNode"),me.prototype),Ot(me.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"moveNode2Coordinate"),me.prototype),Ot(me.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"editText"),me.prototype),Ot(me.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"addEdge"),me.prototype),Ot(me.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"moveEdge"),me.prototype),Ot(me.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeBySourceAndTarget"),me.prototype),Ot(me.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeById"),me.prototype),Ot(me.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeBySource"),me.prototype),Ot(me.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"deleteEdgeByTarget"),me.prototype),Ot(me.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"setElementStateById"),me.prototype),Ot(me.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"updateText"),me.prototype),Ot(me.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"selectNodeById"),me.prototype),Ot(me.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"selectEdgeById"),me.prototype),Ot(me.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"selectElementById"),me.prototype),Ot(me.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"clearSelectElements"),me.prototype),Ot(me.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"moveNodes"),me.prototype),Ot(me.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"setDefaultEdgeType"),me.prototype),Ot(me.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"changeNodeType"),me.prototype),Ot(me.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"changeEdgeType"),me.prototype),Ot(me.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeIncomingEdge"),me.prototype),Ot(me.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeOutgoingEdge"),me.prototype),Ot(me.prototype,"getAnchorIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"getAnchorIncomingEdge"),me.prototype),Ot(me.prototype,"getAnchorOutcomingEdge",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"getAnchorOutcomingEdge"),me.prototype),Ot(me.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeIncomingNode"),me.prototype),Ot(me.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"getNodeOutgoingNode"),me.prototype),Ot(me.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"setTheme"),me.prototype),Ot(me.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"resize"),me.prototype),Ot(me.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"clearData"),me.prototype),Ot(me.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"translateCenter"),me.prototype),Ot(me.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"fitView"),me.prototype),Ot(me.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"openEdgeAnimation"),me.prototype),Ot(me.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(me.prototype,"closeEdgeAnimation"),me.prototype),me),TE=n0;function ov(t){return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function iv(){return iv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(this,arguments)}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function av(t,e){return av=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},av(t,e)}function DE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qd(t);if(e){var s=Qd(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return NE(this,n)}}function NE(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oa(t)}function oa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qd(t)}function Ta(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r0,RE=Di(e0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&av(c,p)})(s,t);var e,n,r=DE(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Ta(oa(p=r.call(this)),"stepDrag",void 0),Ta(oa(p),"stepScrollX",0),Ta(oa(p),"stepScrollY",0),Ta(oa(p),"onDragging",function(S){var D=S.deltaX,L=S.deltaY;p.setState({isDragging:!0});var X=p.props.graphModel,J=X.transformModel;X.editConfigModel.stopMoveGraph!==!0&&J.translate(D,L)}),Ta(oa(p),"onDragEnd",function(){p.setState({isDragging:!1})}),Ta(oa(p),"zoomHandler",function(S){var D=p.props,L=D.graphModel,X=L.editConfigModel,J=L.transformModel,re=L.gridSize,ye=D.graphModel,ge=S.deltaX,xe=S.deltaY;if(X.stopScrollGraph||S.ctrlKey===!0){if(!X.stopZoomGraph){S.preventDefault();var Ce=ye.getPointByClient({x:S.clientX,y:S.clientY}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y;J.zoom(S.deltaY<0,[Je,qe])}}else{if(S.preventDefault(),p.stepScrollX+=ge,p.stepScrollY+=xe,Math.abs(p.stepScrollX)>=re){var wt=p.stepScrollX%re,Qe=p.stepScrollX-wt;J.translate(-Qe*J.SCALE_X,0),p.stepScrollX=wt}if(Math.abs(p.stepScrollY)>=re){var ht=p.stepScrollY%re,rt=p.stepScrollY-ht;J.translate(0,-rt*J.SCALE_Y),p.stepScrollY=ht}}}),Ta(oa(p),"clickHandler",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){var D=p.props.graphModel;D.selectElements.size>0&&D.clearSelectElements(),D.eventCenter.emit(dt.BLANK_CLICK,{e:S})}}),Ta(oa(p),"handleContextMenu",function(S){if(S.target.getAttribute("name")==="canvas-overlay"){S.preventDefault();var D=p.props.graphModel,L=D.getPointByClient({x:S.clientX,y:S.clientY});D.eventCenter.emit(dt.BLANK_CONTEXTMENU,{e:S,position:L})}}),Ta(oa(p),"mouseDownHandler",function(S){var D=p.props.graphModel,L=D.eventCenter,X=D.editConfigModel,J=D.transformModel.SCALE_X,re=D.gridSize,ye=S.target,ge=!X.adjustEdge&&!X.adjustNodePosition;(ye.getAttribute("name")==="canvas-overlay"||ge)&&(X.stopMoveGraph!==!0?(p.stepDrag.setStep(re*J),p.stepDrag.handleMouseDown(S)):L.emit(dt.BLANK_MOUSEDOWN,{e:S}),p.clickHandler(S))});var v=c.graphModel,b=v.gridSize,x=v.eventCenter;return p.stepDrag=new Zo({onDragging:p.onDragging,onDragEnd:p.onDragEnd,step:b,eventType:"BLANK",isStopPropagation:!1,eventCenter:x,model:null}),p.state={isDragging:!1},p}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props,v=p.children,b=p.dnd,x=this.state.isDragging;return Object(fe.g)("svg",iv({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:x?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},b.eventMap()),Object(fe.g)("g",{transform:c},v))}}])&&kE(e.prototype,n),s}(fe.a))||e0;function uv(t){return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function CE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cv(t,e){return cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cv(t,e)}function LE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eh(t);if(e){var s=eh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return BE(this,n)}}function BE(t,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eh(t)}var zE=Di(r0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&cv(c,p)})(s,t);var e,n,r=LE(s);function s(){return CE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var c=this.props,p=c.tool,v=c.graphModel,b=p.getTools().map(function(x){return Object(fe.g)(x,{graphModel:v,logicFlow:p.instance})});return p.components=b,b}},{key:"triggerToolRender",value:function(){var c=this.props,p=c.tool,v=c.graphModel,b=document.querySelector("#ToolOverlay_".concat(v.flowId)),x=p.getInstance();x.components.forEach(function(S){return S(x,b)}),x.components=[]}},{key:"render",value:function(){var c=this.props.graphModel;return Object(fe.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(c.flowId)},this.getTools())}}])&&IE(e.prototype,n),s}(fe.a))||r0;function sv(t){return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function FE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e){return lv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lv(t,e)}function WE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=th(t);if(e){var s=th(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return UE(this,n)}}function UE(t,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},th(t)}var o0,GE=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&lv(c,p)})(s,t);var e,n,r=WE(s);function s(){return FE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.background;return Object(fe.g)("div",{className:"lf-background"},Object(fe.g)("div",{style:c,className:"lf-background-area"}))}}])&&$E(e.prototype,n),s}(fe.a);function fv(t){return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function HE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pv(t,e)}function YE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nh(t);if(e){var s=nh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return VE(this,n)}}function VE(t,e){if(e&&(fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i0(t)}function i0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nh(t)}function KE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a0=Di(o0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&pv(c,p)})(s,t);var e,n,r=YE(s);function s(){var c;HE(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return KE(i0(c=r.call.apply(r,[this].concat(v))),"id",Ki()),c}return e=s,(n=[{key:"renderDot",value:function(){var c=this.props,p=c.config,v=p.color,b=p.thickness,x=b===void 0?2:b,S=c.size,D=c.visible,L=Math.min(Math.max(2,x),S/2),X=1;return D||(X=0),Object(fe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:v,opacity:X})}},{key:"renderMesh",value:function(){var c=this.props,p=c.config,v=p.color,b=p.thickness,x=b===void 0?1:b,S=c.size,D=c.visible,L=Math.min(Math.max(1,x),S/2),X="M ".concat(S," 0 H0 M0 0 V0 ").concat(S),J=1;return D||(J=0),Object(fe.g)("path",{d:X,stroke:v,strokeWidth:L,opacity:J})}},{key:"render",value:function(){var c=this.props,p=c.type,v=c.size,b=c.graphModel.transformModel,x=[b.SCALE_X,b.SKEW_Y,b.SKEW_X,b.SCALE_Y,b.TRANSLATE_X,b.TRANSLATE_Y].join(","),S="matrix(".concat(x,")");return Object(fe.g)("div",{className:"lf-grid"},Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(fe.g)("defs",null,Object(fe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:S,x:"0",y:"0",width:v,height:v},p==="dot"&&this.renderDot(),p==="mesh"&&this.renderMesh())),Object(fe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&XE(e.prototype,n),s}(fe.a))||o0;a0.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},o(53);function dv(t){return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function qE(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return u0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c0,Ks=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=qE(n,2),s=r[0],c=r[1];(s==="style"||dv(c)!=="object")&&(e[s]=c)}),Object(fe.g)("line",e)};function hv(t){return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function s0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yv(t,e){return yv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yv(t,e)}function eS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oh(t);if(e){var s=oh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return tS(this,n)}}function tS(t,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(t)}var l0,nS=Di(c0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&yv(c,p)})(s,t);var e,n,r=eS(s);function s(){return JE(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.snaplineModel,p=c.position,v=c.isShowHorizontal,b=c.isShowVertical,x=c.getStyle(),S=p.x,D=S===void 0?0:S,L=p.y,X=L===void 0?0:L,J=rh(rh({x1:-1e5,y1:X,x2:1e5,y2:X},x),{},{stroke:v?x.stroke:"none"}),re=rh(rh({x1:D,y1:-1e5,x2:D,y2:1e5},x),{},{stroke:b?x.stroke:"none"});return Object(fe.g)("g",{className:"lf-snapline"},Object(fe.g)(Ks,J),Object(fe.g)(Ks,re))}}])&&QE(e.prototype,n),s}(fe.a))||c0;function vv(t){return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function rS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return f0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return f0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _u(t){var e=t.x,n=t.y,r=t.width,s=t.height,c=t.className,p=t.radius,v=e-r/2,b=n-s/2,x={};return Object.entries(t).forEach(function(S){var D=rS(S,2),L=D[0],X=D[1];vv(X)!=="object"&&(x[L]=X)}),x.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",p&&(x.rx=p,x.ry=p),x.x=v,x.y=b,Object(fe.g)("rect",x)}function gv(t){return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function qs(){return qs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(this,arguments)}function p0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function d0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p0(Object(n),!0).forEach(function(r){oS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return bv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bv(t,e)}function uS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ih(t);if(e){var s=ih(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return cS(this,n)}}function cS(t,e){if(e&&(gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ih(t)}_u.defaultProps={className:"",radius:""};var h0,sS=Di(l0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bv(c,p)})(s,t);var e,n,r=uS(s);function s(){return iS(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getNodesOutline",value:function(){var c=this.props.graphModel,p=c.nodes,v=c.editConfigModel,b=v.hoverOutline,x=v.nodeSelectedOutline,S=[];return p.forEach(function(D){if(D.isHovered||D.isSelected){var L=D.isHovered,X=D.isSelected,J=D.x,re=D.y,ye=D.width,ge=D.height;if(x&&X||b&&L){var xe=D.getOutlineStyle(),Ce={};if(Object.keys(xe).forEach(function(qe){qe!=="hover"&&(Ce[qe]=xe[qe])}),L){var Je=xe.hover;Ce=d0(d0({},Ce),Je)}S.push(Object(fe.g)(_u,qs({transform:D.transform,className:"lf-outline-node",x:J,y:re,width:ye+10,height:ge+10},Ce)))}}}),S}},{key:"getEdgeOutline",value:function(){for(var c=this.props.graphModel,p=c.edges,v=c.editConfigModel,b=v.edgeSelectedOutline,x=v.hoverOutline,S=[],D=0;D<p.length;D++){var L=p[D];(b&&L.isSelected||x&&L.isHovered)&&(L.modelType===Zt.LINE_EDGE?S.push(this.getLineOutline(L)):L.modelType===Zt.POLYLINE_EDGE?S.push(this.getPolylineOutline(L)):L.modelType===Zt.BEZIER_EDGE&&S.push(this.getBezierOutline(L)))}return S}},{key:"getLineOutline",value:function(c){var p=c.startPoint,v=c.endPoint,b=(p.x+v.x)/2,x=(p.y+v.y)/2,S=Math.abs(p.x-v.x)+10,D=Math.abs(p.y-v.y)+10,L=c.getOutlineStyle();return Object(fe.g)(_u,qs({className:"lf-outline-edge",x:b,y:x,width:S,height:D},L))}},{key:"getPolylineOutline",value:function(c){var p=c.points,v=ea(p),b=Qi(v,8),x=b.x,S=b.y,D=b.width,L=b.height,X=c.getOutlineStyle();return Object(fe.g)(_u,qs({className:"lf-outline",x,y:S,width:D,height:L},X))}},{key:"getBezierOutline",value:function(c){var p=c.path,v=_r(p),b=Qi(v,8),x=b.x,S=b.y,D=b.width,L=b.height,X=c.getOutlineStyle();return Object(fe.g)(_u,qs({className:"lf-outline",x,y:S,width:D,height:L},X))}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&aS(e.prototype,n),s}(fe.a))||l0;function mv(t){return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function lS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return y0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return y0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zs(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.r,p=c===void 0?4:c,v=t.className,b={cx:n,cy:s,r:p,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(x){var S=lS(x,2),D=S[0],L=S[1];mv(L)!=="object"&&(b[D]=L)}),b.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(fe.g)("circle",b)}function _v(t){return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function fS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return v0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return v0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ep(){return ep=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}function g0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m0(t,e,n){return e&&b0(t.prototype,e),n&&b0(t,n),t}function _0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ov(t,e)}function O0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=uh(t);if(e){var s=uh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return pS(this,n)}}function pS(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ah(t)}function ah(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(t)}function wv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w0,x0=function(t){_0(n,t);var e=O0(n);function n(){var r;return g0(this,n),wv(ah(r=e.call(this)),"dragHandler",void 0),wv(ah(r),"onDragging",function(s){var c=s.event,p=r.props,v=p.graphModel,b=p.bezierModel,x=p.type,S=v.getPointByClient({x:c.clientX,y:c.clientY}).canvasOverlayPosition,D=S.x,L=S.y;b.updateAdjustAnchor({x:D,y:L},x),v.eventCenter.emit(dt.EDGE_ADJUST,{data:b.getData()})}),wv(ah(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Zo({onDragging:r.onDragging,onDragEnd:r.onDragEnd}),r}return m0(n,[{key:"render",value:function(){var r=this,s=this.props.position,c=s.x,p=s.y,v=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(fe.g)(Zs,ep({className:"lf-bezier-adjust-anchor",x:c,y:p},v,{onMouseDown:function(b){r.dragHandler.handleMouseDown(b)}}))}}]),n}(fe.a),dS=Di(h0=function(t){_0(n,t);var e=O0(n);function n(){return g0(this,n),e.apply(this,arguments)}return m0(n,[{key:"getBezierAdjust",value:function(r,s){var c=r.path,p=r.id,v=fS(_r(c),4),b=v[0],x=v[1],S=v[2],D=v[3],L=r.getEdgeStyle().adjustLine,X=[];return X.push(Object(fe.g)(Ks,ep({x1:b.x,y1:b.y,x2:x.x,y2:x.y},L))),X.push(Object(fe.g)(x0,{position:x,bezierModel:r,graphModel:s,key:"".concat(p,"_ePre"),type:"sNext"})),X.push(Object(fe.g)(Ks,ep({x1:D.x,y1:D.y,x2:S.x,y2:S.y},L))),X.push(Object(fe.g)(x0,{position:S,bezierModel:r,graphModel:s,key:"".concat(p,"_sNext"),type:"ePre"})),X}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,s=r.edges,c=[],p=0;p<s.length;p++){var v=s[p];v.isSelected&&v.modelType===Zt.BEZIER_EDGE&&v.draggable&&c.push(this.getBezierAdjust(v,r))}return c}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(fe.a))||h0;function xv(t){return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function hS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return Ev=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ev(t,e)}function vS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ch(t);if(e){var s=ch(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return gS(this,n)}}function gS(t,e){if(e&&(xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ch(t)}var E0,bS=Di(w0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ev(c,p)})(s,t);var e,n,r=vS(s);function s(){return hS(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel.transformModel.getTransformStyle().transform,p=this.props.children;return Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(fe.g)("g",{transform:c},p))}}])&&yS(e.prototype,n),s}(fe.a))||w0;function Sv(t){return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function jv(){return jv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function mS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return Pv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pv(t,e)}function OS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sh(t);if(e){var s=sh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return wS(this,n)}}function wS(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(t)}var xS=Di(E0=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Pv(c,p)})(s,t);var e,n,r=OS(s);function s(){return mS(this,s),r.apply(this,arguments)}return e=s,n=[{key:"getComponent",value:function(c,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",b=this.props.getView,x=b(c.type);return Object(fe.g)(x,{key:c.id,model:c,graphModel:p,overlay:v})}},{key:"render",value:function(){var c=this,p=this.props,v=p.graphModel,b=p.tool,x=p.options,S=p.dnd,D=p.snaplineModel,L={};x.width&&(L.width="".concat(v.width,"px")),x.height&&(L.height="".concat(v.height,"px"));var X=x.grid,J=v.fakerNode,re=v.editConfigModel.adjustEdge;return Object(fe.g)("div",{className:"lf-graph","flow-id":v.flowId,style:L},Object(fe.g)(RE,{graphModel:v,dnd:S},Object(fe.g)("g",{className:"lf-base"},us(v.sortElements,function(ye){return c.getComponent(ye,v)})),J?this.getComponent(J,v):""),Object(fe.g)(bS,{graphModel:v},Object(fe.g)(sS,{graphModel:v}),re?Object(fe.g)(dS,{graphModel:v}):"",x.snapline!==!1?Object(fe.g)(nS,{snaplineModel:D}):""),Object(fe.g)(zE,{graphModel:v,tool:b}),x.background&&Object(fe.g)(GE,{background:x.background}),x.grid&&Object(fe.g)(a0,jv({},X,{graphModel:v})))}}],n&&_S(e.prototype,n),s}(fe.a))||E0,ES=xS;function S0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S0(Object(n),!0).forEach(function(r){ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jS=function(){function t(r){var s=this;(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),ka(this,"nodeConfig",void 0),ka(this,"lf",void 0),ka(this,"fakerNode",void 0),ka(this,"stopDrag",function(){s.nodeConfig=null,window.document.removeEventListener("mouseup",s.stopDrag)}),ka(this,"dragEnter",function(p){s.nodeConfig&&!s.fakerNode&&(s.fakerNode=s.lf.createFakerNode(lh(lh({},s.nodeConfig),s.clientToLocalPoint({x:p.clientX,y:p.clientY}))))}),ka(this,"onDragOver",function(p){if(p.preventDefault(),s.fakerNode){var v=s.clientToLocalPoint({x:p.clientX,y:p.clientY}),b=v.x,x=v.y;s.fakerNode.moveTo(b,x);var S=s.fakerNode.getData();s.lf.setNodeSnapLine(S),s.lf.graphModel.eventCenter.emit(dt.NODE_DND_DRAG,{data:S})}return!1}),ka(this,"onDragLeave",function(){s.fakerNode&&(s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)}),ka(this,"onDrop",function(p){s.lf.graphModel&&p&&s.nodeConfig&&(s.lf.addNode(lh(lh({},s.nodeConfig),s.clientToLocalPoint({x:p.clientX,y:p.clientY})),dt.NODE_DND_ADD,p),p.preventDefault(),p.stopPropagation(),s.nodeConfig=null,s.lf.removeNodeSnapLine(),s.lf.graphModel.removeFakerNode(),s.fakerNode=null)});var c=r.lf;this.lf=c}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var s=r.x,c=r.y,p=rc(this.lf.options,["grid","size"]),v=this.lf.graphModel.getPointByClient({x:s,y:c}).canvasOverlayPosition,b=v.x,x=v.y;return{x:Ko(b,p),y:Ko(x,p)}}},{key:"startDrag",value:function(r){var s=this.lf.graphModel.editConfigModel;s!=null&&s.isSilentMode||(this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&SS(e.prototype,n),t}();function j0(t){var e=t.container,n=t.grid,r=t.width,s=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if(typeof r=="string"||typeof s=="string")throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=fr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),fr({},A0,t)}var bn,P0,A0={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Av(t){return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function Mv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return M0(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return M0(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T0(Object(n),!0).forEach(function(r){k0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function AS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tp(){return tp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=TS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},tp.apply(this,arguments)}function TS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ou(t))!==null;);return t}function Tv(t,e){return Tv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Tv(t,e)}function kS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ou(t);if(e){var s=Ou(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return DS(this,n)}}function DS(t,e){if(e&&(Av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ph(t)}function ph(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ou(t){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ou(t)}function k0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mi(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var kv=(bn=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Tv(c,p)})(s,t);var e,n,r=kS(s);function s(){var c;AS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return k0(ph(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.BEZIER_EDGE),PS(ph(c),"path",P0,ph(c)),c}return e=s,(n=[{key:"initEdgeData",value:function(c){this.offset=100,tp(Ou(s.prototype),"initEdgeData",this).call(this,c)}},{key:"getEdgeStyle",value:function(){var c=this.graphModel.theme.bezier;return fh(fh({},tp(Ou(s.prototype),"getEdgeStyle",this).call(this)),In(c))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var c=0,p=0;return this.pointsList.forEach(function(v){var b=v.x,x=v.y;c+=b,p+=x}),{x:c/this.pointsList.length,y:p/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var c=tp(Ou(s.prototype),"getData",this).call(this),p=this.pointsList.map(function(v){return{x:v.x,y:v.y}});return fh(fh({},c),{},{pointsList:p})}},{key:"getControls",value:function(){var c=this.startPoint,p=this.endPoint;return Ff({start:c,end:p,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(c){var p=Mv(c,4),v=p[0],b=p[1],x=p[2],S=p[3];return"M ".concat(v.x," ").concat(v.y,`
    C `).concat(b.x," ").concat(b.y,`,
    `).concat(x.x," ").concat(x.y,`,
    `).concat(S.x," ").concat(S.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var c=this.getControls(),p=c.sNext,v=c.ePre;this.updatePath(p,v)}},{key:"updatePath",value:function(c,p){c=In(c),p=In(p);var v={x:this.startPoint.x,y:this.startPoint.y},b={x:this.endPoint.x,y:this.endPoint.y};if(!c||!p){var x=this.getControls();c=x.sNext,p=x.ePre}this.pointsList=[v,c,p,b],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(c){this.startPoint=Object.assign({},c),this.updatePoints()}},{key:"updateEndPoint",value:function(c){this.endPoint=Object.assign({},c),this.updatePoints()}},{key:"moveStartPoint",value:function(c,p){this.startPoint.x+=c,this.startPoint.y+=p;var v=Mv(this.pointsList,3),b=v[1],x=v[2];b.x+=c,b.y+=p,this.updatePath(b,x)}},{key:"moveEndPoint",value:function(c,p){this.endPoint.x+=c,this.endPoint.y+=p;var v=Mv(this.pointsList,3),b=v[1],x=v[2];x.x+=c,x.y+=p,this.updatePath(b,x)}},{key:"updateAdjustAnchor",value:function(c,p){p==="sNext"?this.pointsList[1]=c:p==="ePre"&&(this.pointsList[2]=c),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var c=this.pointsList;return c[c.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(c){var p=c.startPoint,v=c.endPoint,b=c.sourceNode,x=c.targetNode,S=Ff({start:p,end:v,sourceNode:b,targetNode:x,offset:this.offset}),D=S.sNext,L=S.ePre;this.pointsList=[p,D,L,v],this.initPoints()}}])&&MS(e.prototype,n),s}(vu),P0=Mi(bn.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mi(bn.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"initPoints"),bn.prototype),Mi(bn.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updatePoints"),bn.prototype),Mi(bn.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateStartPoint"),bn.prototype),Mi(bn.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateEndPoint"),bn.prototype),Mi(bn.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"moveStartPoint"),bn.prototype),Mi(bn.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"moveEndPoint"),bn.prototype),Mi(bn.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateAdjustAnchor"),bn.prototype),Mi(bn.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"getAdjustStart"),bn.prototype),Mi(bn.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"getAdjustEnd"),bn.prototype),Mi(bn.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(bn.prototype,"updateAfterAdjustStartAndEnd"),bn.prototype),bn),Xe,D0,N0,R0,C0,I0,L0,B0,z0,F0,$0,W0,U0,G0,H0,X0,Y0,V0,K0,q0,Z0,J0,Q0,NS=function(t){return t==null};function RS(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||e_(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dv(t){return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function e_(t,e){if(t){if(typeof t=="string")return t_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t_(t,e):void 0}}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(n),!0).forEach(function(r){go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ar(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function CS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Da,r_,Na=(Xe=function(){function t(r,s){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),go(this,"id",""),ar(this,"type",D0,this),ar(this,"x",N0,this),ar(this,"y",R0,this),ar(this,"text",C0,this),ar(this,"properties",I0,this),ar(this,"_width",L0,this),ar(this,"_height",B0,this),ar(this,"anchorsOffset",z0,this),ar(this,"isSelected",F0,this),ar(this,"isHovered",$0,this),ar(this,"isShowAnchor",W0,this),ar(this,"isDragging",U0,this),ar(this,"isHitable",G0,this),ar(this,"draggable",H0,this),ar(this,"visible",X0,this),ar(this,"enableRotate",Y0,this),go(this,"virtual",!1),go(this,"graphModel",void 0),ar(this,"zIndex",V0,this),ar(this,"state",K0,this),ar(this,"autoToFront",q0,this),ar(this,"style",Z0,this),ar(this,"transform",J0,this),ar(this,"_rotate",Q0,this),go(this,"BaseType",Zn.NODE),go(this,"modelType",Zt.NODE),go(this,"additionStateData",void 0),go(this,"targetRules",[]),go(this,"sourceRules",[]),go(this,"moveRules",[]),go(this,"hasSetTargetRules",!1),go(this,"hasSetSourceRules",!1),this.graphModel=s,this.initNodeData(r),this.setAttributes()}var e,n;return e=t,n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"rotate",get:function(){return this._rotate},set:function(r){this._rotate=r;var s=this.x,c=s===void 0?0:s,p=this.y,v=p===void 0?0:p;this.transform=new ra(-c,-v).rotate(r).translate(c,v).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var s=this.graphModel.idGenerator,c=s&&s(r.type),p=this.createId();r.id=p||c||Ki()}this.formatText(r),fr(this,function(v){return vi(v,["id","type","x","y","text","properties","virtual","rotate"])}(r)),this.graphModel.overlapMode===Fn.INCREASE&&(this.zIndex=r.zIndex||Sf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,s=r.x,c=r.y,p=r.value,v=this.properties;Object(h.x)(v)&&(v=Object(h.I)(v));var b={id:this.id,type:this.type,x:this.x,y:this.y,properties:v};return this.rotate&&(b.rotate=this.rotate),this.graphModel.overlapMode===Fn.INCREASE&&(b.zIndex=this.zIndex),p&&(b.text={x:s,y:c,value:p}),b}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return ro(ro({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return In(r)}},{key:"getRotateControlStyle",value:function(){var r=this.graphModel.theme.rotateControl;return In(r)}},{key:"getAnchorStyle",value:function(r){var s=this.graphModel.theme.anchor;return In(s)}},{key:"getAnchorLineStyle",value:function(r){var s=this.graphModel.theme.anchorLine;return In(s)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return In(r)}},{key:"isAllowConnectedAsSource",value:function(r,s,c,p){var v=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,this,r,s,c,p)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,s,c,p){var v=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var b,x=!0,S=0;S<v.length;S++){var D=v[S];if(!D.validate.call(this,r,this,s,c,p)){x=!1,b=D.message;break}}return{isAllPass:x,msg:b}}},{key:"isAllowMoveNode",value:function(r,s){var c,p=!0,v=!0,b=function(D,L){var X=typeof Symbol!="undefined"&&D[Symbol.iterator]||D["@@iterator"];if(!X){if(Array.isArray(D)||(X=e_(D))||L&&D&&typeof D.length=="number"){X&&(D=X);var J=0,re=function(){};return{s:re,n:function(){return J>=D.length?{done:!0}:{done:!1,value:D[J++]}},e:function(Ce){throw Ce},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,ge=!0,xe=!1;return{s:function(){X=X.call(D)},n:function(){var Ce=X.next();return ge=Ce.done,Ce},e:function(Ce){xe=!0,ye=Ce},f:function(){try{ge||X.return==null||X.return()}finally{if(xe)throw ye}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(b.s();!(c=b.n()).done;){var x=(0,c.value)(this,r,s);if(!x)return!1;if(Dv(x)==="object"){var S=x;if(S.x===!1&&S.y===!1)return!1;p=p&&S.x,v=v&&S.y}}}catch(D){b.e(D)}finally{b.f()}return{x:p,y:v}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,s=this.id,c=this.x,p=this.y;return r&&r.length>0?r.map(function(v,b){return v.length?(v=v,{id:"".concat(s,"_").concat(b),x:c+v[0],y:p+v[1]}):ro(ro({},v=v),{},{x:c+v.x,y:p+v.y,id:v.id||"".concat(s,"_").concat(b)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(r){return function(s,c){for(var p,v=Ur(c),b=Number.MAX_SAFE_INTEGER,x=0;x<v.length;x++){var S=Mo(s.x,s.y,v[x].x,v[x].y);S<b&&(b=S,p={index:x,anchor:df(df({},v[x]),{},{x:v[x].x,y:v[x].y,id:v[x].id})})}return p}(r,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.getAnchorsByOffset(),s=this.x,c=this.y,p=this.rotate;return r.forEach(function(v){var b=v.x,x=v.y,S=RS(new na([b,x,1]).translate(-s,-c).rotate(p).translate(s,c)[0],2),D=S[0],L=S[1];v.x=D,v.y=L}),r}},{key:"getAnchorInfo",value:function(r){if(!NS(r))for(var s=0;s<this.anchors.length;s++){var c=this.anchors[s];if(c.id===r)return c}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,v=!1;if(c)p=!0,v=!0;else{var b=this.isAllowMoveNode(r,s);typeof b=="boolean"?(p=b,v=b):(p=b.x,v=b.y)}if(p){var x=this.x+r;this.x=x,this.text&&this.moveText(r,0)}if(v){var S=this.y+s;this.y=S,this.text&&this.moveText(0,s)}return p||v}},{key:"getMoveDistance",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=!1,v=!1,b=0,x=0;if(c)p=!0,v=!0;else{var S=this.isAllowMoveNode(r,s);typeof S=="boolean"?(p=S,v=S):(p=S.x,v=S.y)}if(p&&r){var D=this.x+r;this.x=D,this.text&&this.moveText(r,0),b=r}if(v&&s){var L=this.y+s;this.y=L,this.text&&this.moveText(0,s),x=s}return[b,x]}},{key:"moveTo",value:function(r,s){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=r-this.x,v=s-this.y;return!(!c&&!this.isAllowMoveNode(p,v)||(this.text&&this.text&&this.moveText(p,v),this.x=r,this.y=s,0))}},{key:"moveText",value:function(r,s){var c=this.text,p=c.x,v=c.y,b=c.value,x=c.draggable,S=c.editable;this.text={value:b,editable:S,draggable:x,x:p+r,y:v+s}}},{key:"updateText",value:function(r){this.text=ro(ro({},Object(h.I)(this.text)),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r,this.setIsShowAnchor(r)}},{key:"setIsShowAnchor",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=r}},{key:"setEnableRotate",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,s){this.state=r,this.additionStateData=s}},{key:"setProperty",value:function(r,s){this.properties=ro(ro({},Object(h.I)(this.properties)),{},go({},r,br(s))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ro(ro({},Object(h.I)(this.properties)),br(r)),this.setAttributes()}},{key:"deleteProperty",value:function(r){delete this.properties[r],this.setAttributes()}},{key:"setStyle",value:function(r,s){this.style=ro(ro({},this.style),{},go({},r,br(s)))}},{key:"setStyles",value:function(r){this.style=ro(ro({},this.style),br(r))}},{key:"updateStyles",value:function(r){this.style=ro({},br(r))}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){fr(this,r)}}],n&&CS(e.prototype,n),t}(),D0=Vt(Xe.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N0=Vt(Xe.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R0=Vt(Xe.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C0=Vt(Xe.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),I0=Vt(Xe.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),L0=Vt(Xe.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),B0=Vt(Xe.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),z0=Vt(Xe.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F0=Vt(Xe.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$0=Vt(Xe.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W0=Vt(Xe.prototype,"isShowAnchor",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U0=Vt(Xe.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G0=Vt(Xe.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H0=Vt(Xe.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X0=Vt(Xe.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Y0=Vt(Xe.prototype,"enableRotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V0=Vt(Xe.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K0=Vt(Xe.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),q0=Vt(Xe.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Z0=Vt(Xe.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),J0=Vt(Xe.prototype,"transform",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q0=Vt(Xe.prototype,"_rotate",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vt(Xe.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(Xe.prototype,"incoming"),Xe.prototype),Vt(Xe.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(Xe.prototype,"outgoing"),Xe.prototype),Vt(Xe.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"addNodeMoveRules"),Xe.prototype),Vt(Xe.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"move"),Xe.prototype),Vt(Xe.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"getMoveDistance"),Xe.prototype),Vt(Xe.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveTo"),Xe.prototype),Vt(Xe.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveText"),Xe.prototype),Vt(Xe.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateText"),Xe.prototype),Vt(Xe.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setSelected"),Xe.prototype),Vt(Xe.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHovered"),Xe.prototype),Vt(Xe.prototype,"setIsShowAnchor",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setIsShowAnchor"),Xe.prototype),Vt(Xe.prototype,"setEnableRotate",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setEnableRotate"),Xe.prototype),Vt(Xe.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHitable"),Xe.prototype),Vt(Xe.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setElementState"),Xe.prototype),Vt(Xe.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperty"),Xe.prototype),Vt(Xe.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperties"),Xe.prototype),Vt(Xe.prototype,"deleteProperty",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"deleteProperty"),Xe.prototype),Vt(Xe.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyle"),Xe.prototype),Vt(Xe.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setStyles"),Xe.prototype),Vt(Xe.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateStyles"),Xe.prototype),Vt(Xe.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setZIndex"),Xe.prototype),Vt(Xe.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateAttributes"),Xe.prototype),Xe);function Nv(t){return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function i_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){a_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function LS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(){return Rv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=zS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Rv.apply(this,arguments)}function zS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Js(t))!==null;);return t}function Cv(t,e){return Cv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cv(t,e)}function FS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Js(t);if(e){var s=Js(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return $S(this,n)}}function $S(t,e){if(e&&(Nv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dh(t)}function dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Js(t){return Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Js(t)}function a_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iv(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Yr,u_,c_,Lv=(Da=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Cv(c,p)})(s,t);var e,n,r=FS(s);function s(){var c;LS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return a_(dh(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.CIRCLE_NODE),IS(dh(c),"r",r_,dh(c)),c}return e=s,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var c=Rv(Js(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.circle;return i_(i_({},c),In(p))}},{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.r;return[{x:c,y:p-v,id:"".concat(this.id,"_0")},{x:c+v,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+v,id:"".concat(this.id,"_2")},{x:c-v,y:p,id:"".concat(this.id,"_3")}]}}])&&BS(e.prototype,n),s}(Na),r_=Iv(Da.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Iv(Da.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Da.prototype,"width"),Da.prototype),Iv(Da.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Da.prototype,"height"),Da.prototype),Da);o(129);function Bv(t){return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function zv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return s_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return s_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(r){d_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function WS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function US(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fv(){return Fv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=GS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Fv.apply(this,arguments)}function GS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=el(t))!==null;);return t}function $v(t,e){return $v=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},$v(t,e)}function HS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=el(t);if(e){var s=el(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return XS(this,n)}}function XS(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qs(t)}function Qs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function el(t){return el=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},el(t)}function d_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tl(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ia,h_,y_,Wv=(Yr=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&$v(c,p)})(s,t);var e,n,r=HS(s);function s(){var c;WS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return d_(Qs(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.DIAMOND_NODE),p_(Qs(c),"rx",u_,Qs(c)),p_(Qs(c),"ry",c_,Qs(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Fv(el(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.diamond;return f_(f_({},c),In(p))}},{key:"points",get:function(){var c=this.x,p=this.y,v=this.rx,b=this.ry;return[[c,p-b],[c+v,p],[c,p+b],[c-v,p]]}},{key:"pointsPosition",get:function(){return this.points.map(function(c){return{x:c[0],y:c[1]}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=zv(v,1)[0];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=zv(v,2)[1];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"getDefaultAnchor",value:function(){var c=this;return this.points.map(function(p,v){var b=zv(p,2);return{x:b[0],y:b[1],id:"".concat(c.id,"_").concat(v)}})}}])&&US(e.prototype,n),s}(Na),u_=tl(Yr.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),c_=tl(Yr.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),tl(Yr.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(Yr.prototype,"points"),Yr.prototype),tl(Yr.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(Yr.prototype,"pointsPosition"),Yr.prototype),tl(Yr.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Yr.prototype,"width"),Yr.prototype),tl(Yr.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Yr.prototype,"height"),Yr.prototype),Yr);function Uv(t){return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function v_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function g_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v_(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function YS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gv(){return Gv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=KS(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Gv.apply(this,arguments)}function KS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=rl(t))!==null;);return t}function Hv(t,e){return Hv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hv(t,e)}function qS(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rl(t);if(e){var s=rl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return ZS(this,n)}}function ZS(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nl(t)}function nl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rl(t){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rl(t)}function m_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hh(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ei,__,Xv=(ia=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Hv(c,p)})(s,t);var e,n,r=qS(s);function s(){var c;YS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return m_(nl(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.ELLIPSE_NODE),b_(nl(c),"rx",h_,nl(c)),b_(nl(c),"ry",y_,nl(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Gv(rl(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.ellipse;return g_(g_({},c),In(p))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.rx,b=this.ry;return[{x:c,y:p-b,id:"".concat(this.id,"_0")},{x:c+v,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+b,id:"".concat(this.id,"_2")},{x:c-v,y:p,id:"".concat(this.id,"_3")}]}}])&&VS(e.prototype,n),s}(Na),h_=hh(ia.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),y_=hh(ia.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),hh(ia.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ia.prototype,"width"),ia.prototype),hh(ia.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ia.prototype,"height"),ia.prototype),ia);function Yv(t){return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Vv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return O_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return O_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function x_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){E_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JS(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function QS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kv(){return Kv=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=tj(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},Kv.apply(this,arguments)}function tj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ol(t))!==null;);return t}function qv(t,e){return qv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},qv(t,e)}function nj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ol(t);if(e){var s=ol(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return rj(this,n)}}function rj(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yh(t)}function yh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ol(t)}function E_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vh(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var Zv,S_,Jv=(ei=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&qv(c,p)})(s,t);var e,n,r=nj(s);function s(){var c;QS(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return E_(yh(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.POLYGON_NODE),JS(yh(c),"points",__,yh(c)),c}return e=s,(n=[{key:"getNodeStyle",value:function(){var c=Kv(ol(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.polygon;return x_(x_({},c),In(p))}},{key:"pointsPosition",get:function(){var c=this.x,p=this.y,v=this.width,b=this.height;return this.points.map(function(x){return{x:x[0]+c-v/2,y:x[1]+p-b/2}})}},{key:"width",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Vv(v,1)[0];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"height",get:function(){var c=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(v){var b=Vv(v,2)[1];b<c&&(c=b),b>p&&(p=b)}),p-c}},{key:"getDefaultAnchor",value:function(){var c=this,p=this.x,v=this.y,b=this.width,x=this.height;return this.points.map(function(S,D){var L=Vv(S,2),X=L[0],J=L[1];return{x:p+X-b/2,y:v+J-x/2,id:"".concat(c.id,"_").concat(D)}})}}])&&ej(e.prototype,n),s}(Na),__=vh(ei.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),vh(ei.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(ei.prototype,"pointsPosition"),ei.prototype),vh(ei.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ei.prototype,"width"),ei.prototype),vh(ei.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ei.prototype,"height"),ei.prototype),ei);function Qv(t){return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function P_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oj(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ij(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eg(){return eg=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=uj(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},eg.apply(this,arguments)}function uj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=il(t))!==null;);return t}function tg(t,e){return tg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},tg(t,e)}function cj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=il(t);if(e){var s=il(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sj(this,n)}}function sj(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gh(t)}function gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},il(t)}function A_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wu,ng=(Zv=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&tg(c,p)})(s,t);var e,n,r=cj(s);function s(){var c;ij(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return A_(gh(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.RECT_NODE),oj(gh(c),"radius",S_,gh(c)),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.width,b=this.height;return[{x:c,y:p-b/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+b/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:p,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var c=eg(il(s.prototype),"getNodeStyle",this).call(this),p=this.graphModel.theme.rect;return P_(P_({},c),In(p))}}])&&aj(e.prototype,n),s}(Na),S_=function(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}(Zv.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zv);function rg(t){return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function T_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function og(){return og=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=pj(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},og.apply(this,arguments)}function pj(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=al(t))!==null;);return t}function ig(t,e){return ig=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ig(t,e)}function dj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=al(t);if(e){var s=al(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return hj(this,n)}}function hj(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_(t)}function k_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function al(t){return al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},al(t)}function D_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var ag=(wu=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ig(c,p)})(s,t);var e,n,r=dj(s);function s(){var c;lj(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return D_(k_(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.TEXT_NODE),c}return e=s,(n=[{key:"getTextStyle",value:function(){var c=og(al(s.prototype),"getTextStyle",this).call(this),p=this.graphModel.theme.text;return T_(T_({},c),In(p))}},{key:"width",get:function(){var c=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return Ef({rows:c,fontSize:p,rowsLength:c.length}).width}},{key:"height",get:function(){var c=String(this.text.value).split(/[\r\n]/g),p=this.getTextStyle().fontSize;return Ef({rows:c,fontSize:p,rowsLength:c.length}).height}}])&&fj(e.prototype,n),s}(Na),N_(wu.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(wu.prototype,"width"),wu.prototype),N_(wu.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(wu.prototype,"height"),wu.prototype),wu);function ug(t){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function yj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cg(t,e){return cg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cg(t,e)}function gj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bh(t);if(e){var s=bh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return bj(this,n)}}function bj(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R_(t)}function R_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bh(t)}function mj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ti,C_,I_,L_,sg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&cg(c,p)})(s,t);var e,n,r=gj(s);function s(){var c;yj(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return mj(R_(c=r.call.apply(r,[this].concat(v))),"modelType",Zt.HTML_NODE),c}return e=s,(n=[{key:"getDefaultAnchor",value:function(){var c=this.x,p=this.y,v=this.width,b=this.height;return[{x:c,y:p-b/2,id:"".concat(this.id,"_0")},{x:c+v/2,y:p,id:"".concat(this.id,"_1")},{x:c,y:p+b/2,id:"".concat(this.id,"_2")},{x:c-v/2,y:p,id:"".concat(this.id,"_3")}]}}])&&vj(e.prototype,n),s}(Na);function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function lg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function np(t,e,n,r,s){var c={};return Object.keys(r).forEach(function(p){c[p]=r[p]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=n.slice().reverse().reduce(function(p,v){return v(t,e,p)||p},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,e,c),c=null),c}var F_=(Ti=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),z_(this,"graphModel",void 0),lg(this,"isShowHorizontal",C_,this),lg(this,"isShowVertical",I_,this),lg(this,"position",L_,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,n=[{key:"getStyle",value:function(){return function(r){for(var s=1;s<arguments.length;s++){var c=arguments[s]!=null?arguments[s]:{};s%2?B_(Object(c),!0).forEach(function(p){z_(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):B_(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,s){for(var c=r.x,p=r.y,v=!1,b=!1,x=0;x<s.length;x++){var S=s[x];if(S.id!==r.id&&(c===S.x&&(v=!0),p===S.y&&(b=!0),v&&b))break}return{isShowVertical:v,isShowHorizontal:b,position:{x:c,y:p}}}},{key:"getHorizontalSnapline",value:function(r,s){var c,p,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)p=eo(x);else{var S=this.graphModel.getNodeModelById(b);p=eo(S)}}for(var D=0;D<s.length;D++){var L=s[D];if(L.id!==r.id){var X=eo(L);if(X.minY===p.minY||X.maxY===p.minY){v=!0,c=p.minY;break}if(X.minY===p.maxY||X.maxY===p.maxY){v=!0,c=p.maxY;break}}}return fr({isShowHorizontal:v,position:{y:c}})}},{key:"getVerticalSnapline",value:function(r,s){var c,p,v=!1,b=r.id;if(b){var x=this.graphModel.fakerNode;if(x&&x.id===b)p=eo(x);else{var S=this.graphModel.getNodeModelById(b);p=eo(S)}}for(var D=0;D<s.length;D++){var L=s[D];if(L.id!==r.id){var X=eo(L);if(X.minX===p.minX||X.maxX===p.minX){v=!0,c=p.minX;break}if(X.minX===p.maxX||X.maxX===p.maxX){v=!0,c=p.maxX;break}}}return fr({isShowVertical:v,position:{x:c}})}},{key:"getSnapLinePosition",value:function(r,s){var c=this.getCenterSnapLine(r,s),p=c.isShowHorizontal,v=c.isShowVertical;if(!p){var b=this.getHorizontalSnapline(r,s);b.isShowHorizontal&&(c.isShowHorizontal=b.isShowHorizontal,c.position.y=b.position.y)}if(!v){var x=this.getVerticalSnapline(r,s);x.isShowVertical&&(c.isShowVertical=x.isShowVertical,c.position.x=x.position.x)}return c}},{key:"setSnaplineInfo",value:function(r){var s=r.isShowHorizontal,c=r.isShowVertical,p=r.position;this.position=p,this.isShowHorizontal=s,this.isShowVertical=c}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var s=this.graphModel.nodes,c=this.getSnapLinePosition(r,s);this.setSnaplineInfo(c)}}],n&&_j(e.prototype,n),t}(),C_=np(Ti.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I_=np(Ti.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L_=np(Ti.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np(Ti.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(Ti.prototype,"clearSnapline"),Ti.prototype),np(Ti.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(Ti.prototype,"setNodeSnapLine"),Ti.prototype),Ti),rp=new Map,$_=function(t){var e=Ki(),n=window.requestAnimationFrame(function r(){if(t(),rp.get(e)){var s=window.requestAnimationFrame(r);rp.set(e,s)}});return rp.set(e,n),e},mh=function(t){var e=rp.get(t);e&&(window.cancelAnimationFrame(e),rp.delete(t))};function fg(t){return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function op(){return op=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function W_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(n),!0).forEach(function(r){ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return U_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return U_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pg(t,e){return pg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pg(t,e)}function xj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_h(t);if(e){var s=_h(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ej(this,n)}}function Ej(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aa(t)}function aa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(t)}function ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sj=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&pg(c,p)})(s,t);var e,n,r=xj(s);function s(){var c;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),ua(aa(c=r.call(this)),"preTargetNode",void 0),ua(aa(c),"sourceRuleResults",void 0),ua(aa(c),"targetRuleResults",void 0),ua(aa(c),"dragHandler",void 0),ua(aa(c),"t",void 0),ua(aa(c),"onDragStart",function(p){var v=p.event,b=c.props,x=b.anchorData,S=b.nodeModel,D=b.graphModel;D.overlapMode,D.selectNodeById(S.id),S.autoToFront&&D.toFront(S.id),D.eventCenter.emit(dt.ANCHOR_DRAGSTART,{data:x,e:v,nodeModel:S}),c.setState({startX:x.x,startY:x.y,endX:x.x,endY:x.y})}),ua(aa(c),"onDragging",function(p){var v=p.event,b=c.props,x=b.graphModel,S=b.nodeModel,D=b.anchorData,L=x.transformModel,X=x.eventCenter,J=x.width,re=x.height,ye=x.editConfigModel,ge=ye.autoExpand,xe=ye.stopMoveGraph,Ce=v.clientX,Je=v.clientY,qe=x.getPointByClient({x:Ce,y:Je}),wt=qe.domOverlayPosition,Qe=wt.x,ht=wt.y,rt=qe.canvasOverlayPosition,en=rt.x,an=rt.y;c.t&&mh(c.t);var Ct=[];Qe<10?Ct=[10,0]:Qe+10>J?Ct=[-10,0]:ht<10?Ct=[0,10]:ht+10>re&&(Ct=[0,-10]),c.setState({endX:en,endY:an,dragging:!0}),c.moveAnchorEnd(en,an),Ct.length>0&&!xe&&ge&&(c.t=$_(function(){var fn=Oj(Ct,2),tr=fn[0],nr=fn[1];L.translate(tr,nr);var Lr=c.state,No=Lr.endX,Ro=Lr.endY;c.setState({endX:No-tr,endY:Ro-nr}),c.moveAnchorEnd(No-tr,Ro-nr)})),X.emit(dt.ANCHOR_DRAG,{data:D,e:v,nodeModel:S})}),ua(aa(c),"onDragEnd",function(p){var v=p.event;c.t&&mh(c.t);var b=c.checkEnd(v);c.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),c.sourceRuleResults.clear(),c.targetRuleResults.clear();var x=c.props,S=x.graphModel,D=x.nodeModel,L=x.anchorData;S.eventCenter.emit(dt.ANCHOR_DRAGEND,{data:L,e:v,nodeModel:D,edgeModel:b})}),ua(aa(c),"checkEnd",function(p){var v=c.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=S.x,L=S.y,X=S.id,J=(b.edgeType,c.state),re=J.endX,ye=J.endY,ge=J.dragging,xe=Ds({x:re,y:ye},b);if(c.preTargetNode&&c.preTargetNode.state!==vn.DEFAULT&&c.preTargetNode.setElementState(vn.DEFAULT),ge&&xe&&xe.node){var Ce=xe.node,Je=xe.anchor.id,qe="".concat(x.id,"_").concat(Ce.id,"_").concat(Je,"_").concat(X),wt=c.sourceRuleResults.get(qe)||{},Qe=wt.isAllPass,ht=wt.msg,rt=c.targetRuleResults.get(qe)||{},en=rt.isAllPass,an=rt.msg;if(Qe&&en){Ce.setElementState(vn.DEFAULT);var Ct=b.edgeGenerator(x.getData(),b.getNodeModelById(xe.node.id).getData()),fn=b.addEdge(ip(ip({},Ct),{},{sourceNodeId:x.id,sourceAnchorId:X,startPoint:{x:D,y:L},targetNodeId:xe.node.id,targetAnchorId:xe.anchor.id,endPoint:{x:xe.anchor.x,y:xe.anchor.y}})),tr=c.props.anchorData;return b.eventCenter.emit(dt.ANCHOR_DROP,{data:tr,e:p,nodeModel:x,edgeModel:fn}),fn}var nr=Ce.getData();return b.eventCenter.emit(dt.CONNECTION_NOT_ALLOWED,{data:nr,msg:an||ht}),null}}),c.sourceRuleResults=new Map,c.targetRuleResults=new Map,c.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},c.dragHandler=new Zo({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd}),c}return e=s,(n=[{key:"getAnchorShape",value:function(){var c=this.props,p=c.anchorData,v=c.style,b=c.node.getAnchorShape(p);if(b)return b;var x=p.x,S=p.y,D=ip(ip({},v),v.hover);return Object(fe.g)("g",null,Object(fe.g)(Zs,op({className:"lf-node-anchor-hover"},D,{x,y:S})),Object(fe.g)(Zs,op({className:"lf-node-anchor"},v,{x,y:S})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var c=this.props,p=c.graphModel,v=p.getAnchorIncomingEdge,b=p.getAnchorOutcomingEdge,x=c.anchorData.id;return{incomingEdgeList:v(x),outcomingEdgeList:b(x)}}},{key:"moveAnchorEnd",value:function(c,p){var v=this.props,b=v.graphModel,x=v.nodeModel,S=v.anchorData,D=Ds({x:c,y:p},b);if(D){var L=D.node,X=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(vn.DEFAULT),S.id===X)return;this.preTargetNode=L;var J="".concat(x.id,"_").concat(L.id,"_").concat(X,"_").concat(S.id);if(!this.targetRuleResults.has(J)){var re=D.anchor,ye=x.isAllowConnectedAsSource(L,S,re),ge=L.isAllowConnectedAsTarget(x,S,re);this.sourceRuleResults.set(J,vc(ye)),this.targetRuleResults.set(J,vc(ge))}var xe=this.sourceRuleResults.get(J).isAllPass,Ce=this.targetRuleResults.get(J).isAllPass;xe&&Ce?L.setElementState(vn.ALLOW_CONNECT):L.setElementState(vn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==vn.DEFAULT&&this.preTargetNode.setElementState(vn.DEFAULT)}},{key:"isShowLine",value:function(){var c=this.state,p=c.startX,v=c.startY,b=c.endX,x=c.endY;return Mo(p,v,b,x)>10}},{key:"render",value:function(){var c=this,p=this.state,v=p.startX,b=p.startY,x=p.endX,S=p.endY,D=this.props,L=D.anchorData.edgeAddable,X=D.edgeStyle;return Object(fe.g)("g",{className:"lf-anchor"},Object(fe.g)("g",{onMouseDown:function(J){L!==!1&&c.dragHandler.handleMouseDown(J)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(ip({sourcePoint:{x:v,y:b},targetPoint:{x,y:S}},X)):Object(fe.g)(Ks,op({x1:v,y1:b,x2:x,y2:S},X,{"pointer-events":"none"}))))}}])&&wj(e.prototype,n),s}(fe.a);function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){Pj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dg(t){return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function Aj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return H_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return H_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X_(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.value,p=t.fontSize,v=t.fill,b=v===void 0?"currentColor":v,x=t.overflowMode,S=x===void 0?"default":x,D=t.textWidth,L=D===void 0?"":D,X=t.model,J={textAnchor:"middle","dominant-baseline":"middle",x:n,y:s,fill:b};if(Object.entries(t).forEach(function(Je){var qe=Aj(Je,2),wt=qe[0],Qe=qe[1];dg(Qe)!=="object"&&(J[wt]=Qe)}),c){var re=String(c).split(/[\r\n]/g),ye=re.length;if(S!=="default"){var ge=X.BaseType,xe=X.modelType;if(ge===Zn.NODE&&xe!==Zt.TEXT_NODE||ge===Zn.EDGE&&L)return function(Je){var qe=Je.value,wt=Je.fontSize,Qe=Je.model,ht=Je.fontFamily,rt=ht===void 0?"":ht,en=Je.lineHeight,an=Je.wrapPadding,Ct=an===void 0?"0, 0":an,fn=Je.overflowMode,tr=Je.x,nr=Je.y,Lr=Qe.width,No=Qe.textHeight,Ro=Je.textWidth||Lr,la=String(qe).split(/[\r\n]/g),Bc=la.length,Hh=Ad({rows:la,style:{fontSize:"".concat(wt,"px"),width:"".concat(Ro,"px"),fontFamily:rt,lineHeight:en,padding:Ct},rowsLength:Bc,className:"lf-get-text-height"}),zc=Qe.height>Hh?Qe.height:Hh;No&&(zc=No);var Su=fn==="ellipsis";return Su&&(zc=wt+2),Object(fe.g)("g",null,Object(fe.g)("foreignObject",{width:Ro,height:zc,x:tr-Ro/2,y:nr-zc/2},Object(fe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:zc,width:Ro,padding:Ct}},Object(fe.g)("div",{className:Su?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:Su?la.join(""):"",style:jj({},Je)},la.map(function(ju){return Object(fe.g)("div",{className:"lf-node-text--auto-wrap-inner"},ju)})))))}(t)}if(ye>1){var Ce=re.map(function(Je,qe){var wt=(qe-(ye-1)/2)*(p+2);return Object(fe.g)("tspan",{className:"lf-text-tspan",x:n,y:s+wt},Je)});return Object(fe.g)("text",J,Ce)}return Object(fe.g)("text",J,c)}}function hg(t){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function yg(){return yg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function Mj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return Y_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Y_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vg(t,e){return vg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vg(t,e)}function kj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oh(t);if(e){var s=Oh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Dj(this,n)}}function Dj(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xu(t)}function xu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oh(t)}function Rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V_=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&vg(c,p)})(s,t);var e,n,r=kj(s);function s(c){var p;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,s),Rc(xu(p=r.call(this)),"dragHandler",void 0),Rc(xu(p),"sumDeltaX",0),Rc(xu(p),"sumDeltaY",0),Rc(xu(p),"stepDrag",void 0),Rc(xu(p),"onDragging",function(b){var x=b.deltaX,S=b.deltaY,D=p.props,L=D.model,X=Mj(D.graphModel.transformModel.fixDeltaXY(x,S),2),J=X[0],re=X[1];L.moveText(J,re)}),Rc(xu(p),"dblClickHandler",function(){p.props.editable&&p.props.model.setElementState(vn.TEXT_EDIT)}),Rc(xu(p),"mouseDownHandle",function(b){var x=p.props,S=x.draggable,D=x.model,L=x.graphModel.editConfigModel.nodeTextDraggable;(S||L)&&(p.stepDrag.model=D,p.stepDrag.handleMouseDown(b))}),c.model;var v=c.draggable;return p.stepDrag=new Zo({onDragging:p.onDragging,step:1,isStopPropagation:v}),p}return e=s,(n=[{key:"getShape",value:function(){var c=this.props,p=c.model,v=c.graphModel,b=p.text,x=v.editConfigModel,S=b.value,D=b.x,L=b.y,X=b.editable,J=b.draggable,re={x:D,y:L,className:"",value:S};X?re.className="lf-element-text":J||x.nodeTextDraggable?re.className="lf-text-draggable":re.className="lf-text-disabled";var ye=p.getTextStyle();return Object(fe.g)(X_,yg({},re,ye,{model:p}))}},{key:"render",value:function(){if(this.props.model.text)return Object(fe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Tj(e.prototype,n),s}(fe.a),Nj=window.navigator.userAgent.match(/MSIE|Trident/)!==null,K_=o(130);function gg(t){return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function bg(){return bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function Rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mg(t,e){return mg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mg(t,e)}function Cj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wh(t);if(e){var s=wh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ij(this,n)}}function Ij(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ul(t)}function ul(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wh(t)}function ap(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lj=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&mg(c,p)})(s,t);var e,n,r=Cj(s);function s(c){var p;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),ap(ul(p=r.call(this,c)),"style",{}),ap(ul(p),"defaultAngle",void 0),ap(ul(p),"normal",void 0),ap(ul(p),"stepperDrag",void 0),ap(ul(p),"onDragging",function(v){var b,x=v.event,S=p.props,D=S.graphModel,L=S.nodeModel,X=S.eventCenter,J=D.selectNodes,re=L.x,ye=L.y,ge=x.clientX,xe=x.clientY,Ce=D.getPointByClient({x:ge,y:xe}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,wt=new W(Je-re,qe-ye),Qe=((b=p.normal)===null||b===void 0?void 0:b.angle(wt))-p.defaultAngle,ht=new ra(-re,-ye).rotate(Qe).translate(re,ye).toString();L.transform=ht,L.rotate=Qe;var rt=Object(K_.map)(J,function(an){return an.id});rt.indexOf(L.id)===-1&&(rt=[L.id]);var en=Object(K_.reduce)(rt,function(an,Ct){var fn=D.getNodeModelById(Ct);return an[Ct]=fn==null?void 0:fn.getMoveDistance(0,0,!1),an},{});rt.forEach(function(an){D.getNodeEdges(an).forEach(function(Ct){if(en[Ct.sourceNodeId]){var fn=D.getNodeModelById(Ct.sourceNodeId).anchors.find(function(nr){return nr.id===Ct.sourceAnchorId});Ct.updateStartPoint(fn)}if(en[Ct.targetNodeId]){var tr=D.getNodeModelById(Ct.targetNodeId).anchors.find(function(nr){return nr.id===Ct.targetAnchorId});Ct.updateEndPoint(tr)}})}),X.emit(dt.NODE_ROTATE,{e:x,nodeModel:L})}),p.style=c.style,p.stepperDrag=new Zo({onDragging:p.onDragging}),p}return e=s,(n=[{key:"render",value:function(){var c=this,p=this.props.nodeModel,v=p.x,b=p.y,x=v+p.width/2+20,S=b-p.height/2-20;return this.normal=new W(1,0),this.defaultAngle=this.normal.angle(new W(x-v,S-b)),p.defaultAngle=this.defaultAngle,Object(fe.g)("g",{className:"lf-rotate-control"},Object(fe.g)("g",{onMouseDown:function(D){c.stepperDrag.handleMouseDown(D)}},Object(fe.g)(Zs,bg({},this.style,{cx:x,cy:S}))))}}])&&Rj(e.prototype,n),s}(fe.a);function _g(t){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}var Bj=["className"];function xh(){return xh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xh.apply(this,arguments)}function zj(t,e){if(t==null)return{};var n,r,s=function(p,v){if(p==null)return{};var b,x,S={},D=Object.keys(p);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=p[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Eh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return q_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Og(t,e){return Og=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Og(t,e)}function Fj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sh(t);if(e){var s=Sh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return $j(this,n)}}function $j(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(t)}function Or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(t)}function Mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ra=function(t){(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&Og(p,v)})(c,t);var e,n,r,s=Fj(c);function c(p){var v;(function(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")})(this,c),Mr(Or(v=s.call(this)),"t",void 0),Mr(Or(v),"moveOffset",void 0),Mr(Or(v),"stepDrag",void 0),Mr(Or(v),"contextMenuTime",void 0),Mr(Or(v),"mouseUpDrag",void 0),Mr(Or(v),"startTime",void 0),Mr(Or(v),"clickTimer",void 0),Mr(Or(v),"modelDisposer",void 0),Mr(Or(v),"onDragStart",function(L){var X=L.event,J=X.clientX,re=X.clientY,ye=v.props,ge=ye.model,xe=ye.graphModel.getPointByClient({x:J,y:re}).canvasOverlayPosition,Ce=xe.x,Je=xe.y;v.moveOffset={x:ge.x-Ce,y:ge.y-Je}}),Mr(Or(v),"onDragging",function(L){var X=L.event,J=v.props,re=J.model,ye=J.graphModel,ge=ye.editConfigModel,xe=ge.stopMoveGraph,Ce=ge.autoExpand,Je=ye.transformModel,qe=ye.selectNodes,wt=ye.width,Qe=ye.height,ht=ye.gridSize;re.isDragging=!0;var rt=X.clientX,en=X.clientY,an=ye.getPointByClient({x:rt,y:en}).canvasOverlayPosition,Ct=an.x,fn=an.y,tr=Eh(Je.CanvasPointToHtmlPoint([Ct,fn]),2),nr=tr[0],Lr=tr[1];if(Ct+=v.moveOffset.x,fn+=v.moveOffset.y,Ct=Ko(Ct,ht),fn=Ko(fn,ht),wt&&Qe){if(!Ce||xe||!(nr<0||Lr<0||nr>wt||Lr>Qe)){var No=Eh(Je.CanvasPointToHtmlPoint([Ct-re.width/2,fn-re.height/2]),2),Ro=No[0],la=No[1],Bc=Eh(Je.CanvasPointToHtmlPoint([Ct+re.width/2,fn+re.height/2]),2),Hh=Bc[0],zc=Bc[1],Su=Math.max(ht,20),ju=[];Ro<0?ju=[Su,0]:Hh>ye.width?ju=[-Su,0]:la<0?ju=[0,Su]:zc>ye.height&&(ju=[0,-Su]),v.t&&mh(v.t);var EA=new ra(-Ct,-fn).rotate(re.rotate).translate(Ct,fn).toString();re.transform=EA;var Xh=qe.map(function(Yh){return Yh.id});Xh.indexOf(re.id)===-1&&(Xh=[re.id]),ju.length>0&&!xe&&Ce?v.t=$_(function(){var Yh=Eh(ju,2),k1=Yh[0],D1=Yh[1];Je.translate(k1,D1);var SA=-k1/Je.SCALE_X,jA=-D1/Je.SCALE_X;ye.moveNodes(Xh,SA,jA)}):ye.moveNodes(Xh,Ct-re.x,fn-re.y)}}else ye.moveNode2Coordinate(re.id,Ct,fn)}),Mr(Or(v),"onDragEnd",function(){v.t&&mh(v.t),v.props.model.isDragging=!1}),Mr(Or(v),"handleMouseUp",function(){var L=v.props.model;v.mouseUpDrag=L.isDragging}),Mr(Or(v),"handleClick",function(L){var X=v.mouseUpDrag===!1;if(v.startTime){var J=v.props,re=J.model,ye=J.graphModel;if(X){var ge={data:re.getData(),e:L,position:ye.getPointByClient({x:L.clientX,y:L.clientY}),isSelected:!1,isMultiple:!1},xe=L.button===2,Ce=L.detail===2;if(!xe){var Je=ye.editConfigModel,qe=of(L,Je);ge.isMultiple=qe,re.isSelected&&!Ce&&qe?(ge.isSelected=!1,re.setSelected(!1)):(ye.selectNodeById(re.id,qe),ge.isSelected=!0,v.toFront()),Ce?(Je.nodeTextEdit&&re.text.editable&&(re.setSelected(!1),ye.setElementStateById(re.id,vn.TEXT_EDIT)),ye.eventCenter.emit(dt.NODE_DBCLICK,ge)):(ye.eventCenter.emit(dt.ELEMENT_CLICK,ge),ye.eventCenter.emit(dt.NODE_CLICK,ge))}}}}),Mr(Or(v),"handleContextMenu",function(L){L.preventDefault();var X=v.props,J=X.model,re=X.graphModel,ye=J.getData(),ge=re.getPointByClient({x:L.clientX,y:L.clientY});re.setElementStateById(J.id,vn.SHOW_MENU,ge.domOverlayPosition),J.isSelected||re.selectNodeById(J.id),re.eventCenter.emit(dt.NODE_CONTEXTMENU,{data:ye,e:L,position:ge}),v.toFront()}),Mr(Or(v),"handleMouseDown",function(L){var X=v.props,J=X.model,re=X.graphModel;v.startTime=new Date().getTime(),re.editConfigModel.adjustNodePosition&&J.draggable&&v.stepDrag&&v.stepDrag.handleMouseDown(L)}),Mr(Or(v),"setHoverON",function(L){var X=v.props,J=X.model,re=X.graphModel;if(!J.isHovered){var ye=J.getData();J.setHovered(!0),re.eventCenter.emit(dt.NODE_MOUSEENTER,{data:ye,e:L})}}),Mr(Or(v),"setHoverOFF",function(L){var X=v.props,J=X.model,re=X.graphModel,ye=J.getData();J.isHovered&&(J.setHovered(!1),re.eventCenter.emit(dt.NODE_MOUSELEAVE,{data:ye,e:L}))}),Mr(Or(v),"onMouseOut",function(L){Nj&&v.setHoverOFF(L)});var b=p.graphModel,x=b.gridSize,S=b.eventCenter,D=p.model;return v.stepDrag=new Zo({onDragStart:v.onDragStart,onDragging:v.onDragging,onDragEnd:v.onDragEnd,step:x,eventType:"NODE",isStopPropagation:!1,eventCenter:S,model:D}),v.modelDisposer=Object(h.F)(function(){return v.props},function(L){L&&L.model&&v.stepDrag.setModel(L.model)}),v}return e=c,r=[{key:"getModel",value:function(p){return p}}],(n=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(p){return null}},{key:"getAnchors",value:function(){var p=this,v=this.props,b=v.model,x=v.graphModel,S=b.isSelected,D=b.isHitable,L=b.isDragging,X=b.isShowAnchor;return D&&(S||X)&&!L?us(b.anchors,function(J,re){var ye=b.getAnchorLineStyle(J),ge=b.getAnchorStyle(J);return Object(fe.g)(Sj,{anchorData:J,node:p,style:ge,edgeStyle:ye,anchorIndex:re,nodeModel:b,graphModel:x,setHoverOFF:p.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var p=this.props,v=p.model,b=p.graphModel,x=v.isSelected,S=v.isHitable,D=v.enableRotate,L=v.isHovered,X=v.getRotateControlStyle().style;if(S&&(x||L)&&D)return Object(fe.g)(Lj,{graphModel:b,nodeModel:v,eventCenter:b.eventCenter,style:X})}},{key:"getText",value:function(){var p=this.props,v=p.model,b=p.graphModel;if(v.state===vn.TEXT_EDIT)return"";if(v.text){var x=b.editConfigModel,S=!1;return(v.text.draggable||x.nodeTextDraggable)&&(S=!0),Object(fe.g)(V_,{editable:x.nodeTextEdit&&v.text.editable,model:v,graphModel:b,draggable:S})}}},{key:"getStateClassName",value:function(){var p=this.props.model,v=p.state,b=p.isDragging,x=p.isSelected,S="lf-node";switch(v){case vn.ALLOW_CONNECT:S+=" lf-node-allow";break;case vn.NOT_ALLOW_CONNECT:S+=" lf-node-not-allow";break;default:S+=" lf-node-default"}return b&&(S+=" lf-isDragging"),x&&(S+=" lf-node-selected"),S}},{key:"toFront",value:function(){var p=this.props,v=p.model,b=p.graphModel;v.autoToFront&&b.toFront(v.id)}},{key:"render",value:function(){var p,v=this.props,b=v.model,x=v.graphModel,S=x.editConfigModel,D=S.hideAnchors,L=S.adjustNodePosition,X=S.allowRotation,J=x.gridSize,re=x.transformModel.SCALE_X,ye=b.isHitable,ge=b.draggable,xe=b.transform,Ce=b.getOuterGAttributes(),Je=Ce.className,qe=Je===void 0?"":Je,wt=zj(Ce,Bj),Qe=Object(fe.g)("g",{className:"lf-node-content"},Object(fe.g)("g",{transform:xe},this.getShape(),this.getText(),X&&this.getRotateControl()),!D&&this.getAnchors());return ye?(L&&ge&&this.stepDrag.setStep(J*re),p=Object(fe.g)("g",xh({className:"".concat(this.getStateClassName()," ").concat(qe),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},wt),Qe)):p=Object(fe.g)("g",xh({className:"".concat(this.getStateClassName()," ").concat(qe)},wt),Qe),p}}])&&Z_(e.prototype,n),r&&Z_(e,r),c}(fe.a);function wg(t){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function xg(){return xg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function Wj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eg(t,e){return Eg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eg(t,e)}function Gj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jh(t);if(e){var s=jh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Hj(this,n)}}function Hj(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(t)}var Sg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Eg(c,p)})(s,t);var e,n,r=Gj(s);function s(){return Wj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(fe.g)(_u,xg({},p,{x:c.x,y:c.y,width:c.width,height:c.height,radius:c.radius}))}}])&&Uj(e.prototype,n),s}(Ra);function jg(t){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function Pg(){return Pg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function Xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ag(t,e){return Ag=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ag(t,e)}function Vj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ph(t);if(e){var s=Ph(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Kj(this,n)}}function Kj(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ph(t)}var Mg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ag(c,p)})(s,t);var e,n,r=Vj(s);function s(){return Xj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,b=c.r,x=c.getNodeStyle();return Object(fe.g)(Zs,Pg({},x,{x:p,y:v,r:b}))}}])&&Yj(e.prototype,n),s}(Ra);function Tg(t){return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function qj(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return J_(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return J_(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q_(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(s){var c=qj(s,2),p=c[0],v=c[1];Tg(v)!=="object"&&(r[p]=v)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(s){return s.join(",")}).join(" "),Object(fe.g)("polygon",r)}function kg(t){return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function Dg(){return Dg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function Zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ng(t,e){return Ng=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ng(t,e)}function Qj(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ah(t);if(e){var s=Ah(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return eP(this,n)}}function eP(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ah(t)}var Rg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ng(c,p)})(s,t);var e,n,r=Qj(s);function s(){return Zj(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,b=c.width,x=c.height,S=c.points,D=c.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(p-b/2," ").concat(v-x/2,")")};return Object(fe.g)("g",L,Object(fe.g)(Q_,Dg({},D,{points:S,x:p,y:v})))}}])&&Jj(e.prototype,n),s}(Ra);function Cg(t){return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function Ig(){return Ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function tP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e){return Lg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Lg(t,e)}function rP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mh(t);if(e){var s=Mh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return oP(this,n)}}function oP(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mh(t)}var Bg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Lg(c,p)})(s,t);var e,n,r=rP(s);function s(){return tP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(fe.g)("g",null,Object(fe.g)(Q_,Ig({},p,{points:c.points,x:c.x,y:c.y})))}}])&&nP(e.prototype,n),s}(Ra);function zg(t){return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function iP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return e1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aP(t){var e=t.x,n=e===void 0?0:e,r=t.y,s=r===void 0?0:r,c=t.rx,p=c===void 0?4:c,v=t.ry,b=v===void 0?4:v,x=t.className,S={cx:n,cy:s,rx:p,ry:b,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(D){var L=iP(D,2),X=L[0],J=L[1];zg(J)!=="object"&&(S[X]=J)}),S.className=x?"lf-basic-shape ".concat(x):"lf-basic-shape",Object(fe.g)("ellipse",S)}function Fg(t){return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function $g(){return $g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function uP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wg(t,e){return Wg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wg(t,e)}function sP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Th(t);if(e){var s=Th(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return lP(this,n)}}function lP(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Th(t)}var Ug=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Wg(c,p)})(s,t);var e,n,r=sP(s);function s(){return uP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getShape",value:function(){var c=this.props.model,p=c.getNodeStyle();return Object(fe.g)(aP,$g({},p,{x:c.x,y:c.y,rx:c.rx,ry:c.ry}))}}])&&cP(e.prototype,n),s}(Ra);function Gg(t){return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){fP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hg(t,e){return Hg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hg(t,e)}function hP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=kh(t);if(e){var s=kh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return yP(this,n)}}function yP(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kh(t)}var Xg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Hg(c,p)})(s,t);var e,n,r=hP(s);function s(){return pP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,p=c.getTextStyle(),v=c.width,b=c.height,x=c.x,S=c.y,D=n1(n1({},p.background),{},{x,y:S-1,width:v,height:b});return Object(fe.g)(_u,D)}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getBackground())}}])&&dP(e.prototype,n),s}(Ra);function Yg(t){return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function Vg(){return Vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function vP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kg(t,e){return Kg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kg(t,e)}function bP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dh(t);if(e){var s=Dh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return mP(this,n)}}function mP(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return up(t)}function up(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dh(t)}function Nh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qg=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Kg(c,p)})(s,t);var e,n,r=bP(s);function s(){var c;vP(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return Nh(up(c=r.call.apply(r,[this].concat(v))),"ref",void 0),Nh(up(c),"currentProperties",void 0),Nh(up(c),"preProperties",void 0),Nh(up(c),"setRef",function(x){c.ref=x}),c}return e=s,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(c){c.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var c=this.props.model,p=c.x,v=c.y,b=c.height,x=c.width,S=c.getNodeStyle();return this.currentProperties=JSON.stringify(c.properties),Object(fe.g)("foreignObject",Vg({},S,{x:p-x/2,y:v-b/2,width:x,height:b,ref:this.setRef}))}}])&&gP(e.prototype,n),s}(Ra);function Zg(t){return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function Jg(){return Jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(this,arguments)}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(r){tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qg(t,e){return Qg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Qg(t,e)}function OP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Rh(t);if(e){var s=Rh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return wP(this,n)}}function wP(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eb(t)}function eb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rh(t)}function tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xP=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Qg(c,p)})(s,t);var e,n,r=OP(s);function s(c){var p;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,s),tb(eb(p=r.call(this,c)),"setHoverON",function(){p.setState({isHovered:!0})}),tb(eb(p),"setHoverOFF",function(){p.setState({isHovered:!1})}),p.state={isHovered:!1},p}return e=s,(n=[{key:"getBackground",value:function(){var c=this.props.model,p=c.getTextStyle(),v=c.text,b=c.width,x=p.background||{};if(this.state.isHovered&&p.hover&&p.hover.background&&(x=Cc(Cc({},x),p.hover.background)),v&&v.value&&x.fill!=="transparent"){var S,D=p.fontSize,L=p.overflowMode,X=p.lineHeight,J=p.wrapPadding,re=p.textWidth,ye=v.value,ge=v.x,xe=v.y,Ce=String(ye).split(/[\r\n]/g),Je=Ce.length;if(L==="autoWrap"&&re){var qe=Ad({rows:Ce,style:{fontSize:"".concat(D,"px"),width:"".concat(re,"px"),lineHeight:X,padding:J},rowsLength:Je,className:"lf-get-text-height"});S=Cc(Cc({},x),{},{x:ge-1,y:xe-1,width:re,height:qe})}else{Ce&&Ce.forEach(function(en){Gs(en)});var wt=Ef({rows:Ce,fontSize:D,rowsLength:Je}),Qe=wt.width,ht=wt.height;if(L==="ellipsis"&&(Qe=re||b,ht=D+2),typeof x.wrapPadding=="string"){var rt=x.wrapPadding.split(",").filter(function(en){return en.trim()}).map(function(en){return parseFloat(en.trim())});rt.length>0&&rt.length<=4&&(rt.length===1?rt=[rt[0],rt[0],rt[0],rt[0]]:rt.length===2?rt=[rt[0],rt[1],rt[0],rt[1]]:rt.length===3&&(rt=[rt[0],rt[1],rt[2],rt[1]]),Qe+=rt[1]+rt[3],ht+=rt[0]+rt[2],ge+=(rt[1]-rt[3])/2,xe+=(rt[2]-rt[0])/2)}S=Cc(Cc({},x),{},{x:ge-1,y:xe-1,width:Qe,height:ht})}return Object(fe.g)(_u,S)}}},{key:"getShape",value:function(){var c=this.props.model,p=c.text,v=p.value,b=p.x,x=p.y;if(v){var S=Cc({x:b,y:x,className:"lf-element-text",value:v},c.getTextStyle());return Object(fe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(fe.g)(X_,Jg({},S,{model:c})))}}}])&&_P(e.prototype,n),s}(V_);function nb(t){return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}var ca,EP=["text","sourceAnchorId","targetAnchorId"];function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){Do(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SP(t,e){if(t==null)return{};var n,r,s=function(p,v){if(p==null)return{};var b,x,S={},D=Object.keys(p);for(x=0;x<D.length;x++)b=D[x],v.indexOf(b)>=0||(S[b]=p[b]);return S}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function jP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return i1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rb(t,e){return rb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},rb(t,e)}function AP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ch(t);if(e){var s=Ch(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return MP(this,n)}}function MP(t,e){if(e&&(nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(t)}function ko(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(t)}function Do(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ca||(ca={}));var a1=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&rb(c,p)})(s,t);var e,n,r=AP(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),Do(ko(p=r.call(this)),"stepDragData",void 0),Do(ko(p),"stepDrag",void 0),Do(ko(p),"oldEdge",void 0),Do(ko(p),"preTargetNode",void 0),Do(ko(p),"targetRuleResults",void 0),Do(ko(p),"sourceRuleResults",void 0),Do(ko(p),"handleMouseDown",function(S){p.stepDrag&&p.stepDrag.handleMouseDown(S)}),Do(ko(p),"onDragStart",function(){var S=p.props,D=S.x,L=S.y,X=S.edgeModel,J=X.startPoint,re=X.endPoint,ye=X.pointsList;p.oldEdge={startPoint:J,endPoint:re,pointsList:ye},p.setState({endX:D,endY:L,dragging:!0})}),Do(ko(p),"onDragging",function(S){var D=S.deltaX,L=S.deltaY,X=p.state,J=X.endX,re=X.endY,ye=p.props,ge=ye.graphModel,xe=ye.type,Ce=ge.transformModel,Je=ge.editConfigModel,qe=jP(Ce.moveCanvasPointByHtml([J,re],D,L),2),wt=qe[0],Qe=qe[1];p.setState({endX:wt,endY:Qe,dragging:!0});var ht=p.props.edgeModel,rt=Ds({x:J,y:re},ge);if(rt&&rt.node&&p.isAllowAdjust(rt).pass){var en,an=ht.startPoint,Ct=ht.endPoint,fn=ht.sourceNode,tr=ht.targetNode;xe===ca.SOURCE?en={startPoint:{x:rt.anchor.x,y:rt.anchor.y},endPoint:{x:Ct.x,y:Ct.y},sourceNode:rt.node,targetNode:tr}:xe===ca.TARGET&&(en={startPoint:{x:an.x,y:an.y},endPoint:{x:rt.anchor.x,y:rt.anchor.y},sourceNode:fn,targetNode:rt.node}),ht.updateAfterAdjustStartAndEnd(en)}else xe===ca.SOURCE?ht.updateStartPoint({x:wt,y:Qe}):xe===ca.TARGET&&ht.updateEndPoint({x:wt,y:Qe});ht.text.value&&Je.adjustEdge&&ht.setText(Object.assign({},ht.text,ht.textPosition))}),Do(ko(p),"onDragEnd",function(S){var D=S.event;try{var L;p.setState({dragging:!1});var X=p.props,J=X.graphModel,re=X.edgeModel,ye=X.type,ge=p.state,xe=ge.endX,Ce=ge.endY,Je=ge.dragging,qe=Ds({x:xe,y:Ce},J);if(!Je)return;var wt,Qe=!1;if(qe&&qe.node){var ht=p.isAllowAdjust(qe),rt=ht.pass,en=ht.msg,an=ht.newTargetNode;if(rt){var Ct=re.getData(),fn=Ct.text,tr=Ct.sourceAnchorId,nr=tr===void 0?"":tr,Lr=Ct.targetAnchorId;wt=Ca(Ca({sourceAnchorId:nr,targetAnchorId:Lr===void 0?"":Lr},SP(Ct,EP)),{},{text:(fn==null?void 0:fn.value)||""}),ye===ca.SOURCE?(wt=Ca(Ca({},J.edgeGenerator(J.getNodeModelById(qe.node.id).getData(),J.getNodeModelById(re.targetNodeId).getData(),wt)),{},{sourceNodeId:qe.node.id,sourceAnchorId:qe.anchor.id,startPoint:{x:qe.anchor.x,y:qe.anchor.y},targetNodeId:re.targetNodeId,endPoint:Ca({},re.endPoint)}),re.sourceNodeId===qe.node.id&&re.sourceAnchorId===qe.anchor.id&&(Qe=!0)):ye===ca.TARGET&&(wt=Ca(Ca({},J.edgeGenerator(J.getNodeModelById(re.sourceNodeId).getData(),J.getNodeModelById(qe.node.id).getData(),wt)),{},{sourceNodeId:re.sourceNodeId,startPoint:Ca({},re.startPoint),targetNodeId:qe.node.id,targetAnchorId:qe.anchor.id,endPoint:{x:qe.anchor.x,y:qe.anchor.y}}),re.targetNodeId===qe.node.id&&re.targetAnchorId===qe.anchor.id&&(Qe=!0))}else{Qe=!0;var No=an.getData();J.eventCenter.emit(dt.CONNECTION_NOT_ALLOWED,{data:No,msg:en})}}else Qe=!0;if(Qe)p.recoveryEdge();else{var Ro=re.getData();J.deleteEdgeById(re.id);var la=J.addEdge(Ca({},wt));J.eventCenter.emit(dt.EDGE_EXCHANGE_NODE,{data:{newEdge:la.getData(),oldEdge:Ro}})}(L=p.preTargetNode)===null||L===void 0||L.setElementState(vn.DEFAULT)}finally{p.props.graphModel.eventCenter.emit(dt.ADJUST_POINT_DRAGEND,{e:D,data:p.stepDragData})}}),Do(ko(p),"recoveryEdge",function(){var S=p.props.edgeModel,D=p.oldEdge,L=D.startPoint,X=D.endPoint,J=D.pointsList;S.updateStartPoint(L),S.updateEndPoint(X),S.modelType!==Zt.LINE_EDGE&&(S.pointsList=J,S.initPoints())}),Do(ko(p),"getAdjustPointStyle",function(){var S=p.props,D=S.graphModel.theme;return S.edgeModel,D.edgeAdjust}),p.state={dragging:!1,endX:0,endY:0},p.targetRuleResults=new Map,p.sourceRuleResults=new Map;var v=c.type,b=c.edgeModel,x=c.graphModel.eventCenter;return p.stepDragData={type:v,edgeData:b.getData()},p.stepDrag=new Zo({onDragStart:p.onDragStart,onDragging:p.onDragging,onDragEnd:p.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:x,data:p.stepDragData}),p}return e=s,(n=[{key:"isAllowAdjust",value:function(c){var p=this.props,v=p.edgeModel,b=v.id,x=v.sourceNode,S=v.targetNode,D=v.sourceAnchorId,L=v.targetAnchorId,X=p.type,J=null,re=null,ye=null,ge=null;if(X===ca.SOURCE?(J=c.node,re=S,ye=c.anchor,ge=S.getAnchorInfo(L)):(J=x,re=c.node,ge=c.anchor,ye=x.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==c.node&&this.preTargetNode.setElementState(vn.DEFAULT),this.preTargetNode=c.node,ge.id===ye.id)return{pass:!1,msg:"",newTargetNode:re};var xe="".concat(J.id,"_").concat(re.id,"_").concat(ye.id,"_").concat(ge.id);if(!this.targetRuleResults.has(xe)){var Ce=J.isAllowConnectedAsSource(re,ye,ge,b),Je=re.isAllowConnectedAsTarget(J,ye,ge,b);this.sourceRuleResults.set(xe,vc(Ce)),this.targetRuleResults.set(xe,vc(Je))}var qe=this.sourceRuleResults.get(xe),wt=qe.isAllPass,Qe=qe.msg,ht=this.targetRuleResults.get(xe),rt=ht.isAllPass,en=ht.msg,an=wt&&rt?vn.ALLOW_CONNECT:vn.NOT_ALLOW_CONNECT;return X===ca.SOURCE?J.setElementState(an):re.setElementState(an),{pass:wt&&rt,msg:en||Qe,newTargetNode:re}}},{key:"render",value:function(){var c=this.props,p=c.x,v=c.y,b=c.getAdjustPointShape,x=c.edgeModel,S=this.state.dragging;return Object(fe.g)("g",{pointerEvents:S?"none":"",onMouseDown:this.handleMouseDown},S?"":b(p,v,x))}}])&&PP(e.prototype,n),s}(fe.a);function ob(t){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function cp(){return cp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function TP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return u1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ib(t,e){return ib=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ib(t,e)}function NP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ih(t);if(e){var s=Ih(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return RP(this,n)}}function RP(t,e){if(e&&(ob(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}function ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ih(t)}function sa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sp=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&ib(c,p)})(s,t);var e,n,r=NP(s);function s(){var c;kP(this,s);for(var p=arguments.length,v=new Array(p),b=0;b<p;b++)v[b]=arguments[b];return sa(ki(c=r.call.apply(r,[this].concat(v))),"startTime",void 0),sa(ki(c),"contextMenuTime",void 0),sa(ki(c),"clickTimer",void 0),sa(ki(c),"textRef",Object(fe.f)()),sa(ki(c),"handleHover",function(x,S){var D=c.props,L=D.model,X=D.graphModel.eventCenter;L.setHovered(x);var J=x?dt.EDGE_MOUSEENTER:dt.EDGE_MOUSELEAVE,re=L.getData();X.emit(J,{data:re,e:S})}),sa(ki(c),"setHoverON",function(x){c.props.model.isHovered||(c.textRef&&c.textRef.current&&c.textRef.current.setHoverON(),c.handleHover(!0,x))}),sa(ki(c),"setHoverOFF",function(x){c.props.model.isHovered&&(c.textRef&&c.textRef.current&&c.textRef.current.setHoverOFF(),c.handleHover(!1,x))}),sa(ki(c),"handleContextMenu",function(x){x.preventDefault(),c.contextMenuTime=new Date().getTime(),c.clickTimer&&clearTimeout(c.clickTimer);var S=c.props,D=S.model,L=S.graphModel,X=L.getPointByClient({x:x.clientX,y:x.clientY});L.setElementStateById(D.id,vn.SHOW_MENU,X.domOverlayPosition),c.toFront(),D.isSelected||L.selectEdgeById(D.id);var J=D==null?void 0:D.getData();L.eventCenter.emit(dt.EDGE_CONTEXTMENU,{data:J,e:x,position:X})}),sa(ki(c),"handleMouseDown",function(x){x.stopPropagation(),c.startTime=new Date().getTime()}),sa(ki(c),"handleMouseUp",function(x){if(c.startTime&&!(new Date().getTime()-c.startTime>200||x.button===2)){var S=x.detail===2,D=c.props,L=D.model,X=D.graphModel,J=L==null?void 0:L.getData(),re=X.getPointByClient({x:x.clientX,y:x.clientY});if(S){var ye=X.editConfigModel,ge=X.textEditElement;if(ge&&ge.id===L.id&&X.setElementStateById(L.id,vn.DEFAULT),ye.edgeTextEdit&&L.text.editable&&X.setElementStateById(L.id,vn.TEXT_EDIT),L.modelType===Zt.POLYLINE_EDGE){var xe=L,Ce=X.getPointByClient({x:x.x,y:x.y}).canvasOverlayPosition,Je=Ce.x,qe=Ce.y,wt=Wf({x:Je,y:qe},xe.points);xe.dbClickPosition=wt}X.eventCenter.emit(dt.EDGE_DBCLICK,{data:J,e:x,position:re})}else X.eventCenter.emit(dt.ELEMENT_CLICK,{data:J,e:x,position:re}),X.eventCenter.emit(dt.EDGE_CLICK,{data:J,e:x,position:re});var Qe=X.editConfigModel;X.selectEdgeById(L.id,of(x,Qe)),c.toFront()}}),c}return e=s,(n=[{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var c=this.props,p=c.model,v=c.graphModel;if(p.state===vn.TEXT_EDIT)return null;var b=!1,x=v.editConfigModel;return(p.text.draggable||x.edgeTextDraggable)&&(b=!0),Object(fe.g)(xP,{ref:this.textRef,editable:x.edgeTextEdit&&p.text.editable,model:p,graphModel:v,draggable:b})}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,b=c.isSelected;return{start:p,end:v,hover:this.state.hover,isSelected:b}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model;return[c.startPoint,c.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var c=this.props.model,p=c.id,v=c.getArrowStyle(),b=v.refY,x=b===void 0?0:b,S=v.refX,D=S===void 0?2:S,L=TP(this.getLastTwoPoints(),2),X=L[0],J=L[1],re="auto";return X!==null&&J!==null&&(re=Sa(Xr({x:J.x-X.x,y:J.y-X.y,z:0}))),Object(fe.g)("g",null,Object(fe.g)("defs",null,Object(fe.g)("marker",{id:"marker-start-".concat(p),refX:-D,refY:x,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(fe.g)("marker",{id:"marker-end-".concat(p),refX:D,refY:x,overflow:"visible",orient:re,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var c=this.props.model.getArrowStyle();return c.stroke,c.strokeWidth,c.offset,c.verticalLength,Object(fe.g)("path",null)}},{key:"getEndArrow",value:function(){var c=this.props.model.getArrowStyle(),p=c.stroke,v=c.strokeWidth,b=c.offset,x=c.verticalLength;return Object(fe.g)("path",{stroke:p,fill:p,strokeWidth:v,transform:"rotate(180)",d:"M 0 0 L ".concat(b," -").concat(x," L ").concat(b," ").concat(x," Z")})}},{key:"getAdjustPointShape",value:function(c,p,v){var b=v.getAdjustPointStyle();return Object(fe.g)(Zs,cp({className:"lf-edge-adjust-point"},b,{x:c,y:p}))}},{key:"getAdjustPoints",value:function(){var c=this.props,p=c.model,v=c.graphModel,b=p.getAdjustStart(),x=p.getAdjustEnd();return Object(fe.g)("g",null,Object(fe.g)(a1,cp({type:"SOURCE"},b,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:v})),Object(fe.g)(a1,cp({type:"TARGET"},x,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:p,graphModel:v})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(fe.g)("g",null)}},{key:"getAppend",value:function(){return Object(fe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var c=this.props,p=c.graphModel,v=c.model;p.toFront(v.id)}},{key:"render",value:function(){var c=this.props,p=c.model,v=p.isSelected,b=p.isHitable,x=p.isShowAdjustPoint;return c.graphModel.animation,Object(fe.g)("g",null,Object(fe.g)("g",{className:["lf-edge",!b&&"pointer-none",v&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),x&&v?this.getAdjustPoints():"")}}])&&DP(e.prototype,n),s}(fe.a);function ab(t){return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function CP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return c1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lp=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=CP(n,2),s=r[0],c=r[1],p=ab(c);s!=="style"&&p==="object"||(e[s]=c)}),Object(fe.g)("path",e)};function ub(t){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function cb(){return cb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function IP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sb(t,e){return sb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},sb(t,e)}function BP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lh(t);if(e){var s=Lh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return zP(this,n)}}function zP(t,e){if(e&&(ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lh(t)}var lb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&sb(c,p)})(s,t);var e,n,r=BP(s);function s(){return IP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,b=c.isAnimation,x=c.arrowConfig,S=c.getEdgeStyle(),D=c.getEdgeAnimationStyle(),L=D.strokeDasharray,X=D.stroke,J=D.strokeDashoffset,re=D.animationName,ye=D.animationDuration,ge=D.animationIterationCount,xe=D.animationTimingFunction,Ce=D.animationDirection;return Object(fe.g)(Ks,cb({},S,{x1:p.x,y1:p.y,x2:v.x,y2:v.y},x,b?{strokeDasharray:L,stroke:X,style:{strokeDashoffset:J,animationName:re,animationDuration:ye,animationIterationCount:ge,animationTimingFunction:xe,animationDirection:Ce}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model,p=c.startPoint,v=c.endPoint,b=Vd({start:p,end:v}),x=b.d,S=b.strokeWidth,D=b.fill,L=b.strokeDasharray,X=b.stroke;return Object(fe.g)(lp,{d:x,fill:D,strokeWidth:S,stroke:X,strokeDasharray:L})}}])&&LP(e.prototype,n),s}(sp);function fb(t){return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function FP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return s1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return s1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $P=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=FP(n,2),s=r[0],c=r[1];(s==="style"||fb(c)!=="object")&&(e[s]=c)}),Object(fe.g)("polyline",e)};function pb(t){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){La(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(){return db=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}function WP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return f1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return f1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hb(t,e){return hb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hb(t,e)}function GP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zh(t);if(e){var s=zh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return HP(this,n)}}function HP(t,e){if(e&&(pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zh(t)}function La(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&hb(c,p)})(s,t);var e,n,r=GP(s);function s(){var c;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,s),La(Ia(c=r.call(this)),"drag",void 0),La(Ia(c),"isDragging",void 0),La(Ia(c),"isShowAdjustPointTemp",void 0),La(Ia(c),"appendInfo",void 0),La(Ia(c),"onDragStart",function(){var p=c.props.model;p.dragAppendStart(),c.isShowAdjustPointTemp=p.isShowAdjustPoint,p.isShowAdjustPoint=!1}),La(Ia(c),"onDragging",function(p){var v=p.deltaX,b=p.deltaY,x=c.props,S=x.model,D=x.graphModel;c.isDragging=!0;var L=D.transformModel,X=D.editConfigModel,J=WP(L.fixDeltaXY(v,b),2),re=J[0],ye=J[1],ge=S,xe=X.adjustEdgeMiddle;c.appendInfo=xe?ge.dragAppendSimple(c.appendInfo,{x:re,y:ye}):ge.dragAppend(c.appendInfo,{x:re,y:ye})}),La(Ia(c),"onDragEnd",function(){var p=c.props,v=p.model,b=p.graphModel.eventCenter,x=v;x.dragAppendEnd(),c.isDragging=!1,x.isShowAdjustPoint=c.isShowAdjustPointTemp,c.appendInfo=void 0,b.emit(dt.EDGE_ADJUST,{data:x.getData()})}),La(Ia(c),"beforeDragStart",function(p,v){v.dragAble&&c.drag.handleMouseDown(p),c.appendInfo=v}),c.drag=new Zo({onDragStart:c.onDragStart,onDragging:c.onDragging,onDragEnd:c.onDragEnd,isStopPropagation:!1}),c}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.points,v=c.isAnimation,b=c.arrowConfig,x=c.getEdgeStyle(),S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,L=S.stroke,X=S.strokeDashoffset,J=S.animationName,re=S.animationDuration,ye=S.animationIterationCount,ge=S.animationTimingFunction,xe=S.animationDirection;return Object(fe.g)($P,db({points:p},x,b,v?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:X,animationName:J,animationDuration:re,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=c.points,v=c.isSelected,b={start:null,end:null,hover:this.state.hover,isSelected:v},x=ea(p);return x.length>=2&&(b.start=x[x.length-2],b.end=x[x.length-1]),b}},{key:"getLastTwoPoints",value:function(){var c=this.props.model.points,p=ea(c);return p.length>=2?[p[p.length-2],p[p.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(c){var p,v=c.start,b=c.end;if(v.x===b.x&&v.y===b.y)p="";else{var x={start:v,end:b,offset:10,verticalLength:5},S=Ei(Bh(Bh({},x),{},{type:"start"})),D=Ei(Bh(Bh({},x),{},{type:"end"}));p="M".concat(S.leftX," ").concat(S.leftY,` 
      L`).concat(S.rightX," ").concat(S.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(c){var p=this.getAppendAttributes(c),v=p.d,b=p.strokeWidth,x=p.fill,S=p.strokeDasharray,D=p.stroke;return Object(fe.g)(lp,{d:v,fill:x,strokeWidth:b,stroke:D,strokeDasharray:S})}},{key:"getAppendWidth",value:function(){for(var c=this,p=this.props,v=p.model,b=p.graphModel,x=v.pointsList,S=v.draggable,D=[],L=x.length,X=function(re){var ye="lf-polyline-append",ge={start:{x:x[re].x,y:x[re].y},end:{x:x[re+1].x,y:x[re+1].y},startIndex:re,endIndex:re+1,direction:"",dragAble:!0},xe=Object(fe.g)("g",{className:ye},c.getAppendShape(ge)),Ce=b.editConfigModel,Je=Ce.adjustEdge,qe=Ce.adjustEdgeMiddle;if(Je&&S){var wt=ge.startIndex,Qe=ge.endIndex,ht=qe&&(wt===0||Qe===L-1);ge.dragAble=!ht,ge.start.x===ge.end.x?(ge.dragAble&&(ye+="-ew-resize"),ge.direction=An.VERTICAL):ge.start.y===ge.end.y&&(ge.dragAble&&(ye+="-ns-resize"),ge.direction=An.HORIZONTAL),xe=Object(fe.g)("g",{className:c.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(rt){return c.beforeDragStart(rt,ge)}},Object(fe.g)("g",{className:ye},c.getAppendShape(ge)))}D.push(xe)},J=0;J<L-1;J++)X(J);return Object(fe.g)("g",null,D)}}])&&UP(e.prototype,n),s}(sp);function vb(t){return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function XP(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return p1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gb(){return gb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function YP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bb(t,e){return bb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bb(t,e)}function KP(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fh(t);if(e){var s=Fh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return qP(this,n)}}function qP(t,e){if(e&&(vb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fh(t)}var mb=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&bb(c,p)})(s,t);var e,n,r=KP(s);function s(){return YP(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"getEdge",value:function(){var c=this.props.model,p=c.getEdgeStyle(),v=c.path,b=c.isAnimation,x=c.arrowConfig,S=c.getEdgeAnimationStyle(),D=S.strokeDasharray,L=S.stroke,X=S.strokeDashoffset,J=S.animationName,re=S.animationDuration,ye=S.animationIterationCount,ge=S.animationTimingFunction,xe=S.animationDirection;return Object(fe.g)(lp,gb({d:v},p,x,b?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:X,animationName:J,animationDuration:re,animationIterationCount:ye,animationTimingFunction:ge,animationDirection:xe}}:{}))}},{key:"getAppendWidth",value:function(){var c=this.props.model.path;return Object(fe.g)(lp,{d:c,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var c=this.props.model,p=this.state.hover,v=c.isSelected,b=c.getArrowStyle().offset,x=c.pointsList.map(function(D){return{x:D.x,y:D.y}}),S=XP($f(x,b),2);return{start:S[0],end:S[1],hover:p,isSelected:v}}},{key:"getLastTwoPoints",value:function(){var c=this.props.model,p=c.getArrowStyle().offset,v=c.pointsList.map(function(b){return{x:b.x,y:b.y}});return $f(v,p)}}])&&VP(e.prototype,n),s}(sp);function _b(t){return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ZP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ob(t,e){return Ob=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ob(t,e)}function eA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$h(t);if(e){var s=$h(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return tA(this,n)}}function tA(t,e){if(e&&(_b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$h(t)}var nA=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ob(c,p)})(s,t);var e,n,r=eA(s);function s(){return JP(this,s),r.apply(this,arguments)}return e=s,n=[{key:"getArrowAttributes",value:function(){var c=this.props,p=c.arrowInfo,v=c.style,b=p.start,x=p.end,S={start:b,end:x,offset:v.offset,verticalLength:v.verticalLength,type:"end"},D=Ei(S),L=D.leftX,X=D.leftY,J=D.rightX,re=D.rightY;return function(ye){for(var ge=1;ge<arguments.length;ge++){var xe=arguments[ge]!=null?arguments[ge]:{};ge%2?d1(Object(xe),!0).forEach(function(Ce){ZP(ye,Ce,xe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(xe)):d1(Object(xe)).forEach(function(Ce){Object.defineProperty(ye,Ce,Object.getOwnPropertyDescriptor(xe,Ce))})}return ye}({d:"M".concat(L," ").concat(X," L").concat(x.x," ").concat(x.y," L").concat(J," ").concat(re," z")},v)}},{key:"getShape",value:function(){var c=this.getArrowAttributes(),p=c.d,v=c.strokeWidth,b=c.stroke,x=c.fill;return Object(fe.g)(lp,{d:p,fill:x,strokeWidth:v,stroke:b})}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&QP(e.prototype,n),s}(fe.a),h1=function(t,e){return Se(t,e)},rA=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},wb=function(){return pt.a.Date.now()},oA=Math.max,iA=Math.min,aA=function(t,e,n){var r,s,c,p,v,b,x=0,S=!1,D=!1,L=!0;if(typeof t!="function")throw new TypeError("Expected a function");function X(Ce){var Je=r,qe=s;return r=s=void 0,x=Ce,p=t.apply(qe,Je)}function J(Ce){return x=Ce,v=setTimeout(ye,e),S?X(Ce):p}function re(Ce){var Je=Ce-b;return b===void 0||Je>=e||Je<0||D&&Ce-x>=c}function ye(){var Ce=wb();if(re(Ce))return ge(Ce);v=setTimeout(ye,function(Je){var qe=e-(Je-b);return D?iA(qe,c-(Je-x)):qe}(Ce))}function ge(Ce){return v=void 0,L&&r?X(Ce):(r=s=void 0,p)}function xe(){var Ce=wb(),Je=re(Ce);if(r=arguments,s=this,b=Ce,Je){if(v===void 0)return J(b);if(D)return clearTimeout(v),v=setTimeout(ye,e),X(b)}return v===void 0&&(v=setTimeout(ye,e)),p}return e=Vi(e)||0,Bn(n)&&(S=!!n.leading,c=(D="maxWait"in n)?oA(Vi(n.maxWait)||0,e):c,L="trailing"in n?!!n.trailing:L),xe.cancel=function(){v!==void 0&&clearTimeout(v),x=0,r=b=s=v=void 0},xe.flush=function(){return v===void 0?p:ge(wb())},xe},uA=o(172);function cA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y1,v1,g1,sA=function(){function t(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Eu(this,"undos",[]),Eu(this,"redos",[]),Eu(this,"callbacks",[]),Eu(this,"stopWatch",null),Eu(this,"curData",null),Eu(this,"maxSize",50),Eu(this,"waitTime",100),Eu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){h1(rA(this.undos),r)||(this.undos.push(r),h1(this.curData,r)||(this.redos=[]),this.eventCenter.emit(dt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var s=this.undos.pop();return this.curData=In(s),s}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=In(r),r}}},{key:"watch",value:function(r){var s=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(uA.a)(r,aA(function(){var c=r.modelToHistoryData();c&&s.add(c)},this.waitTime))}}])&&cA(e.prototype,n),t}();function xb(t){return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function lA(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||function(n,r){if(n){if(typeof n=="string")return b1(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return b1(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){Lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eb(t,e){return Eb=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Eb(t,e)}function fA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wh(t);if(e){var s=Wh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return pA(this,n)}}function pA(t,e){if(e&&(xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cl(t)}function cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wh(t)}function Lc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O1,w1,x1,Sb=Di((g1=v1=function(t){(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&Eb(p,v)})(c,t);var e,n,r,s=fA(c);function c(){var p;return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,c),Lc(cl(p=s.call(this)),"ref",Object(fe.f)()),Lc(cl(p),"__prevText",{type:"",text:"",id:""}),Lc(cl(p),"keyupHandler",function(v){var b=p.props.graphModel.textEditElement;v.key==="Enter"&&v.altKey&&b.setElementState(0)}),Lc(cl(p),"inputHandler",function(v){var b=v.target.innerText,x=p.props.graphModel.textEditElement;p.__prevText={type:x.type,text:b.replace(/(\r\n)+$|(\n)+$/,""),id:x.id}}),Lc(cl(p),"keydownHandler",function(v){v.stopPropagation()}),p.state={style:{left:0,top:0}},p}return e=c,r=[{key:"getDerivedStateFromProps",value:function(p){var v,b=p.graphModel,x=b.transformModel,S=b.theme,D=S.inputText,L=b.textEditElement;if(L){var X;if((X=L.text)===null||X===void 0||!X.value)if(L.BaseType===Zn.EDGE){var J=(L=L).text,re=L.textPosition,ye=re.x,ge=re.y;J.x=ye,J.y=ge,L.setText(J)}else L=L;var xe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(L.BaseType===Zn.EDGE){var Ce=S.edgeText,Je=Ce.overflowMode,qe=Ce.lineHeight,wt=Ce.wrapPadding,Qe=Ce.textWidth;Qe&&Je==="autoWrap"&&(v=Ic(Ic({},xe),{},{width:Qe,minWidth:Qe,lineHeight:qe,padding:wt}))}else if(L.BaseType===Zn.NODE){var ht=S.nodeText,rt=ht.overflowMode,en=ht.lineHeight,an=ht.wrapPadding,Ct=ht.textWidth,fn=L,tr=fn.width,nr=fn.modelType,Lr=fn.textWidth||Ct||tr;(nr!==Zt.TEXT_NODE&&rt==="autoWrap"||nr===Zt.TEXT_NODE&&Ct)&&(v=Ic(Ic({},xe),{},{width:Lr,minWidth:Lr,lineHeight:en,padding:an}))}var No=L.text,Ro=No.x,la=No.y,Bc=lA(x.CanvasPointToHtmlPoint([Ro,la]),2);return{style:Ic(Ic({left:Bc[0],top:Bc[1]},v),D)}}}}],(n=[{key:"componentDidUpdate",value:function(){var p=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var v=this.__prevText,b=v.text,x=v.id;p.updateText(x,b),p.eventCenter.emit(dt.TEXT_UPDATE,Ic({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(p){if(window.getSelection!==void 0&&document.createRange!==void 0){var v=document.createRange();v.selectNodeContents(p),v.collapse(!1);var b=window.getSelection();b.removeAllRanges(),b.addRange(v)}}},{key:"render",value:function(){var p,v=this.props.graphModel.textEditElement,b=this.state.style;return v?Object(fe.g)("div",{contentEditable:!0,className:"lf-text-input",style:b,ref:this.ref,key:v.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(p=v.text)===null||p===void 0?void 0:p.value):null}}])&&_1(e.prototype,n),r&&_1(e,r),c}(fe.a),Lc(v1,"toolName","textEdit"),y1=g1))||y1,dA=function(t){return t.modelType===Zt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,s=(n.x+r.x)/2,c=(n.y+r.y)/2,p=Math.abs(n.x-r.x)+10,v=Math.abs(n.y-r.y)+10;return{x:s-p/2,y:c-v/2,x1:s+p/2,y1:c+v/2}}(t):t.modelType===Zt.POLYLINE_EDGE?function(e){var n=e.points,r=ea(n),s=Qi(r,8),c=s.x,p=s.y,v=s.width,b=s.height;return{x:c-v/2,y:p-b/2,x1:c+v/2,y1:p+b/2}}(t):t.modelType===Zt.BEZIER_EDGE?function(e){var n=e.path,r=_r(n),s=Qi(r,8),c=s.x,p=s.y,v=s.width,b=s.height;return{x:c-v/2,y:p-b/2,x1:c+v/2,y1:p+b/2}}(t):void 0};function jb(t){return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function E1(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,p,v=[],b=!0,x=!1;try{for(s=s.call(n);!(b=(c=s.next()).done)&&(v.push(c.value),!r||v.length!==r);b=!0);}catch(S){x=!0,p=S}finally{try{b||s.return==null||s.return()}finally{if(x)throw p}}return v}}(t,e)||S1(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hA(t){return function(e){if(Array.isArray(e))return Pb(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||S1(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S1(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pb(t,e):void 0}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ab(t,e){return Ab=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ab(t,e)}function vA(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uh(t);if(e){var s=Uh(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return gA(this,n)}}function gA(t,e){if(e&&(jb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fp(t)}function fp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uh(t)}function pp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mb=Di((x1=w1=function(t){(function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(p&&p.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),p&&Ab(c,p)})(s,t);var e,n,r=vA(s);function s(c){var p;(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,s),pp(fp(p=r.call(this)),"stepDrag",void 0),pp(fp(p),"handleMouseDown",function(S){p.stepDrag.handleMouseDown(S)}),pp(fp(p),"onDragging",function(S){var D=S.deltaX,L=S.deltaY,X=p.props.graphModel,J=X.getSelectElements(!0);X.moveNodes(J.nodes.map(function(re){return re.id}),D,L)}),pp(fp(p),"handleContextMenu",function(S){S.preventDefault();var D=p.props,L=D.graphModel,X=D.graphModel,J=X.eventCenter,re=X.selectElements,ye=L.getPointByClient({x:S.clientX,y:S.clientY}),ge={nodes:[],edges:[]};hA(re.values()).forEach(function(xe){xe.BaseType===Zn.NODE&&ge.nodes.push(xe.getData()),xe.BaseType===Zn.EDGE&&ge.edges.push(xe.getData())}),J.emit(dt.SELECTION_CONTEXTMENU,{data:ge,e:S,position:ye})});var v=c.graphModel,b=v.gridSize,x=v.eventCenter;return p.stepDrag=new Zo({onDragging:p.onDragging,step:b,eventType:"SELECTION",eventCenter:x}),p}return e=s,(n=[{key:"render",value:function(){var c=this.props.graphModel,p=c.selectElements,v=c.transformModel;if(!(p.size<=1)){var b=Number.MAX_SAFE_INTEGER,x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;p.forEach(function(re){var ye={x:0,y:0,x1:0,y1:0};re.BaseType===Zn.NODE&&(ye=function(ge){var xe=ge.x,Ce=ge.y,Je=ge.width,qe=ge.height;return{x:xe-Je/2,y:Ce-qe/2,x1:xe+Je/2,y1:Ce+qe/2}}(re)),re.BaseType===Zn.EDGE&&(ye=dA(re)),b=Math.min(b,ye.x),x=Math.min(x,ye.y),S=Math.max(S,ye.x1),D=Math.max(D,ye.y1)});var L=E1(v.CanvasPointToHtmlPoint([b,x]),2);b=L[0],x=L[1];var X=E1(v.CanvasPointToHtmlPoint([S,D]),2);S=X[0],D=X[1];var J={left:"".concat(b-10,"px"),top:"".concat(x-10,"px"),width:"".concat(S-b+20,"px"),height:"".concat(D-x+20,"px")};return Object(fe.g)("div",{className:"lf-multiple-select",style:J,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&yA(e.prototype,n),s}(fe.a),pp(w1,"toolName","multipleSelect"),O1=x1))||O1;function bA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mA=function(){function t(r){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Gh(this,"tools",void 0),Gh(this,"components",void 0),Gh(this,"toolMap",new Map),Gh(this,"instance",void 0),this.instance=r,this.isDisabledTool(Sb.toolName)||this.registerTool(Sb.toolName,Sb),this.isDisabledTool(Mb.toolName)||this.registerTool(Mb.toolName,Mb);var s=r.graphModel;s.eventCenter.on("".concat(dt.GRAPH_TRANSFORM,",").concat(dt.NODE_CLICK,",").concat(dt.BLANK_CLICK," "),function(){var c=s.textEditElement,p=s.editConfigModel,v=p.edgeTextEdit,b=p.nodeTextEdit;(v||b)&&c&&s.textEditElement.setElementState(vn.DEFAULT)})}var e,n;return e=t,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,s){this.toolMap.set(r,s)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&bA(e.prototype,n),t}(),_A=o(173),OA=o.n(_A);function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j1=function(){function t(r){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,t),Tb(this,"mousetrap",void 0),Tb(this,"options",void 0),Tb(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var s=r.lf;this.target=s.container,this.mousetrap=new OA.a(this.target),r.keyboard.enabled&&!s.options.isSilentMode&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,s=this.options.keyboard.shortcuts;if(s)if(En(s))s.forEach(function(b){var x=b.keys,S=b.callback,D=b.action;return r.on(x,S,D)});else{var c=s.keys,p=s.callback,v=s.action;this.on(c,p,v)}}},{key:"on",value:function(r,s,c){this.mousetrap.bind(this.getKeys(r),s,c)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,s){this.mousetrap.unbind(this.getKeys(r),s)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var s=this;return(Array.isArray(r)?r:[r]).map(function(c){return s.formatKey(c)})}},{key:"formatKey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&wA(e.prototype,n),t}(),xA=j1,Ba=null;function P1(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function A1(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}var sl=40,kb=40;function Db(t){return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nb=Symbol("plugin register by Logicflow.use"),Rb=function(){function t(s){var c,p,v=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,t),Kn(this,"container",void 0),Kn(this,"width",void 0),Kn(this,"height",void 0),Kn(this,"graphModel",void 0),Kn(this,"history",void 0),Kn(this,"viewMap",new Map),Kn(this,"tool",void 0),Kn(this,"keyboard",void 0),Kn(this,"dnd",void 0),Kn(this,"options",void 0),Kn(this,"snaplineModel",void 0),Kn(this,"components",[]),Kn(this,"plugins",void 0),Kn(this,"extension",{}),Kn(this,"adapterIn",void 0),Kn(this,"adapterOut",void 0),Kn(this,"getView",function(b){return v.viewMap.get(b)}),s=j0(s),this.options=s,this.container=this.initContainer(s.container),this.plugins=s.plugins,this.graphModel=new TE(dp({},s)),this.tool=new mA(this),this.history=new sA(this.graphModel.eventCenter),this.dnd=new jS({lf:this}),this.keyboard=new xA({lf:this,keyboard:s.keyboard}),s.snapline!==!1&&(this.snaplineModel=new F_(this.graphModel),c=this.graphModel.eventCenter,p=this.snaplineModel,c.on("node:mousemove",function(b){var x=b.data;p.setNodeSnapLine(x)}),c.on("node:mouseup",function(){p.clearSnapline()})),function(b,x){var S=b.keyboard,D=S.options.keyboard;S.on(["cmd + c","ctrl + c"],function(){if(kb=sl,!D.enabled||x.textEditElement)return!0;var L=b.options.guards,X=x.getSelectElements(!1);return L&&L.beforeClone&&!L.beforeClone(X)||X.nodes.length===0&&X.edges.length===0?(Ba=null,!0):((Ba=X).nodes.forEach(function(J){return P1(J,sl)}),Ba.edges.forEach(function(J){return A1(J,sl)}),!1)}),S.on(["cmd + v","ctrl + v"],function(){if(!D.enabled||x.textEditElement)return!0;if(Ba&&(Ba.nodes||Ba.edges)){b.clearSelectElements();var L=b.addElements(Ba,kb);if(!L)return!0;L.nodes.forEach(function(X){return b.selectElementById(X.id,!0)}),L.edges.forEach(function(X){return b.selectElementById(X.id,!0)}),Ba.nodes.forEach(function(X){return P1(X,sl)}),Ba.edges.forEach(function(X){return A1(X,sl)}),kb+=sl}return!1}),S.on(["cmd + z","ctrl + z"],function(){return!D.enabled||!!x.textEditElement||(b.undo(),!1)}),S.on(["cmd + y","ctrl + y"],function(){return!D.enabled||!!x.textEditElement||(b.redo(),!1)}),S.on(["backspace"],function(){if(!D.enabled||x.textEditElement)return!0;var L=x.getSelectElements(!0);return b.clearSelectElements(),L.edges.forEach(function(X){return b.deleteEdge(X.id)}),L.nodes.forEach(function(X){return b.deleteNode(X.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(s.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(s,c){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof s=="string"){var v={BaseEdge:sp,BaseEdgeModel:jf,BaseNode:Ra,BaseNodeModel:Na,RectNode:Sg,RectNodeModel:ng,CircleNode:Mg,CircleNodeModel:Lv,PolygonNode:Rg,PolygonNodeModel:Jv,TextNode:Xg,TextNodeModel:ag,LineEdge:lb,LineEdgeModel:Cs,DiamondNode:Bg,DiamondNodeModel:Wv,PolylineEdge:yb,PolylineEdgeModel:Oc,BezierEdge:mb,BezierEdgeModel:kv,EllipseNode:Ug,EllipseNodeModel:Xv,HtmlNode:qg,HtmlNodeModel:sg,h:fe.g,type:s};this.viewMap.forEach(function(L){var X=L.extendKey;X&&(v[X]=L)}),this.graphModel.modelMap.forEach(function(L){var X=L.extendKey;X&&(v[X]=L)});var b=c(v),x=b.view,S=b.model,D=x;p&&!D.isObervered&&(D.isObervered=!0,D=lt(D)),this.setView(s,D),this.graphModel.setModel(s,S)}else this.registerElement(s)}},{key:"registerElement",value:function(s){var c=s.view;s.isObserverView===!1||c.isObervered||(c.isObervered=!0,c=lt(c)),this.setView(s.type,c),this.graphModel.setModel(s.type,s.model)}},{key:"batchRegister",value:function(){var s=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(p){s.registerElement(p)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Sg,model:ng,type:"rect"}),this.registerElement({type:"circle",view:Mg,model:Lv}),this.registerElement({type:"polygon",view:Rg,model:Jv}),this.registerElement({type:"line",view:lb,model:Cs}),this.registerElement({type:"polyline",view:yb,model:Oc}),this.registerElement({type:"bezier",view:mb,model:kv}),this.registerElement({type:"text",view:Xg,model:ag}),this.registerElement({type:"ellipse",view:Ug,model:Xv}),this.registerElement({type:"diamond",view:Bg,model:Wv}),this.registerElement({type:"html",view:qg,model:sg})}},{key:"selectElementById",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(s,c),!c&&p&&this.graphModel.toFront(s)}},{key:"focusOn",value:function(s){var c=this.graphModel.transformModel,p=s.coordinate,v=s.id;if(!p){var b=this.getNodeModelById(v);b&&(p=b.getData());var x=this.getEdgeModelById(v);x&&(p=x.textPosition)}var S=p,D=S.x,L=S.y;c.focusOn(D,L,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(s){this.graphModel.setTheme(s)}},{key:"resize",value:function(s,c){this.graphModel.resize(s,c),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(s){this.graphModel.setDefaultEdgeType(s)}},{key:"updateText",value:function(s,c){this.graphModel.updateText(s,c)}},{key:"deleteElement",value:function(s){var c,p,v,b=this.getModelById(s);return!!b&&(p=(v=(Kn(c={},Zn.NODE,this.deleteNode),Kn(c,Zn.EDGE,this.deleteEdge),c)[b.BaseType])===null||v===void 0?void 0:v.call(this,s))!==null&&p!==void 0&&p}},{key:"getModelById",value:function(s){return this.graphModel.getElement(s)}},{key:"getDataById",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getData()}},{key:"changeNodeType",value:function(s,c){this.graphModel.changeNodeType(s,c)}},{key:"changeEdgeType",value:function(s,c){this.graphModel.changeEdgeType(s,c)}},{key:"getNodeEdges",value:function(s){return this.graphModel.getNodeEdges(s)}},{key:"addNode",value:function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt.NODE_ADD,p=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(s,c,p)}},{key:"deleteNode",value:function(s){var c=this.graphModel.getNodeModelById(s);if(!c)return!1;var p=c.getData(),v=this.options.guards,b=!v||!v.beforeDelete||v.beforeDelete(p);return b&&this.graphModel.deleteNode(s),b}},{key:"cloneNode",value:function(s){var c=this.graphModel.getNodeModelById(s).getData(),p=this.options.guards;if(!p||!p.beforeClone||p.beforeClone(c))return this.graphModel.cloneNode(s)}},{key:"changeNodeId",value:function(s,c){return this.graphModel.changeNodeId(s,c)}},{key:"getNodeModelById",value:function(s){return this.graphModel.getNodeModelById(s)}},{key:"getNodeDataById",value:function(s){var c;return(c=this.graphModel.getNodeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"addEdge",value:function(s){return this.graphModel.addEdge(s)}},{key:"deleteEdge",value:function(s){var c=this.options.guards,p=this.graphModel.edgesMap[s];if(!p)return!1;var v=p.model.getData(),b=!c||!c.beforeDelete||c.beforeDelete(v);return b&&this.graphModel.deleteEdgeById(s),b}},{key:"deleteEdgeByNodeId",value:function(s){var c=s.sourceNodeId,p=s.targetNodeId;c&&p?this.graphModel.deleteEdgeBySourceAndTarget(c,p):c?this.graphModel.deleteEdgeBySource(c):p&&this.graphModel.deleteEdgeByTarget(p)}},{key:"changeEdgeId",value:function(s,c){return this.graphModel.changeEdgeId(s,c)}},{key:"getEdgeModelById",value:function(s){var c;return(c=this.graphModel.edgesMap[s])===null||c===void 0?void 0:c.model}},{key:"getEdgeModels",value:function(s){var c=this.graphModel.edges,p=s.sourceNodeId,v=s.targetNodeId;if(p&&v){var b=[];return c.forEach(function(D){D.sourceNodeId===p&&D.targetNodeId===v&&b.push(D)}),b}if(p){var x=[];return c.forEach(function(D){D.sourceNodeId===p&&x.push(D)}),x}if(v){var S=[];return c.forEach(function(D){D.targetNodeId===v&&S.push(D)}),S}return[]}},{key:"getEdgeDataById",value:function(s){var c;return(c=this.getEdgeModelById(s))===null||c===void 0?void 0:c.getData()}},{key:"getNodeIncomingEdge",value:function(s){return this.graphModel.getNodeIncomingEdge(s)}},{key:"getNodeOutgoingEdge",value:function(s){return this.graphModel.getNodeOutgoingEdge(s)}},{key:"getNodeIncomingNode",value:function(s){return this.graphModel.getNodeIncomingNode(s)}},{key:"getNodeOutgoingNode",value:function(s){return this.graphModel.getNodeOutgoingNode(s)}},{key:"editText",value:function(s){this.graphModel.editText(s)}},{key:"setProperties",value:function(s,c){var p;(p=this.graphModel.getElement(s))===null||p===void 0||p.setProperties(br(c))}},{key:"deleteProperty",value:function(s,c){var p;(p=this.graphModel.getElement(s))===null||p===void 0||p.deleteProperty(c)}},{key:"getProperties",value:function(s){var c;return(c=this.graphModel.getElement(s))===null||c===void 0?void 0:c.getProperties()}},{key:"toFront",value:function(s){this.graphModel.toFront(s)}},{key:"setElementZIndex",value:function(s,c){return this.graphModel.setElementZIndex(s,c)}},{key:"addElements",value:function(s){for(var c=this,p=s.nodes,v=s.edges,b={},x={nodes:[],edges:[]},S=0;S<p.length;S++){var D=p[S],L=D.id,X=this.addNode(D);if(!X)return;L&&(b[L]=X.id),x.nodes.push(X)}return v.forEach(function(J){var re=J.sourceNodeId,ye=J.targetNodeId;b[re]&&(re=b[re]),b[ye]&&(ye=b[ye]);var ge=c.graphModel.addEdge(dp(dp({},J),{},{sourceNodeId:re,targetNodeId:ye}));x.edges.push(ge)}),x}},{key:"getAreaElement",value:function(s,c){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],v=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],b=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(s,c,p,v,b).map(function(x){return x.getData()})}},{key:"getSelectElements",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(s)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var s=this.graphModel.modelToGraphData();if(this.adapterOut){for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];return this.adapterOut.apply(this,[s].concat(p))}return s}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(s){var c=this.graphModel,p=c.editConfigModel,v=c.transformModel;p.updateEditConfig(s),(s==null?void 0:s.stopMoveGraph)!==void 0&&v.updateTranslateLimits(s.stopMoveGraph),s!=null&&s.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(s,c){return this.graphModel.getPointByClient({x:s,y:c})}},{key:"undo",value:function(){if(this.history.undoAble()){var s=br(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"redo",value:function(){if(this.history.redoAble()){var s=br(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(s)}}},{key:"zoom",value:function(s,c){return this.graphModel.transformModel.zoom(s,c)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(s){this.graphModel.transformModel.setZoomMiniSize(s)}},{key:"setZoomMaxSize",value:function(s){this.graphModel.transformModel.setZoomMaxSize(s)}},{key:"getTransform",value:function(){var s=this.graphModel.transformModel;return{SCALE_X:s.SCALE_X,SCALE_Y:s.SCALE_Y,TRANSLATE_X:s.TRANSLATE_X,TRANSLATE_Y:s.TRANSLATE_Y}}},{key:"translate",value:function(s,c){this.graphModel.transformModel.translate(s,c)}},{key:"resetTranslate",value:function(){var s=this.graphModel.transformModel,c=s.TRANSLATE_X,p=s.TRANSLATE_Y;this.translate(-c,-p)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(s,c){c===void 0&&(c=s),this.graphModel.fitView(s,c)}},{key:"openEdgeAnimation",value:function(s){this.graphModel.openEdgeAnimation(s)}},{key:"closeEdgeAnimation",value:function(s){this.graphModel.closeEdgeAnimation(s)}},{key:"on",value:function(s,c){this.graphModel.eventCenter.on(s,c)}},{key:"off",value:function(s,c){this.graphModel.eventCenter.off(s,c)}},{key:"once",value:function(s,c){this.graphModel.eventCenter.once(s,c)}},{key:"emit",value:function(s,c){this.graphModel.eventCenter.emit(s,c)}},{key:"initContainer",value:function(s){var c=document.createElement("div");return c.style.position="relative",c.style.width="100%",c.style.height="100%",s.innerHTML="",s.appendChild(c),c}},{key:"installPlugins",value:function(){var s,c=this,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=(s=this.plugins)!==null&&s!==void 0?s:t.extensions;v.forEach(function(b){var x=null,S=null;b[Nb]?(x=b.extension,S=b.props):x=b;var D=x.pluginName||x.name;p.indexOf(D)===-1&&c.installPlugin(x,S)})}},{key:"installPlugin",value:function(s,c){if(Db(s)==="object"){var p=s.install,v=s.render;return p&&p.call(s,this,t),v&&this.components.push(v.bind(s)),void(this.extension[s.pluginName]=s)}var b=s,x=new b({lf:this,LogicFlow:t,options:this.options.pluginsOptions,props:c});x.render&&this.components.push(x.render.bind(x)),this.extension[b.pluginName]=x}},{key:"updateAttributes",value:function(s,c){this.graphModel.updateAttributes(s,c)}},{key:"createFakerNode",value:function(s){var c=this.graphModel.modelMap.get(s.type);if(c){var p=new c(dp(dp({},s),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(p),p}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(s){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(s)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(s,c){this.viewMap.set(s,c)}},{key:"renderRawData",value:function(s){this.graphModel.graphDataToModel(br(s)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(fe.j)(Object(fe.g)(ES,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(dt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(s=this.adapterIn(s)),this.renderRawData(s)}}],r=[{key:"use",value:function(s,c){var p,v,b=s.pluginName;b||(b=s.name);var x=(p=this.extensions.get(b))===null||p===void 0?void 0:p.extension;x&&x.destroy&&x.destroy(),this.extensions.set(b,(Kn(v={},Nb,Nb),Kn(v,"extension",s),Kn(v,"props",c),v))}}],n&&T1(e.prototype,n),r&&T1(e,r),t}();function Di(t){return lt(t)}Kn(Rb,"extensions",new Map),f.default=Rb}])})})(Qb,Qb.exports);var it=Qb.exports;const qh=j2(it),G4=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}];var H4=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var f=Math.random()*16|0,o=a==="x"?f:f&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),X4=(globalThis==null?void 0:globalThis._ids)||new H4;function Al(){return X4.next()}var nE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),Y4=function(i){nE(u,i);function u(a,f){var o=this;return a.id||(a.id="Event_"+Al()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,f)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedTargetRules=function(){var a=i.prototype.getConnectedTargetRules.call(this),f={message:"起始节点不能作为边的终点",validate:function(){return!1}};return a.push(f),a},u.extendKey="StartEventModel",u}(it.CircleNodeModel),V4=function(i){nE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="StartEventNode",u}(it.CircleNode),K4={type:"bpmn:startEvent",view:V4,model:Y4},rE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),uy=function(){return uy=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},uy.apply(this,arguments)},q4=function(i){rE(u,i);function u(a,f){var o=this;return a.id||(a.id="Event_"+Al()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,f)||this,o}return u.prototype.setAttributes=function(){this.r=18},u.prototype.getConnectedSourceRules=function(){var a=i.prototype.getConnectedSourceRules.call(this),f={message:"结束节点不能作为边的起点",validate:function(){return!1}};return a.push(f),a},u.extendKey="EndEventModel",u}(it.CircleNodeModel),Z4=function(i){rE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},u.prototype.getShape=function(){var a=this.props.model,f=a.getNodeStyle(),o=a.x,d=a.y,h=a.r,m=i.prototype.getShape.call(this);return it.h("g",{},m,it.h("circle",uy(uy({},f),{cx:o,cy:d,r:h-5})))},u.extendKey="EndEventView",u}(it.CircleNode),J4={type:"bpmn:endEvent",view:Z4,model:q4},oE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),mp=function(){return mp=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},mp.apply(this,arguments)},Q4=function(i){oE(u,i);function u(a,f){var o=this;return a.id||(a.id="Gateway_"+Al()),a.text||(a.text=""),a.text&&typeof a.text=="string"&&(a.text={value:a.text,x:a.x,y:a.y+40}),o=i.call(this,a,f)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return u.extendKey="ExclusiveGatewayModel",u}(it.PolygonNodeModel),e8=function(i){oE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.points,g=a.getNodeStyle();return it.h("g",{transform:"matrix(1 0 0 1 "+(f-d/2)+" "+(o-h/2)+")"},it.h("polygon",mp(mp({},g),{x:f,y:o,points:m})),it.h("path",mp({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},g)))},u.extendKey="ExclusiveGatewayNode",u}(it.PolygonNode),t8={type:"bpmn:exclusiveGateway",view:e8,model:Q4},iE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),cy=function(){return cy=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},cy.apply(this,arguments)},n8=function(i){iE(u,i);function u(a,f){var o=this;return a.id||(a.id="Activity_"+Al()),o=i.call(this,a,f)||this,o}return u.extendKey="UserTaskModel",u}(it.RectNodeModel),r8=function(i){iE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return it.h("svg",{x:f-d/2+5,y:o-h/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},it.h("path",{fill:m.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},u.prototype.getShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return it.h("g",{},[it.h("rect",cy(cy({},g),{x:f-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h})),this.getLabelShape()])},u.extendKey="UserTaskNode",u}(it.RectNode),o8={type:"bpmn:userTask",view:r8,model:n8},aE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),em=function(){return em=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},em.apply(this,arguments)},i8=function(i){aE(u,i);function u(a,f){var o=this;return a.id||(a.id="Activity_"+Al()),o=i.call(this,a,f)||this,o}return u.extendKey="ServiceTaskModel",u}(it.RectNodeModel),a8=function(i){aE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getLabelShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.getNodeStyle();return it.h("svg",{x:f-d/2+5,y:o-h/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},it.h("path",{fill:m.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},u.prototype.getShape=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.radius,g=a.getNodeStyle();return it.h("g",{},[it.h("rect",em({x:f-d/2,y:o-h/2,rx:m,ry:m,width:d,height:h},g)),this.getLabelShape()])},u.extendKey="ServiceTaskNode",u}(it.RectNode),u8={type:"bpmn:serviceTask",view:a8,model:i8},uE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),c8=function(i){uE(u,i);function u(a,f){var o=this;return a.id||(a.id="Flow_"+Al()),o=i.call(this,a,f)||this,o}return u.extendKey="SequenceFlowModel",u}(it.PolylineEdgeModel),s8=function(i){uE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.extendKey="SequenceFlowEdge",u}(it.PolylineEdge),l8={type:"bpmn:sequenceFlow",view:s8,model:c8},gO={width:40,height:40},bO={width:40,height:40},mO={width:40,height:40},_O={width:100,height:80},OO={width:100,height:80},f8={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},p8=function(){function i(u){var a=u.lf;a.setTheme(f8),a.register(K4),a.register(J4),a.register(t8),a.register(o8),a.register(u8),a.options.customBpmnEdge||(a.register(l8),a.setDefaultEdgeType("bpmn:sequenceFlow"))}return i.pluginName="bpmnElement",i}(),d8=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var f=Math.random()*16|0,o=a==="x"?f:f&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),h8=(globalThis==null?void 0:globalThis._ids)||new d8;function wO(){return h8.next()}function cE(i){return Object.prototype.toString.call(i)}function y8(i){return"  ".repeat(i)}function sy(i){var u=i;return cE(i)==="[object Object]"?(u={},Object.keys(i).forEach(function(a){var f=a;a.charAt(0)==="-"&&(f=a.substring(1)),u[f]=sy(i[a])})):Array.isArray(i)&&(u=[],i.forEach(function(a,f){u[f]=sy(a)})),u}function v8(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(sy(i)).replace(/"/g,"'")}return u}var fl=`	
`;function ey(i,u,a){var f=y8(a),o="";if(u==="#text")return fl+f+i;if(u==="#cdata-section")return fl+f+"<![CDATA["+i+"]]>";if(u==="#comment")return fl+f+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+v8(i)+'"';if(Array.isArray(i))i.forEach(function(g){o+=ey(g,u,a+1)});else if(cE(i)==="[object Object]"){var d=Object.keys(i),h="",m="";o+=(a===0?"":fl+f)+"<"+u,d.forEach(function(g){g.charAt(0)==="-"?h+=ey(i[g],g,a+1):m+=ey(i[g],g,a+1)}),o+=h+(m!==""?">"+m+(fl+f)+"</"+u+">":" />")}else o+=fl+f+("<"+u+">"+i.toString()+"</"+u+">");return o}function g8(i){var u="";for(var a in i)u+=ey(i[a],a,0);return u}var ao=function(){};ao.ObjTree=function(){return this};ao.ObjTree.VERSION="0.23";ao.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;ao.ObjTree.prototype.attr_prefix="-";ao.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,f=a.parseFromString(i,"application/xml");if(!f)return;u=f.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u)return this.parseDOM(u)};ao.ObjTree.prototype.parseHTTP=function(i,u,a){var f={};for(var o in u)f[o]=u[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),a){f.asynchronous=!0;var d=this,h=a,m=f.onComplete;f.onComplete=function(P){var j;P&&P.responseXML&&P.responseXML.documentElement&&(j=d.parseDOM(P.responseXML.documentElement)),h(j,P),m&&m(P)}}else f.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=i;var E=new HTTP.Request(f);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,f);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};ao.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!=11){var f={};f[i.nodeName]=a,a=f}return a}};ao.ObjTree.prototype.parseElement=function(i){if(i.nodeType!=7){if(i.nodeType==3||i.nodeType==4||i.nodeType==8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,f={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h&&(d=this.attr_prefix+d,typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g==3||g==4||g==8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}}else a===null&&(a={});return a}};ao.ObjTree.prototype.addNode=function(i,u,a,f){this.__force_array[u]?(a==1&&(i[u]=[]),i[u][i[u].length]=f):a==1?i[u]=f:a==2?i[u]=[i[u],f]:i[u][i[u].length]=f};ao.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};ao.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],f=[];for(var o in u)if(u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!=this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor==Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=f.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};ao.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],f=0;f<u.length;f++){var o=u[f];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};ao.ObjTree.prototype.scalar_to_xml=function(i,u){return i=="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};ao.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var b8=function(i){return new ao.ObjTree().parseXML(i)},m8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),tm=function(){return tm=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},tm.apply(this,arguments)},Dy=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},pa;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow"})(pa||(pa={}));var sE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],xO=["properties","startPoint","endPoint","pointsList"];function EO(i){var u=i?xO.concat(i):xO;return function(a){function f(o){var d={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(h){return f(h)}):(Object.entries(o).forEach(function(h){var m=Dy(h,2),g=m[0],E=m[1];typeof E!="object"?g.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(g)?d[g]=E:d["-"+g]=E:u.includes(g)?d["-"+g]=f(E):d[g]=f(E)}),d)}return f(a)}}function ly(i){var u={};return Object.entries(i).forEach(function(a){var f=Dy(a,2),o=f[0],d=f[1];o.indexOf("-")===0?u[o.substring(1)]=sy(d):typeof d=="string"?u[o]=d:Object.prototype.toString.call(d)==="[object Object]"?u[o]=ly(d):Array.isArray(d)?u[o]=d.map(function(h){return ly(h)}):u[o]=d}),u}function _8(i,u,a){var f=new Map;u.nodes.forEach(function(d){var h,m={"-id":d.id};if(!((h=d.text)===null||h===void 0)&&h.value&&(m["-name"]=d.text.value),d.properties){var g=EO(a)(d.properties);Object.assign(m,g)}f.set(d.id,m),i[d.type]?Array.isArray(i[d.type])?i[d.type].push(m):i[d.type]=[i[d.type],m]:i[d.type]=m});var o=u.edges.map(function(d){var h,m,g=f.get(d.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(d.id):g["bpmn:incoming"]=[g["bpmn:incoming"],d.id]:g["bpmn:incoming"]=d.id;var E={"-id":d.id,"-sourceRef":d.sourceNodeId,"-targetRef":d.targetNodeId};if(!((h=d.text)===null||h===void 0)&&h.value&&(E["-name"]=(m=d.text)===null||m===void 0?void 0:m.value),d.properties){var P=EO(a)(d.properties);Object.assign(E,P)}return E});u.edges.forEach(function(d){var h=f.get(d.sourceNodeId);h["bpmn:outgoing"]?Array.isArray(h["bpmn:outgoing"])?h["bpmn:outgoing"].push(d.id):h["bpmn:outgoing"]=[h["bpmn:outgoing"],d.id]:h["bpmn:outgoing"]=d.id}),i[pa.FLOW]=o}function O8(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var f,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((f=a.text)===null||f===void 0)&&f.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var f,o=a.id,d=100,h=80,m=a.x,g=a.y,E=Cu.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var P={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((f=a.text)===null||f===void 0)&&f.value&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),P})}function w8(i){var u=[],a=[],f=i["bpmn:definitions"];if(f){var o=f["bpmn:process"];Object.keys(o).forEach(function(d){if(d.indexOf("bpmn:")===0){var h=o[d];if(d===pa.FLOW){var m=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=E8(h,m)}else{var g=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];u=u.concat(x8(h,g,d))}}})}return{nodes:u,edges:a}}function x8(i,u,a){var f=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=SO(m,a,h);f.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=SO(o,a,i);f.push(d)}return f}function SO(i,u,a){var f=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-name"],h=Cu.shapeConfigMap.get(u);h&&(f+=h.width/2,o+=h.height/2);var m;Object.entries(a).forEach(function(j){var k=Dy(j,2),T=k[0],C=k[1];sE.indexOf(T)===-1&&(m||(m={}),m[T]=C)}),m&&(m=ly(m));var g;if(d&&(g={x:f,y:o,value:d},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=i["bpmndi:BPMNLabel"]["dc:Bounds"];g.x=Number(E["-x"])+Number(E["-width"])/2,g.y=Number(E["-y"])+Number(E["-height"])/2}var P={id:i["-bpmnElement"],type:u,x:f,y:o,properties:m};return g&&(P.text=g),P}function E8(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(jO(d,o))});else{var f=void 0;Array.isArray(u)?f=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):f=u,a.push(jO(f,i))}return a}function jO(i,u){var a,f=u["-name"];if(f){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;f.split(`
`).forEach(function(g){d<g.length&&(d=g.length)}),a={value:f,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h;Object.entries(u).forEach(function(g){var E=Dy(g,2),P=E[0],j=E[1];sE.indexOf(P)===-1&&(h||(h={}),h[P]=j)}),h&&(h=ly(h));var m={id:u["-id"],type:pa.FLOW,pointsList:i["di:waypoint"].map(function(g){return{x:Number(g["-x"]),y:Number(g["-y"])}}),sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(m.text=a),m}var Cu=function(){function i(u){var a=this,f=u.lf;this.adapterOut=function(o,d){var h=tm({},a.processAttributes);_8(h,o,d);var m={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};O8(m,o);var g=a.definitionAttributes;g["bpmn:process"]=h,g["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":m};var E={"bpmn:definitions":g};return E},this.adapterIn=function(o){if(o)return w8(o)},f.adapterIn=function(o){return a.adapterIn(o)},f.adapterOut=function(o,d){return a.adapterOut(o,d)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+wO()},this.definitionAttributes={"-id":"Definitions_"+wO(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();Cu.shapeConfigMap.set(pa.START,{width:gO.width,height:gO.height});Cu.shapeConfigMap.set(pa.END,{width:bO.width,height:bO.height});Cu.shapeConfigMap.set(pa.GATEWAY,{width:mO.width,height:mO.height});Cu.shapeConfigMap.set(pa.SYSTEM,{width:_O.width,height:_O.height});Cu.shapeConfigMap.set(pa.USER,{width:OO.width,height:OO.height});(function(i){m8(u,i);function u(a){var f=i.call(this,a)||this;f.adapterXmlIn=function(d){var h=b8(d);return f.adapterIn(h)},f.adapterXmlOut=function(d,h){var m=f.adapterOut(d,h);return g8(m)};var o=a.lf;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f}return u.pluginName="bpmnXmlAdapter",u})(Cu);var S8=function(){function i(){globalThis._ids=this,this._ids=new Set}return i.prototype.generateId=function(){var u="xxxxxxx".replace(/[x]/g,function(a){var f=Math.random()*16|0,o=a==="x"?f:f&3|8;return o.toString(16)});return u},i.prototype.next=function(){for(var u=this.generateId();this._ids.has(u);)u=this.generateId();return this._ids.add(u),u},i}(),j8=(globalThis==null?void 0:globalThis._ids)||new S8;function P8(){return j8.next()}it.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),it.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),it.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});it.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});it.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var Xm,ur,lE,Fc,PO,fE,nm,rm={},pE=[],A8=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ym=Array.isArray;function Au(i,u){for(var a in u)i[a]=u[a];return i}function dE(i){var u=i.parentNode;u&&u.removeChild(i)}function _p(i,u,a){var f,o,d,h={};for(d in u)d=="key"?f=u[d]:d=="ref"?o=u[d]:h[d]=u[d];if(arguments.length>2&&(h.children=arguments.length>3?Xm.call(arguments,2):a),typeof i=="function"&&i.defaultProps!=null)for(d in i.defaultProps)h[d]===void 0&&(h[d]=i.defaultProps[d]);return ty(i,h,f,o,null)}function ty(i,u,a,f,o){var d={type:i,props:u,key:a,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o==null?++lE:o,__i:-1,__u:0};return o==null&&ur.vnode!=null&&ur.vnode(d),d}function Vm(i){return i.children}function vl(i,u){this.props=i,this.context=u}function Uc(i,u){if(u==null)return i.__?Uc(i.__,i.__i+1):null;for(var a;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null)return a.__e;return typeof i.type=="function"?Uc(i):null}function hE(i){var u,a;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,u=0;u<i.__k.length;u++)if((a=i.__k[u])!=null&&a.__e!=null){i.__e=i.__c.base=a.__e;break}return hE(i)}}function AO(i){(!i.__d&&(i.__d=!0)&&Fc.push(i)&&!fy.__r++||PO!==ur.debounceRendering)&&((PO=ur.debounceRendering)||fE)(fy)}function fy(){var i,u,a,f,o,d,h,m,g;for(Fc.sort(nm);i=Fc.shift();)i.__d&&(u=Fc.length,f=void 0,d=(o=(a=i).__v).__e,m=[],g=[],(h=a.__P)&&((f=Au({},o)).__v=o.__v+1,ur.vnode&&ur.vnode(f),gE(h,f,o,a.__n,h.ownerSVGElement!==void 0,32&o.__u?[d]:null,m,d==null?Uc(o):d,!!(32&o.__u),g),f.__v=o.__v,f.__.__k[f.__i]=f,k8(m,f,g),f.__e!=d&&hE(f)),Fc.length>u&&Fc.sort(nm));fy.__r=0}function yE(i,u,a,f,o,d,h,m,g,E,P){var j,k,T,C,N,I=f&&f.__k||pE,U=u.length;for(a.__d=g,M8(a,u,I),g=a.__d,j=0;j<U;j++)(T=a.__k[j])!=null&&typeof T!="boolean"&&typeof T!="function"&&(k=T.__i===-1?rm:I[T.__i]||rm,T.__i=j,gE(i,T,k,o,d,h,m,g,E,P),C=T.__e,T.ref&&k.ref!=T.ref&&(k.ref&&Km(k.ref,null,T),P.push(T.ref,T.__c||C,T)),N==null&&C!=null&&(N=C),65536&T.__u||k.__k===T.__k?(C||k.__e!=g||(g=Uc(k)),g=vE(T,g,i)):typeof T.type=="function"&&T.__d!==void 0?g=T.__d:C&&(g=C.nextSibling),T.__d=void 0,T.__u&=-196609);a.__d=g,a.__e=N}function M8(i,u,a){var f,o,d,h,m,g=u.length,E=a.length,P=E,j=0;for(i.__k=[],f=0;f<g;f++)h=f+j,(o=i.__k[f]=(o=u[f])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?ty(null,o,null,null,null):Ym(o)?ty(Vm,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?ty(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=i,o.__b=i.__b+1,m=T8(o,a,h,P),o.__i=m,d=null,m!==-1&&(P--,(d=a[m])&&(d.__u|=131072)),d==null||d.__v===null?(m==-1&&j--,typeof o.type!="function"&&(o.__u|=65536)):m!==h&&(m===h+1?j++:m>h?P>g-h?j+=m-h:j--:m<h?m==h-1&&(j=m-h):j=0,m!==f+j&&(o.__u|=65536))):(d=a[h])&&d.key==null&&d.__e&&!(131072&d.__u)&&(d.__e==i.__d&&(i.__d=Uc(d)),om(d,d,!1),a[h]=null,P--);if(P)for(f=0;f<E;f++)(d=a[f])!=null&&!(131072&d.__u)&&(d.__e==i.__d&&(i.__d=Uc(d)),om(d,d))}function vE(i,u,a){var f,o;if(typeof i.type=="function"){for(f=i.__k,o=0;f&&o<f.length;o++)f[o]&&(f[o].__=i,u=vE(f[o],u,a));return u}i.__e!=u&&(a.insertBefore(i.__e,u||null),u=i.__e);do u=u&&u.nextSibling;while(u!=null&&u.nodeType===8);return u}function T8(i,u,a,f){var o=i.key,d=i.type,h=a-1,m=a+1,g=u[a];if(g===null||g&&o==g.key&&d===g.type&&!(131072&g.__u))return a;if(f>(g!=null&&!(131072&g.__u)?1:0))for(;h>=0||m<u.length;){if(h>=0){if((g=u[h])&&!(131072&g.__u)&&o==g.key&&d===g.type)return h;h--}if(m<u.length){if((g=u[m])&&!(131072&g.__u)&&o==g.key&&d===g.type)return m;m++}}return-1}function MO(i,u,a){u[0]==="-"?i.setProperty(u,a==null?"":a):i[u]=a==null?"":typeof a!="number"||A8.test(u)?a:a+"px"}function Zh(i,u,a,f,o){var d;e:if(u==="style")if(typeof a=="string")i.style.cssText=a;else{if(typeof f=="string"&&(i.style.cssText=f=""),f)for(u in f)a&&u in a||MO(i.style,u,"");if(a)for(u in a)f&&a[u]===f[u]||MO(i.style,u,a[u])}else if(u[0]==="o"&&u[1]==="n")d=u!==(u=u.replace(/(PointerCapture)$|Capture$/i,"$1")),u=u.toLowerCase()in i||u==="onFocusOut"||u==="onFocusIn"?u.toLowerCase().slice(2):u.slice(2),i.l||(i.l={}),i.l[u+d]=a,a?f?a.u=f.u:(a.u=Date.now(),i.addEventListener(u,d?kO:TO,d)):i.removeEventListener(u,d?kO:TO,d);else{if(o)u=u.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(u!=="width"&&u!=="height"&&u!=="href"&&u!=="list"&&u!=="form"&&u!=="tabIndex"&&u!=="download"&&u!=="rowSpan"&&u!=="colSpan"&&u!=="role"&&u in i)try{i[u]=a==null?"":a;break e}catch(h){}typeof a=="function"||(a==null||a===!1&&u[4]!=="-"?i.removeAttribute(u):i.setAttribute(u,a))}}function TO(i){if(this.l){var u=this.l[i.type+!1];if(i.t){if(i.t<=u.u)return}else i.t=Date.now();return u(ur.event?ur.event(i):i)}}function kO(i){if(this.l)return this.l[i.type+!0](ur.event?ur.event(i):i)}function gE(i,u,a,f,o,d,h,m,g,E){var P,j,k,T,C,N,I,U,G,te,ae,ie,Q,ee,V,z=u.type;if(u.constructor!==void 0)return null;128&a.__u&&(g=!!(32&a.__u),d=[m=u.__e=a.__e]),(P=ur.__b)&&P(u);e:if(typeof z=="function")try{if(U=u.props,G=(P=z.contextType)&&f[P.__c],te=P?G?G.props.value:P.__:f,a.__c?I=(j=u.__c=a.__c).__=j.__E:("prototype"in z&&z.prototype.render?u.__c=j=new z(U,te):(u.__c=j=new vl(U,te),j.constructor=z,j.render=N8),G&&G.sub(j),j.props=U,j.state||(j.state={}),j.context=te,j.__n=f,k=j.__d=!0,j.__h=[],j._sb=[]),j.__s==null&&(j.__s=j.state),z.getDerivedStateFromProps!=null&&(j.__s==j.state&&(j.__s=Au({},j.__s)),Au(j.__s,z.getDerivedStateFromProps(U,j.__s))),T=j.props,C=j.state,j.__v=u,k)z.getDerivedStateFromProps==null&&j.componentWillMount!=null&&j.componentWillMount(),j.componentDidMount!=null&&j.__h.push(j.componentDidMount);else{if(z.getDerivedStateFromProps==null&&U!==T&&j.componentWillReceiveProps!=null&&j.componentWillReceiveProps(U,te),!j.__e&&(j.shouldComponentUpdate!=null&&j.shouldComponentUpdate(U,j.__s,te)===!1||u.__v===a.__v)){for(u.__v!==a.__v&&(j.props=U,j.state=j.__s,j.__d=!1),u.__e=a.__e,u.__k=a.__k,u.__k.forEach(function(H){H&&(H.__=u)}),ae=0;ae<j._sb.length;ae++)j.__h.push(j._sb[ae]);j._sb=[],j.__h.length&&h.push(j);break e}j.componentWillUpdate!=null&&j.componentWillUpdate(U,j.__s,te),j.componentDidUpdate!=null&&j.__h.push(function(){j.componentDidUpdate(T,C,N)})}if(j.context=te,j.props=U,j.__P=i,j.__e=!1,ie=ur.__r,Q=0,"prototype"in z&&z.prototype.render){for(j.state=j.__s,j.__d=!1,ie&&ie(u),P=j.render(j.props,j.state,j.context),ee=0;ee<j._sb.length;ee++)j.__h.push(j._sb[ee]);j._sb=[]}else do j.__d=!1,ie&&ie(u),P=j.render(j.props,j.state,j.context),j.state=j.__s;while(j.__d&&++Q<25);j.state=j.__s,j.getChildContext!=null&&(f=Au(Au({},f),j.getChildContext())),k||j.getSnapshotBeforeUpdate==null||(N=j.getSnapshotBeforeUpdate(T,C)),yE(i,Ym(V=P!=null&&P.type===Vm&&P.key==null?P.props.children:P)?V:[V],u,a,f,o,d,h,m,g,E),j.base=u.__e,u.__u&=-161,j.__h.length&&h.push(j),I&&(j.__E=j.__=null)}catch(H){u.__v=null,g||d!=null?(u.__e=m,u.__u|=g?160:32,d[d.indexOf(m)]=null):(u.__e=a.__e,u.__k=a.__k),ur.__e(H,u,a)}else d==null&&u.__v===a.__v?(u.__k=a.__k,u.__e=a.__e):u.__e=D8(a.__e,u,a,f,o,d,h,g,E);(P=ur.diffed)&&P(u)}function k8(i,u,a){u.__d=void 0;for(var f=0;f<a.length;f++)Km(a[f],a[++f],a[++f]);ur.__c&&ur.__c(u,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(d){d.call(o)})}catch(d){ur.__e(d,o.__v)}})}function D8(i,u,a,f,o,d,h,m,g){var E,P,j,k,T,C,N,I=a.props,U=u.props,G=u.type;if(G==="svg"&&(o=!0),d!=null){for(E=0;E<d.length;E++)if((T=d[E])&&"setAttribute"in T==!!G&&(G?T.localName===G:T.nodeType===3)){i=T,d[E]=null;break}}if(i==null){if(G===null)return document.createTextNode(U);i=o?document.createElementNS("http://www.w3.org/2000/svg",G):document.createElement(G,U.is&&U),d=null,m=!1}if(G===null)I===U||m&&i.data===U||(i.data=U);else{if(d=d&&Xm.call(i.childNodes),I=a.props||rm,!m&&d!=null)for(I={},E=0;E<i.attributes.length;E++)I[(T=i.attributes[E]).name]=T.value;for(E in I)T=I[E],E=="children"||(E=="dangerouslySetInnerHTML"?j=T:E==="key"||E in U||Zh(i,E,null,T,o));for(E in U)T=U[E],E=="children"?k=T:E=="dangerouslySetInnerHTML"?P=T:E=="value"?C=T:E=="checked"?N=T:E==="key"||m&&typeof T!="function"||I[E]===T||Zh(i,E,T,I[E],o);if(P)m||j&&(P.__html===j.__html||P.__html===i.innerHTML)||(i.innerHTML=P.__html),u.__k=[];else if(j&&(i.innerHTML=""),yE(i,Ym(k)?k:[k],u,a,f,o&&G!=="foreignObject",d,h,d?d[0]:a.__k&&Uc(a,0),m,g),d!=null)for(E=d.length;E--;)d[E]!=null&&dE(d[E]);m||(E="value",C!==void 0&&(C!==i[E]||G==="progress"&&!C||G==="option"&&C!==I[E])&&Zh(i,E,C,I[E],!1),E="checked",N!==void 0&&N!==i[E]&&Zh(i,E,N,I[E],!1))}return i}function Km(i,u,a){try{typeof i=="function"?i(u):i.current=u}catch(f){ur.__e(f,a)}}function om(i,u,a){var f,o;if(ur.unmount&&ur.unmount(i),(f=i.ref)&&(f.current&&f.current!==i.__e||Km(f,null,u)),(f=i.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(d){ur.__e(d,u)}f.base=f.__P=null,i.__c=void 0}if(f=i.__k)for(o=0;o<f.length;o++)f[o]&&om(f[o],u,a||typeof i.type!="function");a||i.__e==null||dE(i.__e),i.__=i.__e=i.__d=void 0}function N8(i,u,a){return this.constructor(i,a)}Xm=pE.slice,ur={__e:function(i,u,a,f){for(var o,d,h;u=u.__;)if((o=u.__c)&&!o.__)try{if((d=o.constructor)&&d.getDerivedStateFromError!=null&&(o.setState(d.getDerivedStateFromError(i)),h=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(i,f||{}),h=o.__d),h)return o.__E=o}catch(m){i=m}throw i}},lE=0,vl.prototype.setState=function(i,u){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Au({},this.state),typeof i=="function"&&(i=i(Au({},a),this.props)),i&&Au(a,i),i!=null&&this.__v&&(u&&this._sb.push(u),AO(this))},vl.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),AO(this))},vl.prototype.render=Vm,Fc=[],fE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nm=function(i,u){return i.__v.__b-u.__v.__b},fy.__r=0;var Op=function(){return Op=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},Op.apply(this,arguments)};function qm(i){var u=i.x,a=i.y,f=i.width,o=i.height,d=i.radius,h=i.className,m=u-f/2,g=a-o/2,E=Op(Op({width:10,height:10,cx:0,cy:0,rx:d||0,ry:d||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h},i),{x:m,y:g});return it.h("rect",Op({},E))}qm.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var dl;(function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.HTML_NODE="html-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"})(dl||(dl={}));var R8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),$c=function(){return $c=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},$c.apply(this,arguments)},C8=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},I8=it.LogicFlowUtil.StepDrag,L8=function(i){R8(u,i);function u(a){var f=i.call(this)||this;return f.updatePosition=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel,g=m.x,E=m.y;f.nodeModel.x=g+d/2,f.nodeModel.y=E+h/2,f.nodeModel.moveText(d/2,h/2)},f.getResize=function(o){var d=o.index,h=o.deltaX,m=o.deltaY,g=o.width,E=o.height,P=o.PCTResizeInfo,j=o.pct,k=j===void 0?1:j,T={width:g,height:E,deltaX:h,deltaY:m};if(P){var C=4,N=0,I=0;switch(d){case 0:I=(h*-1-m)/C;break;case 1:I=(h-m)/C;break;case 2:I=(h+m)/C;break;case 3:I=(h*-1+m)/C;break}I!==0&&(N=Math.round(I/P.ResizeBasis.basisHeight*1e5)/1e3),P.ResizePCT.widthPCT=Math.max(Math.min(P.ResizePCT.widthPCT+N,P.ScaleLimit.maxScaleLimit),P.ScaleLimit.minScaleLimit),P.ResizePCT.hightPCT=Math.max(Math.min(P.ResizePCT.hightPCT+N,P.ScaleLimit.maxScaleLimit),P.ScaleLimit.minScaleLimit);var U=Math.round(P.ResizePCT.widthPCT*P.ResizeBasis.basisWidth/100),G=Math.round(P.ResizePCT.hightPCT*P.ResizeBasis.basisHeight/100);switch(d){case 0:h=g-U,m=E-G;break;case 1:h=U-g,m=E-G;break;case 2:h=U-g,m=G-E;break;case 3:h=g-U,m=G-E;break}return T.width=U,T.height=G,T.deltaX=h/k,T.deltaY=m/k,T}switch(d){case 0:T.width=g-h*k,T.height=E-m*k;break;case 1:T.width=g+h*k,T.height=E-m*k;break;case 2:T.width=g+h*k,T.height=E+m*k;break;case 3:T.width=g-h*k,T.height=E+m*k;break}return T},f.updateEdgePointByAnchors=function(){var o=f.nodeModel,d=o.id,h=o.anchors,m=f.getNodeEdges(d);m.sourceEdges.forEach(function(g){var E=h.find(function(P){return P.id===g.sourceAnchorId});g.updateStartPoint({x:E.x,y:E.y})}),m.targetEdges.forEach(function(g){var E=h.find(function(P){return P.id===g.targetAnchorId});g.updateEndPoint({x:E.x,y:E.y})})},f.updateRect=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel,g=m.id,E=m.x,P=m.y,j=m.width,k=m.height,T=m.radius,C=m.PCTResizeInfo,N=f.index,I=f.getResize({index:N,deltaX:d,deltaY:h,width:j,height:k,PCTResizeInfo:C,pct:1}),U=f.nodeModel,G=U.minWidth,te=U.minHeight,ae=U.maxWidth,ie=U.maxHeight;if(I.width<G||I.width>ae||I.height<te||I.height>ie){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),f.nodeModel.width=I.width,f.nodeModel.height=I.height,f.nodeModel.setProperties({nodeSize:{width:I.width,height:I.height}}),f.getNodeEdges(g);var Q={x:E,y:P,width:j,height:k,radius:T},ee={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:T};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Q,afterNode:ee})},f.updateEllipse=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel,g=m.id,E=m.rx,P=m.ry,j=m.x,k=m.y,T=m.PCTResizeInfo,C=f.index,N=E,I=P,U=f.getResize({index:C,deltaX:d,deltaY:h,width:N,height:I,PCTResizeInfo:T,pct:1/2}),G=f.nodeModel,te=G.minWidth,ae=G.minHeight,ie=G.maxWidth,Q=G.maxHeight;if(U.width<te/2||U.width>ie/2||U.height<ae/2||U.height>Q/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:U.deltaX,deltaY:U.deltaY}),f.nodeModel.rx=U.width,f.nodeModel.ry=U.height,f.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}}),f.getNodeEdges(g);var ee={x:j,y:k},V={rx:U.width,ry:U.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:$c($c({},ee),{rx:E,ry:P}),afterNode:V})},f.updateDiamond=function(o){var d=o.deltaX,h=o.deltaY,m=f.nodeModel;m.id;var g=m.rx,E=m.ry,P=m.x,j=m.y,k=m.PCTResizeInfo,T=f.index,C=g,N=E,I=f.getResize({index:T,deltaX:d,deltaY:h,width:C,height:N,PCTResizeInfo:k,pct:1/2}),U=f.nodeModel,G=U.minWidth,te=U.minHeight,ae=U.maxWidth,ie=U.maxHeight;if(I.width<G/2||I.width>ae/2||I.height<te/2||I.height>ie/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),f.nodeModel.rx=I.width,f.nodeModel.ry=I.height,f.nodeModel.setProperties({nodeSize:{rx:I.width,ry:I.height}});var Q={x:P,y:j,rx:g,ry:E},ee={rx:I.width,ry:I.height,x:f.nodeModel.x,y:f.nodeModel.y};f.updateEdgePointByAnchors(),f.eventEmit({beforeNode:Q,afterNode:ee})},f.eventEmit=function(o){var d=o.beforeNode,h=o.afterNode,m=f.nodeModel,g=m.id,E=m.modelType,P=m.type,j=$c({id:g,modelType:E,type:P},d),k=$c({id:g,modelType:E,type:P},h);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:j,newNodeSize:k})},f.onDragging=function(o){var d,h=o.deltaX,m=o.deltaY,g=f.graphModel.transformModel,E=f.nodeModel.modelType;d=C8(g.fixDeltaXY(h,m),2),h=d[0],m=d[1],E===dl.RECT_NODE||E===dl.HTML_NODE?f.updateRect({deltaX:h,deltaY:m}):E===dl.ELLIPSE_NODE?f.updateEllipse({deltaX:h,deltaY:m}):E===dl.DIAMOND_NODE&&f.updateDiamond({deltaX:h,deltaY:m})},f.onDragEnd=function(){f.updateEdgePointByAnchors();var o=f.graphModel.gridSize,d=o===void 0?1:o,h=d*Math.round(f.nodeModel.x/d),m=d*Math.round(f.nodeModel.y/d);f.nodeModel.moveTo(h,m)},f.index=a.index,f.nodeModel=a.model,f.graphModel=a.graphModel,f.state={},f.dragHandler=new I8({onDragging:f.onDragging,onDragEnd:f.onDragEnd,step:1}),f}return u.prototype.getNodeEdges=function(a){for(var f=this.graphModel,o=f.edges,d=[],h=[],m=0;m<o.length;m++){var g=o[m];g.sourceNodeId===a?d.push(g):o[m].targetNodeId===a&&h.push(g)}return{sourceEdges:d,targetEdges:h}},u.prototype.render=function(){var a=this.props,f=a.x,o=a.y,d=a.index,h=a.model,m=h.getControlPointStyle();return _p("g",{className:"lf-resize-control-"+d},_p(qm,$c({className:"lf-node-control"},{x:f,y:o},m,{onMouseDown:this.dragHandler.handleMouseDown})))},u}(vl),B8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),py=function(){return py=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},py.apply(this,arguments)},Ny=function(i){B8(u,i);function u(){var a=i.call(this)||this;return a.state={},a}return u.prototype.getResizeControl=function(){var a=this.props,f=a.model,o=a.graphModel,d=f.x,h=f.y,m=f.width,g=f.height,E={minX:d-m/2,minY:h-g/2,maxX:d+m/2,maxY:h+g/2},P=E.minX,j=E.minY,k=E.maxX,T=E.maxY,C=[{x:P,y:j},{x:k,y:j},{x:k,y:T},{x:P,y:T}];return C.map(function(N,I){return _p(L8,py({index:I},N,{model:f,graphModel:o}))})},u.prototype.getGroupSolid=function(){var a=this.props.model,f=a.x,o=a.y,d=a.width,h=a.height,m=a.getResizeOutlineStyle();return _p(qm,py({fill:"none"},m,{x:f,y:o,width:d,height:h}))},u.prototype.render=function(){return _p("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},u}(vl),bE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),z8=function(i){bE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.resize=function(a,f){console.log(a,f)},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u}(it.RectNodeModel),F8=function(i){bE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return it.h(Ny,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,f=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},u}(it.RectNode),mE={type:"rect",view:F8,model:z8},_E=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();(function(i){_E(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.EllipseNodeModel);(function(i){_E(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return it.h(Ny,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,f=a.model,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),f.isSelected&&!o?this.getControlGroup():"")},u})(it.EllipseNode);var im=function(){return im=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},im.apply(this,arguments)};function $8(i){var u=i.fillOpacity,a=u===void 0?1:u,f=i.strokeWidth,o=f===void 0?1:f,d=i.strokeOpacity,h=d===void 0?1:d,m=i.fill,g=m===void 0?"transparent":m,E=i.stroke,P=E===void 0?"#000":E,j=i.points,k=i.className,T=k===void 0?"lf-basic-shape":k,C={fill:g,fillOpacity:a,strokeWidth:o,stroke:P,strokeOpacity:h,points:"",className:T};return C.points=j.map(function(N){return N.join(",")}).join(" "),it.h("polygon",im({},C))}var OE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),am=function(){return am=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},am.apply(this,arguments)};(function(i){OE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.rx=d.rx,o.ry=d.ry),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},d={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.DiamondNodeModel);(function(i){OE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return it.h(Ny,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){var a=this.props.model,f=a.points,o=a.getNodeStyle();return it.h("g",null,it.h($8,am({},o,{points:f})))},u.prototype.getShape=function(){var a=this.props,f=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},u})(it.DiamondNode);var wE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();(function(i){wE(u,i);function u(a,f){var o=i.call(this,a,f)||this,d=o.properties.nodeSize;return d&&(o.width=d.width,o.height=d.height),o}return u.prototype.initNodeData=function(a){i.prototype.initNodeData.call(this,a),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},u.prototype.getOutlineStyle=function(){var a=i.prototype.getOutlineStyle.call(this),f=this.graphModel.editConfigModel.isSilentMode;return f||(a.stroke="none",a.hover&&(a.hover.stroke="none")),a},u.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},u.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},u.prototype.enableProportionResize=function(a){if(a===void 0&&(a=!0),a){var f={widthPCT:100,hightPCT:100},o={basisWidth:this.width,basisHeight:this.height},d={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:f,ResizeBasis:o,ScaleLimit:d}}else delete this.PCTResizeInfo},u})(it.HtmlNodeModel);(function(i){wE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props,f=a.model,o=a.graphModel;return it.h(Ny,{model:f,graphModel:o})},u.prototype.getResizeShape=function(){return i.prototype.getShape.call(this)},u.prototype.getShape=function(){var a=this.props,f=a.model.isSelected,o=a.graphModel.editConfigModel.isSilentMode;return it.h("g",null,this.getResizeShape(),f&&!o?this.getControlGroup():"")},u})(it.HtmlNode);var xE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),dy=function(){return dy=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},dy.apply(this,arguments)},W8=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},U8=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(W8(arguments[u]));return i},DO=500,NO=300,G8=-1e4;(function(i){xE(u,i);function u(){var a=i!==null&&i.apply(this,arguments)||this;return a.isGroup=!0,a.unfoldedWidth=DO,a.unfoldedHight=NO,a.childrenLastFoldStatus={},a}return u.prototype.initNodeData=function(a){var f=this;i.prototype.initNodeData.call(this,a);var o=[];Array.isArray(a.children)&&(o=a.children),this.children=new Set(o),this.width=DO,this.height=NO,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=G8,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},u.prototype.getResizeOutlineStyle=function(){var a=i.prototype.getResizeOutlineStyle.call(this);return a.stroke="none",a},u.prototype.foldGroup=function(a){var f=this;if(a!==this.isFolded){this.setProperty("isFolded",a),this.isFolded=a,a?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(d){var h=f.graphModel.getElement(d),m=h.isFolded;if(h.isGroup&&!h.isFolded&&h.foldGroup(a),h.isGroup&&!a){var g=f.childrenLastFoldStatus[d];g!==void 0&&g!==h.isFolded&&h.foldGroup(g)}f.childrenLastFoldStatus[d]=m,h.visible=!a,o=o.concat(h.incoming.edges.concat(h.outgoing.edges))}),this.foldEdge(a,o)}},u.prototype.getAnchorStyle=function(a){var f=i.prototype.getAnchorStyle.call(this,a);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},u.prototype.foldEdge=function(a,f){var o=this;f.forEach(function(d,h){var m=d.id,g=d.sourceNodeId,E=d.targetNodeId,P=d.startPoint,j=d.endPoint,k=d.type,T=d.text,C=d.getProperties(),N={id:m+"__"+h,sourceNodeId:g,targetNodeId:E,startPoint:P,endPoint:j,type:k,properties:C,text:T==null?void 0:T.value};d.virtual&&o.graphModel.deleteEdgeById(d.id);var I=o.graphModel.group.getNodeGroup(E);I||(I=o.graphModel.getNodeModelById(E));var U=o.graphModel.group.getNodeGroup(g);U||(U=o.graphModel.getNodeModelById(g)),a&&d.visible!==!1&&(o.children.has(g)||o.id===g?(N.startPoint=void 0,N.sourceNodeId=o.id):(N.endPoint=void 0,N.targetNodeId=o.id),(I.id!==o.id||U.id!==o.id)&&o.createVirtualEdge(N),d.visible=!1),!a&&d.visible===!1&&(I&&I.isGroup&&I.isFolded?(N.targetNodeId=I.id,N.endPoint=void 0,o.createVirtualEdge(N)):U&&U.isGroup&&U.isFolded?(N.sourceNodeId=U.id,N.startPoint=void 0,o.createVirtualEdge(N)):d.visible=!0)})},u.prototype.createVirtualEdge=function(a){a.pointsList=void 0;var f=this.graphModel.addEdge(a);f.virtual=!0,f.text.editable=!1,f.isFoldedEdge=!0},u.prototype.isInRange=function(a){var f=a.x1,o=a.y1,d=a.x2,h=a.y2;return f>=this.x-this.width/2&&d<=this.x+this.width/2&&o>=this.y-this.height/2&&h<=this.y+this.height/2},u.prototype.isAllowMoveTo=function(a){var f=a.x1,o=a.y1,d=a.x2,h=a.y2;return{x:f>=this.x-this.width/2&&d<=this.x+this.width/2,y:o>=this.y-this.height/2&&h<=this.y+this.height/2}},u.prototype.setAllowAppendChild=function(a){this.setProperty("groupAddable",a)},u.prototype.addChild=function(a){this.children.add(a),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},u.prototype.removeChild=function(a){this.children.delete(a),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},u.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},u.prototype.getData=function(){var a=this,f=i.prototype.getData.call(this);f.children=[],this.children.forEach(function(d){var h=a.graphModel.getNodeModelById(d);h&&!h.virtual&&f.children.push(d)});var o=f.properties;return delete o.groupAddable,delete o.isFolded,f},u.prototype.getHistoryData=function(){var a=i.prototype.getData.call(this);a.children=U8(this.children),a.isGroup=!0;var f=a.properties;return delete f.groupAddable,f.isFolded&&(a.x=a.x+this.unfoldedWidth/2-this.foldedWidth/2,a.y=a.y+this.unfoldedHight/2-this.foldedHeight/2),a},u.prototype.isAllowAppendIn=function(a){return!0},u.prototype.toBack=function(){this.zIndex--},u})(mE.model);(function(i){xE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getControlGroup=function(){var a=this.props.model,f=a.resizable,o=a.properties;return f&&!o.isFolded?i.prototype.getControlGroup.call(this):null},u.prototype.getAddableShape=function(){var a=this.props.model,f=a.width,o=a.height,d=a.x,h=a.y,m=a.radius,g=a.properties;if(!g.groupAddable)return null;var E=this.props.model.getNodeStyle().strokeWidth,P=this.props.model.getAddableOutlineStyle(),j=f+E+8,k=o+E+8;return it.h("rect",dy(dy({},P),{width:j,height:k,x:d-j/2,y:h-k/2,rx:m,ry:m}))},u.prototype.getFoldIcon=function(){var a=this.props.model,f=a.x-a.width/2+5,o=a.y-a.height/2+5;if(!a.foldable)return null;var d=it.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:a.properties.isFolded?"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" M"+(f+7)+","+(o+2)+" "+(f+7)+","+(o+10):"M "+(f+3)+","+(o+6)+" "+(f+11)+","+(o+6)+" "});return it.h("g",{},[it.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:a.x-a.width/2+5,y:a.y-a.height/2+5,onClick:function(){a.foldGroup(!a.properties.isFolded)}}),d])},u.prototype.getResizeShape=function(){return it.h("g",{},[this.getAddableShape(),i.prototype.getResizeShape.call(this),this.getFoldIcon()])},u})(mE.view);var RO=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),wp=function(){return wp=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},wp.apply(this,arguments)};function H8(i){var u=function(f){RO(o,f);function o(d,h){var m=this;d.id||(d.id="Flow_"+P8());var g=wp(wp(wp({},i||{}),d.properties),{isDefaultFlow:!1});return d.properties=g,m=f.call(this,d,h)||this,m}return o.extendKey="SequenceFlowModel",o}(it.PolylineEdgeModel),a=function(f){RO(o,f);function o(){return f!==null&&f.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var d=this.props.model,h=d.properties.isDefaultFlow;return h?it.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):it.h("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(it.PolylineEdge);return{type:"bpmn:sequenceFlow",view:a,model:u}}H8();var CO={width:40,height:40},IO={width:40,height:40},LO={width:100,height:80},hy={width:100,height:80},BO={width:100,height:80},zO={width:100,height:80},FO={width:100,height:80},$O={width:100,height:80},WO={width:100,height:80},UO={width:100,height:80},uo=function(){};uo.ObjTree=function(){return this};uo.ObjTree.VERSION="0.23";uo.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;uo.ObjTree.prototype.attr_prefix="-";uo.ObjTree.prototype.parseXML=function(i){var u;if(window.DOMParser){var a=new DOMParser,f=a.parseFromString(i,"application/xml");if(!f)return;u=f.documentElement}else window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(i),u=a.documentElement);if(u){var o=this.parseDOM(u);return o}};uo.ObjTree.prototype.parseHTTP=function(i,u,a){var f={};for(var o in u)f[o]=u[o];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),a){f.asynchronous=!0;var d=this,h=a,m=f.onComplete;f.onComplete=function(P){var j;P&&P.responseXML&&P.responseXML.documentElement&&(j=d.parseDOM(P.responseXML.documentElement)),h(j,P),m&&m(P)}}else f.asynchronous=!1;var g;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=i;var E=new HTTP.Request(f);E&&(g=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(i,f);E&&(g=E.transport)}if(a)return g;if(g&&g.responseXML&&g.responseXML.documentElement)return this.parseDOM(g.responseXML.documentElement)};uo.ObjTree.prototype.parseDOM=function(i){if(i){if(this.__force_array={},this.force_array)for(var u=0;u<this.force_array.length;u++)this.__force_array[this.force_array[u]]=1;var a=this.parseElement(i);if(this.__force_array[i.nodeName]&&(a=[a]),i.nodeType!==11){var f={};f[i.nodeName]=a,a=f}return a}};uo.ObjTree.prototype.parseElement=function(i){if(i.nodeType!==7){if(i.nodeType===3||i.nodeType===4||i.nodeType===8){var u=i.nodeValue.match(/[^\x00-\x20]/);return u==null?void 0:i.nodeValue}var a=null,f={};if(i.attributes&&i.attributes.length){a={};for(var o=0;o<i.attributes.length;o++){var d=i.attributes[o].nodeName;if(typeof d=="string"){var h=i.attributes[o].nodeValue;try{h=JSON.parse(i.attributes[o].nodeValue.replace(/'/g,'"'))}catch(E){h=i.attributes[o].nodeValue}h!=null&&(d=this.attr_prefix+d,typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}if(i.childNodes&&i.childNodes.length){var m=!0;a&&(m=!1);for(var o=0;o<i.childNodes.length&&m;o++){var g=i.childNodes[o].nodeType;g===3||g===4||g===8||(m=!1)}if(m){a||(a="");for(var o=0;o<i.childNodes.length;o++)a+=i.childNodes[o].nodeValue}else{a||(a={});for(var o=0;o<i.childNodes.length;o++){var d=i.childNodes[o].nodeName;if(typeof d=="string"){var h=this.parseElement(i.childNodes[o]);h&&(typeof f[d]=="undefined"&&(f[d]=0),f[d]++,this.addNode(a,d,f[d],h))}}}}else a===null&&(a={});return a}};uo.ObjTree.prototype.addNode=function(i,u,a,f){this.__force_array[u]?(a===1&&(i[u]=[]),i[u][i[u].length]=f):a===1?i[u]=f:a===2?i[u]=[i[u],f]:i[u][i[u].length]=f};uo.ObjTree.prototype.writeXML=function(i){var u=this.hash_to_xml(null,i);return this.xmlDecl+u};uo.ObjTree.prototype.hash_to_xml=function(i,u){var a=[],f=[];for(var o in u)if(u!=null&&u.hasOwnProperty(o)){var d=u[o];o.charAt(0)!==this.attr_prefix?typeof d=="undefined"||d==null?a[a.length]="<"+o+" />":typeof d=="object"&&d.constructor===Array?a[a.length]=this.array_to_xml(o,d):typeof d=="object"?a[a.length]=this.hash_to_xml(o,d):a[a.length]=this.scalar_to_xml(o,d):f[f.length]=" "+o.substring(1)+'="'+this.xml_escape(d)+'"'}var h=f.join(""),m=a.join("");return typeof i=="undefined"||i==null||(a.length>0?m.match(/\n/)?m="<"+i+h+`>
`+m+"</"+i+`>
`:m="<"+i+h+">"+m+"</"+i+`>
`:m="<"+i+h+` />
`),m};uo.ObjTree.prototype.array_to_xml=function(i,u){for(var a=[],f=0;f<u.length;f++){var o=u[f];typeof o=="undefined"||o==null?a[a.length]="<"+i+" />":typeof o=="object"&&o.constructor===Array?a[a.length]=this.array_to_xml(i,o):typeof o=="object"?a[a.length]=this.hash_to_xml(i,o):a[a.length]=this.scalar_to_xml(i,o)}return a.join("")};uo.ObjTree.prototype.scalar_to_xml=function(i,u){return i==="#text"?this.xml_escape(u):"<"+i+">"+this.xml_escape(u)+"</"+i+`>
`};uo.ObjTree.prototype.xml_escape=function(i){return i.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var X8=function(i){return new uo.ObjTree().parseXML(i)};function EE(i){return Object.prototype.toString.call(i)}function GO(i){return"  ".repeat(i)}function yy(i){return EE(i)==="[object Object]"?Object.keys(i).reduce(function(u,a){var f=a;return a.charAt(0)==="-"&&(f=a.substring(1)),u[f]=yy(i[a]),u},{}):Array.isArray(i)?i.map(function(u){return yy(u)}):i}function Y8(i){var u=i;try{typeof u!="string"&&(u=JSON.parse(i))}catch(a){u=JSON.stringify(yy(i)).replace(/"/g,"'")}return u}var HO=`	
`;function ny(i,u,a){var f=GO(a),o="",d=HO+f;if(u==="-json")return"";if(u==="#text")return d+i;if(u==="#cdata-section")return d+"<![CDATA["+i+"]]>";if(u==="#comment")return d+"<!--"+i+"-->";if((""+u).charAt(0)==="-")return" "+u.substring(1)+'="'+Y8(i)+'"';if(Array.isArray(i))o+=i.map(function(E){return ny(E,u,a+1)}).join("");else if(EE(i)==="[object Object]"){var h=Object.keys(i),m="",g=i["-json"]?HO+GO(a+1)+i["-json"]:"";o+=(a===0?"":d)+"<"+u,h.forEach(function(E){E.charAt(0)==="-"?m+=ny(i[E],E,a+1):g+=ny(i[E],E,a+1)}),o+=m+(g!==""?">"+g+d+"</"+u+">":" />")}else o+=d+"<"+u+">"+i.toString()+"</"+u+">";return o}function V8(i){var u="";for(var a in i)u+=ny(i[a],a,0);return u}var K8=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),um=function(){return um=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},um.apply(this,arguments)},XO=function(i,u){var a={};for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&u.indexOf(f)<0&&(a[f]=i[f]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,f=Object.getOwnPropertySymbols(i);o<f.length;o++)u.indexOf(f[o])<0&&Object.prototype.propertyIsEnumerable.call(i,f[o])&&(a[f[o]]=i[f[o]]);return a},Zm=function(i){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&i[u],f=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&f>=i.length&&(i=void 0),{value:i&&i[f++],done:!i}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},Ml=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},gl=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(Ml(arguments[u]));return i},oo;(function(i){i.START="bpmn:startEvent",i.END="bpmn:endEvent",i.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",i.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",i.BOUNDARY="bpmn:boundaryEvent",i.PARALLEL_GATEWAY="bpmn:parallelGateway",i.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",i.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",i.USER="bpmn:userTask",i.SYSTEM="bpmn:serviceTask",i.FLOW="bpmn:sequenceFlow",i.SUBPROCESS="bpmn:subProcess"})(oo||(oo={}));var SE=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],q8=["properties","startPoint","endPoint","pointsList"],vy={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},jE=function(i,u){var a=Object.keys(u||{});return a.forEach(function(f){if(i[f]){var o=u[f],d=o.in,h=o.out;d&&(i[f].in=d),h&&(i[f].out=h)}else i[f]=u[f]}),i},ti={"bpmn:startEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ti[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateCatchEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ti[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:intermediateThrowEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ti[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:boundaryEvent":{out:function(i){var u,a,f=i.properties;return((a=(u=ti[f.definitionType])===null||u===void 0?void 0:u.out)===null||a===void 0?void 0:a.call(u,i))||{}}},"bpmn:sequenceFlow":{out:function(i){var u=i.properties,a=u.expressionType,f=u.condition;return f?a==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+f+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+f+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(i){var u=i.properties,a=u.timerType,f=u.timerValue,o=u.definitionId,d=function(){return"<bpmn:"+a+' xsi:type="bpmn:tFormalExpression">'+f+"</bpmn:"+a+">"};return{json:'<bpmn:timerEventDefinition id="'+o+'"'+(a&&f?">"+d()+"</bpmn:timerEventDefinition>":"/>")}},in:function(i,u){var a,f,o,d,h=i,m=u["-id"],g="",E="";try{for(var P=Zm(Object.keys(u)),j=P.next();!j.done;j=P.next()){var k=j.value;k.includes("bpmn:")&&(o=Ml(k.split(":"),2),g=o[1],E=(d=u[k])===null||d===void 0?void 0:d["#text"])}}catch(T){a={error:T}}finally{try{j&&!j.done&&(f=P.return)&&f.call(P)}finally{if(a)throw a.error}}return{"-definitionId":m,"-definitionType":h,"-timerType":g,"-timerValue":E}}},"bpmn:conditionExpression":{in:function(i,u){var a,f="",o="";return u["#cdata-section"]?(o="cdata",f=((a=/^\$\{(.*)\}$/g.exec(u["#cdata-section"]))===null||a===void 0?void 0:a[1])||""):u["#text"]&&(o="normal",f=u["#text"]),{"-condition":f,"-expressionType":o}}}};function Z8(i){var u=i!=null?i:{},a=u.retainedAttrsFields,f=u.excludeFields,o=u.transformer,d=new Set(gl(q8,a||[])),h={in:new Set(gl(vy.in,(f==null?void 0:f.in)||[])),out:new Set(gl(vy.out,(f==null?void 0:f.out)||[]))};return ti=jE(ti,o),function(m){var g=m.nodes,E=m.edges;function P(j,k){var T,C,N;if((j==null?void 0:j.flag)!==1){var I;if((I=ti[j.type])&&I.out){var U=I.out(j),G=Object.keys(U);G.length>0&&G.forEach(function(H){j[H]=U[H]})}j!=null&&j.children&&(j.children=j.children.map(function(H){var Y=g.find(function(q){return q.id===H})||E.find(function(q){return q.id===H});return Y||{}}));var te={};if(typeof j=="string")return j;if(Array.isArray(j))return j.map(function(H){return P(H,"")}).filter(function(H){return H!=null});try{for(var ae=Zm(Object.entries(j)),ie=ae.next();!ie.done;ie=ae.next()){var Q=Ml(ie.value,2),ee=Q[0],V=Q[1];if(((N=V)===null||N===void 0?void 0:N.flag)===1)return;var z=[k,ee].filter(function(H){return H}).join(".");h.out.has(z)||(typeof V!="object"?ee.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(ee)?te[ee]=V:te["-"+ee]=V:d.has(z)?te["-"+ee]=P(V,z):te[ee]=P(V,z))}}catch(H){T={error:H}}finally{try{ie&&!ie.done&&(C=ae.return)&&C.call(ae)}finally{if(T)throw T.error}}return te}}return P(m,"")}}function gy(i){var u,a,f={};try{for(var o=Zm(Object.entries(i)),d=o.next();!d.done;d=o.next()){var h=Ml(d.value,2),m=h[0],g=h[1];m.indexOf("-")===0?f[m.substring(1)]=yy(g):typeof g=="string"?f[m]=g:Object.prototype.toString.call(g)==="[object Object]"?f[m]=gy(g):Array.isArray(g)?f[m]=g.map(function(E){return gy(E)}):f[m]=g}}catch(E){u={error:E}}finally{try{d&&!d.done&&(a=o.return)&&a.call(o)}finally{if(u)throw u.error}}return f}function J8(i,u,a){var f,o=new Map,d=Z8(a)(u);d.nodes.forEach(function(m){var g=m["-id"],E=m["-type"],P=m.text,j=m.children,k=XO(m,["-id","-type","text","children"]),T={"-id":g};P!=null&&P["-value"]&&(T["-name"]=P["-value"]),k["-json"]&&(T["-json"]=k["-json"]),k["-properties"]&&Object.assign(T,k["-properties"]),j&&(T.children=j),i[E]||(i[E]=[]),i[E].push(T),o.set(g,T)});var h=d.edges.map(function(m){var g=m["-id"];m["-type"];var E=m["-sourceNodeId"],P=m["-targetNodeId"],j=m.text,k=XO(m,["-id","-type","-sourceNodeId","-targetNodeId","text"]),T=o.get(P);T["bpmn:incoming"]||(T["bpmn:incoming"]=[]),T["bpmn:incoming"].push(g);var C={"-id":g,"-sourceRef":E,"-targetRef":P};return j!=null&&j["-value"]&&(C["-name"]=j["-value"]),k["-json"]&&(C["-json"]=k["-json"]),k["-properties"]&&Object.assign(C,k["-properties"]),C});return u.edges.forEach(function(m){var g=m.sourceNodeId,E=m.id,P=o.get(g);P["bpmn:outgoing"]||(P["bpmn:outgoing"]=[]),P["bpmn:outgoing"].push(E)}),(f=i["bpmn:subProcess"])===null||f===void 0||f.forEach(function(m){var g={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},E=[];m.children.forEach(function(N){var I,U=o.get(N["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(te){U[te]&&U[te].forEach(function(ae){g[te].add(ae)})});var G=(I=i[N["-type"]])===null||I===void 0?void 0:I.findIndex(function(te){return te["-id"]===N["-id"]});G>=0&&i[N["-type"]].splice(G,1),o.delete(N["-id"]),m[N["-type"]]||(m[N["-type"]]=[]),m[N["-type"]].push(U)});var P=g["bpmn:incoming"],j=g["bpmn:outgoing"];j.forEach(function(N){P.has(N)&&E.push(N)});for(var k=function(N){var I=h.findIndex(function(U){return U["-id"]===E[N]});I>=0?(m["bpmn:sequenceFlow"]||(m["bpmn:sequenceFlow"]=[]),m["bpmn:sequenceFlow"].push(h[I]),h.splice(I,1)):N++,T=N},T,C=0;C<E.length;)k(C),C=T;delete m.children}),i[oo.FLOW]=h,i}function Q8(i,u){i["bpmndi:BPMNEdge"]=u.edges.map(function(a){var f,o=a.id,d=a.pointsList.map(function(m){var g=m.x,E=m.y;return{"-x":g,"-y":E}}),h={"-id":o+"_di","-bpmnElement":o,"di:waypoint":d};return!((f=a.text)===null||f===void 0)&&f.value&&(h["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),h}),i["bpmndi:BPMNShape"]=u.nodes.map(function(a){var f,o=a.id,d=100,h=80,m=a.x,g=a.y,E=_o.shapeConfigMap.get(a.type);E&&(d=E.width,h=E.height),m-=d/2,g-=h/2;var P={"-id":o+"_di","-bpmnElement":o,"dc:Bounds":{"-x":m,"-y":g,"-width":d,"-height":h}};return!((f=a.text)===null||f===void 0)&&f.value&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":a.text.x-a.text.value.length*10/2,"-y":a.text.y-7,"-width":a.text.value.length*10,"-height":14}}),P})}var e5=["bpmn:incoming","bpmn:outgoing"];function t5(i,u){var a=[],f=[],o=new Map,d=u!=null?u:{},h=d.transformer,m=d.excludeFields,g={in:new Set(gl(vy.in,(m==null?void 0:m.in)||[])),out:new Set(gl(vy.out,(m==null?void 0:m.out)||[]))};ti=jE(ti,h);var E=i["bpmn:definitions"];if(E){var P=E["bpmn:process"];(function(k,T){T.forEach(function(C){try{Object.keys(k).forEach(function(N){try{C(N)}catch(I){console.error(I)}})}catch(N){console.error(N)}})})(P,[function(k){function T(N){N["-children"]||(N["-children"]=[]),Object.keys(N).forEach(function(I){var U;I.indexOf("bpmn:")===0&&!e5.includes(I)&&(P[I]||(P[I]=[]),!Array.isArray(P[I])&&(P[I]=[P[I]]),Array.isArray(N[I])?(U=P[I]).push.apply(U,gl(N[I])):P[I].push(N[I]),Array.isArray(N[I])?N[I].forEach(function(G){!I.includes("Flow")&&N["-children"].push(G["-id"])}):!I.includes("Flow")&&N["-children"].push(N[I]["-id"]),delete N[I])})}if(k==="bpmn:subProcess"){var C=P[k];Array.isArray(C)?C.forEach(function(N){k==="bpmn:subProcess"&&T(N)}):T(C)}},function(k){var T=function(N){Object.keys(N).forEach(function(I){var U,G;if(I.includes("bpmn:")){var te={};ti[I]&&ti[I].in?(te=(G=(U=ti[I]).in)===null||G===void 0?void 0:G.call(U,I,$.cloneDeep(N[I])),delete N[I]):C(N[I]);var ae=void 0;(ae=Reflect.ownKeys(te)).length>0&&ae.forEach(function(ie){Reflect.set(N,ie,te[ie])})}})};function C(N){o.set(N["-id"],N),Array.isArray(N)?N.forEach(function(I){C(I)}):typeof N=="object"&&T(N)}C(P[k])},function(k){if(k.indexOf("bpmn:")===0){var T=P[k];if(k==="bpmn:sequenceFlow"){var C=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];f=r5(T,C)}else{var N=E["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(k==="bpmn:boundaryEvent"){var I=P[k],U=function(G){var te=G["-attachedToRef"],ae=o.get(te);ae["-boundaryEvents"]||(ae["-boundaryEvents"]=[]),ae["-boundaryEvents"].push(G["-id"])};Array.isArray(I)?I.forEach(function(G){U(G)}):U(I)}a=a.concat(n5(T,N,k))}}}])}var j=function(k,T,C){Object.keys(k).forEach(function(N){var I=C?C+"."+N:N;T.has(I)?delete k[N]:typeof k[N]=="object"&&j(k[N],T,I)})};return a.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,I=k.type;N[I]&&(k.type=N[I])}j(k,g.in,"")}),f.forEach(function(k){var T,C;if(!((T=u==null?void 0:u.mapping)===null||T===void 0)&&T.in){var N=(C=u==null?void 0:u.mapping)===null||C===void 0?void 0:C.in,I=k.type;N[I]&&(k.type=N[I])}j(k,g.in,"")}),{nodes:a,edges:f}}function n5(i,u,a){var f=[];if(Array.isArray(i))i.forEach(function(h){var m;Array.isArray(u)?m=u.find(function(E){return E["-bpmnElement"]===h["-id"]}):m=u;var g=YO(m,a,h);f.push(g)});else{var o=void 0;Array.isArray(u)?o=u.find(function(h){return h["-bpmnElement"]===i["-id"]}):o=u;var d=YO(o,a,i);f.push(d)}return f}function YO(i,u,a){var f=Number(i["dc:Bounds"]["-x"]),o=Number(i["dc:Bounds"]["-y"]),d=a["-children"],h=a["-name"],m=_o.shapeConfigMap.get(u);m&&(f+=m.width/2,o+=m.height/2);var g={};Object.entries(a).forEach(function(k){var T=Ml(k,2),C=T[0],N=T[1];SE.includes(C)||(g[C]=N)}),g=gy(g);var E;if(h&&(E={x:f,y:o,value:h},i["bpmndi:BPMNLabel"]&&i["bpmndi:BPMNLabel"]["dc:Bounds"])){var P=i["bpmndi:BPMNLabel"]["dc:Bounds"];E.x=Number(P["-x"])+Number(P["-width"])/2,E.y=Number(P["-y"])+Number(P["-height"])/2}var j={id:i["-bpmnElement"],type:u,x:f,y:o,properties:g};return d&&(j.children=d),E&&(j.text=E),j}function r5(i,u){var a=[];if(Array.isArray(i))i.forEach(function(o){var d;Array.isArray(u)?d=u.find(function(h){return h["-bpmnElement"]===o["-id"]}):d=u,a.push(VO(d,o))});else{var f=void 0;Array.isArray(u)?f=u.find(function(o){return o["-bpmnElement"]===i["-id"]}):f=u,a.push(VO(f,i))}return a}function VO(i,u){var a,f=u["-name"];if(f){var o=i["bpmndi:BPMNLabel"]["dc:Bounds"],d=0;f.split(`
`).forEach(function(E){d<E.length&&(d=E.length)}),a={value:f,x:Number(o["-x"])+d*10/2,y:Number(o["-y"])+7}}var h={};Object.entries(u).forEach(function(E){var P=Ml(E,2),j=P[0],k=P[1];SE.includes(j)||(h[j]=k)}),h=gy(h);var m=i["di:waypoint"].map(function(E){return{x:Number(E["-x"]),y:Number(E["-y"])}}),g={id:u["-id"],type:oo.FLOW,pointsList:m,sourceNodeId:u["-sourceRef"],targetNodeId:u["-targetRef"],properties:h};return a&&(g.text=a),g}var _o=function(){function i(u){var a=this,f=u.lf;this.adapterOut=function(o,d){var h,m,g=um({},a.processAttributes);J8(g,o,d);var E={"-id":"BPMNPlane_1","-bpmnElement":g["-id"]};Q8(E,o);var P=a.definitionAttributes;P["bpmn:process"]=g,P["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":E};var j={"bpmn:definitions":P};if(!((h=d==null?void 0:d.mapping)===null||h===void 0)&&h.out){var k=(m=d==null?void 0:d.mapping)===null||m===void 0?void 0:m.out,T=function(C){Array.isArray(C)&&C.forEach(function(N){return T(N)}),typeof C=="object"&&Object.keys(C).forEach(function(N){var I;(I=k[N])?(C[I]=$.cloneDeep(C[N]),delete C[N],T(C[I])):T(C[N])})};T(j)}return j},this.adapterIn=function(o,d){if(o)return t5(o,d)},f.adapterIn=this.adapterIn,f.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return i.prototype.setCustomShape=function(u,a){i.shapeConfigMap.set(u,a)},i.pluginName="bpmn-adapter",i.shapeConfigMap=new Map,i}();_o.shapeConfigMap.set(oo.START,{width:CO.width,height:CO.height});_o.shapeConfigMap.set(oo.END,{width:IO.width,height:IO.height});_o.shapeConfigMap.set(oo.INTERMEDIATE_CATCH,{width:hy.width,height:hy.height});_o.shapeConfigMap.set(oo.INTERMEDIATE_THROW,{width:hy.width,height:hy.height});_o.shapeConfigMap.set(oo.BOUNDARY,{width:LO.width,height:LO.height});_o.shapeConfigMap.set(oo.PARALLEL_GATEWAY,{width:BO.width,height:BO.height});_o.shapeConfigMap.set(oo.INCLUSIVE_GATEWAY,{width:zO.width,height:zO.height});_o.shapeConfigMap.set(oo.EXCLUSIVE_GATEWAY,{width:FO.width,height:FO.height});_o.shapeConfigMap.set(oo.SYSTEM,{width:$O.width,height:$O.height});_o.shapeConfigMap.set(oo.USER,{width:WO.width,height:WO.height});_o.shapeConfigMap.set(oo.SUBPROCESS,{width:UO.width,height:UO.height});(function(i){K8(u,i);function u(a){var f=i.call(this,a)||this;f.adapterXmlIn=function(h){var m=X8(h);return f.adapterIn(m,f.props)},f.adapterXmlOut=function(h){var m=f.adapterOut(h,f.props);return V8(m)};var o=a.lf,d=a.props;return o.adapterIn=f.adapterXmlIn,o.adapterOut=f.adapterXmlOut,f.props=d,f}return u.pluginName="BPMNAdapter",u})(_o);var o5=function(){function i(u){var a=this,f=u.lf;this.lf=f,this.customCssRules="",this.useGlobalRules=!0,f.getSnapshot=function(o,d){a.getSnapshot(o,d)},f.getSnapshotBlob=function(o){return a.getSnapshotBlob(o)},f.getSnapshotBase64=function(o){return a.getSnapshotBase64(o)}}return i.prototype.getSvgRootElement=function(u){var a=u.container.querySelector(".lf-canvas-overlay");return a},i.prototype.triggerDownload=function(u){var a=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),f=document.createElement("a");f.setAttribute("download",this.fileName),f.setAttribute("href",u),f.setAttribute("target","_blank"),f.dispatchEvent(a)},i.prototype.removeAnchor=function(u){for(var a=u.childNodes,f=u.childNodes&&u.childNodes.length,o=0;o<f;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-anchor")>-1&&(u.removeChild(u.childNodes[o]),f--,o--)}},i.prototype.removeRotateControl=function(u){for(var a=u.childNodes,f=u.childNodes&&u.childNodes.length,o=0;o<f;o++){var d=a[o],h=d.classList&&Array.from(d.classList)||[];h.indexOf("lf-rotate-control")>-1&&(u.removeChild(u.childNodes[o]),f--,o--)}},i.prototype.getSnapshot=function(u,a){var f=this;this.fileName=u||"logic-flow."+Date.now()+".png";var o=this.getSvgRootElement(this.lf);this.getCanvasData(o,a).then(function(d){var h=d.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(h)})},i.prototype.getSnapshotBase64=function(u){var a=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(f,u).then(function(d){var h=d.toDataURL("image/png");o({data:h,width:d.width,height:d.height})})})},i.prototype.getSnapshotBlob=function(u){var a=this,f=this.getSvgRootElement(this.lf);return new Promise(function(o){a.getCanvasData(f,u).then(function(d){d.toBlob(function(h){o({data:h,width:d.width,height:d.height})},"image/png")})})},i.prototype.getClassRules=function(){var u="";if(this.useGlobalRules)for(var a=document.styleSheets,f=0;f<a.length;f++)for(var o=a[f],d=0;d<o.cssRules.length;d++)u+=o.cssRules[d].cssText;return this.customCssRules&&(u+=this.customCssRules),u},i.prototype.getCanvasData=function(u,a){var f=this,o=u.cloneNode(!0),d=o.lastChild,h=d.childNodes&&d.childNodes.length;if(h)for(var m=0;m<h;m++){var g=d.childNodes[m],E=g.classList&&Array.from(g.classList);if(E&&E.indexOf("lf-base")<0)d.removeChild(d.childNodes[m]),h--,m--;else{var P=d.childNodes[m];P&&P.childNodes.forEach(function(Ee){var be=Ee;f.removeAnchor(be.firstChild),f.removeRotateControl(be.firstChild)})}}var j=window.devicePixelRatio||1;j<1&&(j=1);var k=document.createElement("canvas"),T=this.lf.graphModel.rootEl.querySelector(".lf-base"),C=T.getBoundingClientRect(),N=this.lf.container.querySelector(".lf-canvas-overlay").getBoundingClientRect(),I=C.x-N.x,U=C.y-N.y,G=this.lf.graphModel,te=G.transformModel,ae=te.SCALE_X,ie=te.SCALE_Y,Q=te.TRANSLATE_X,ee=te.TRANSLATE_Y;o.lastChild.style.transform="matrix(1, 0, 0, 1, "+((-I+Q)*(1/ae)+10)+", "+((-U+ee)*(1/ie)+10)+")";var V=Math.ceil(C.width/ae),z=Math.ceil(C.height/ie);k.style.width=V+"px",k.style.height=z+"px",k.width=V*j+80,k.height=z*j+80;var H=k.getContext("2d");H.clearRect(0,0,k.width,k.height),H.scale(j,j),a?(H.fillStyle=a,H.fillRect(0,0,V*j+80,z*j+80)):H.clearRect(0,0,V,z);var Y=new Image,q=document.createElement("style");q.innerHTML=this.getClassRules();var ue=document.createElement("foreignObject");return ue.appendChild(q),o.appendChild(ue),new Promise(function(Ee){Y.onload=function(){var Fe=navigator.userAgent.indexOf("Firefox")>-1;try{Fe?createImageBitmap(Y,{resizeWidth:k.width,resizeHeight:k.height}).then(function(je){H.drawImage(je,0,0),Ee(k)}):(H.drawImage(Y,0,0),Ee(k))}catch(je){H.drawImage(Y,0,0),Ee(k)}};var be="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(o),Ae=be.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=Ae})},i.pluginName="snapshot",i}();var KO;(function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"})(KO||(KO={}));var i5=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},a5=function(){for(var i=[],u=0;u<arguments.length;u++)i=i.concat(i5(arguments[u]));return i},vp="lf:defaultNodeMenu",gp="lf:defaultEdgeMenu",bp="lf:defaultGraphMenu",qO="lf:defaultSelectionMenu",u5=function(){function i(u){var a=this,f=u.lf;this.lf=f;var o=f.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(d){a.setMenuConfig(d)},this.lf.addMenuConfig=function(d){a.addMenuConfig(d)},this.lf.setMenuByType=function(d){a.setMenuByType(d)})}return i.prototype.init=function(){var u=this,a=[{text:"删除",callback:function(d){u.lf.deleteNode(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}},{text:"复制",callback:function(d){u.lf.cloneNode(d.id)}}];this.menuTypeMap.set(vp,a);var f=[{text:"删除",callback:function(d){u.lf.deleteEdge(d.id)}},{text:"编辑文本",callback:function(d){u.lf.graphModel.editText(d.id)}}];this.menuTypeMap.set(gp,f),this.menuTypeMap.set(bp,[]);var o=[{text:"删除",callback:function(d){u.lf.clearSelectElements(),d.edges.forEach(function(h){return u.lf.deleteEdge(h.id)}),d.nodes.forEach(function(h){return u.lf.deleteNode(h.id)})}}];this.menuTypeMap.set(qO,o)},i.prototype.render=function(u,a){var f=this;u.options.isSilentMode||(this.__container=a,this.__currentData=null,this.__menuDOM.className="lf-menu",a.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var d=o.target;Array.from(d.classList).indexOf("lf-menu-item")===-1&&Array.from(d.classList).indexOf("lf-menu")===-1;)d=d.parentElement;Array.from(d.classList).indexOf("lf-menu-item")>-1?(d.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,P=g.y,j=d.id,k=f.lf.graphModel.getNodeModelById(j),T=[],C=f.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=f.menuTypeMap.get(vp),f.__currentData=d,f.showMenu(E,P,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("edge:contextmenu",function(o){var d=o.data,h=o.position,m=o.e,g=h.domOverlayPosition,E=g.x,P=g.y,j=d.id,k=f.lf.graphModel.getEdgeModelById(j),T=[],C=f.menuTypeMap.get(k.type);k&&k.menu&&Array.isArray(k.menu)?T=k.menu:C?T=C:T=f.menuTypeMap.get(gp),f.__currentData=d,f.showMenu(E,P,T,{width:k.width,height:k.height,clientX:m.clientX,clientY:m.clientY})}),this.lf.on("blank:contextmenu",function(o){var d=o.position,h=f.menuTypeMap.get(bp),m=d.domOverlayPosition,g=m.x,E=m.y;f.showMenu(g,E,h)}),this.lf.on("selection:contextmenu",function(o){var d=o.data,h=o.position,m=f.menuTypeMap.get(qO),g=h.domOverlayPosition,E=g.x,P=g.y;f.__currentData=d,f.showMenu(E,P,m)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"}))},i.prototype.destroy=function(){var u;(u=this===null||this===void 0?void 0:this.__container)===null||u===void 0||u.removeChild(this.__menuDOM),this.__menuDOM=null},i.prototype.showMenu=function(u,a,f,o){if(!(!f||!f.length)){var d=this.__menuDOM;if(d.innerHTML="",d.append.apply(d,a5(this.__getMenuDom(f))),!!d.children.length){if(d.style.display="block",!o){d.style.top=a+"px",d.style.left=u+"px";return}var h=o.width,m=o.height,g=o.clientX,E=o.clientY,P=this.lf.graphModel,j=d.offsetWidth,k=!0,T=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,C=T-g,N=P.rootEl.getBoundingClientRect(),I=N.left+N.width;I<T&&(C=I-g),C<j&&(k=!1),k?d.style.left=u+"px":d.style.left=u-h+"px";var U=d.offsetHeight,G=!0,te=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,ae=te-E,ie=N.top+N.height;ie<te&&(ae=ie-E),ae<U&&(G=!1),G?d.style.top=a+"px":d.style.top=a-m+"px"}}},i.prototype.setMenuByType=function(u){!u.type||!u.menu||this.menuTypeMap.set(u.type,u.menu)},i.prototype.__getMenuDom=function(u){var a=[];return u&&u.length>0&&u.forEach(function(f){var o=document.createElement("li");if(f.className?o.className="lf-menu-item "+f.className:o.className="lf-menu-item",f.icon===!0){var d=document.createElement("span");d.className="lf-menu-item-icon",o.appendChild(d)}var h=document.createElement("span");h.className="lf-menu-item-text",f.text&&(h.innerText=f.text),o.appendChild(h),o.onclickCallback=f.callback,a.push(o)}),a},i.prototype.setMenuConfig=function(u){u&&(u.nodeMenu!==void 0&&this.menuTypeMap.set(vp,u.nodeMenu?u.nodeMenu:[]),u.edgeMenu!==void 0&&this.menuTypeMap.set(gp,u.edgeMenu?u.edgeMenu:[]),u.graphMenu!==void 0&&this.menuTypeMap.set(bp,u.graphMenu?u.graphMenu:[]))},i.prototype.addMenuConfig=function(u){if(u){if(Array.isArray(u.nodeMenu)){var a=this.menuTypeMap.get(vp);this.menuTypeMap.set(vp,a.concat(u.nodeMenu))}if(Array.isArray(u.edgeMenu)){var a=this.menuTypeMap.get(gp);this.menuTypeMap.set(gp,a.concat(u.edgeMenu))}if(Array.isArray(u.graphMenu)){var a=this.menuTypeMap.get(bp);this.menuTypeMap.set(bp,a.concat(u.graphMenu))}}},i.prototype.changeMenuItem=function(u,a){if(u==="add")this.addMenuConfig(a);else if(u==="reset")this.setMenuConfig(a);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},i.pluginName="menu",i}(),PE=function(){var i=function(u,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,o){f.__proto__=o}||function(f,o){for(var d in o)o.hasOwnProperty(d)&&(f[d]=o[d])},i(u,a)};return function(u,a){i(u,a);function f(){this.constructor=u}u.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),hl=function(){return hl=Object.assign||function(i){for(var u,a=1,f=arguments.length;a<f;a++){u=arguments[a];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}return i},hl.apply(this,arguments)},xp=function(i,u){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var f=a.call(i),o,d=[],h;try{for(;(u===void 0||u-- >0)&&!(o=f.next()).done;)d.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(a=f.return)&&a.call(f)}finally{if(h)throw h.error}}return d},c5={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function s5(i){for(var u=i,a=1;a<u.length-1;){var f=xp(u[a-1],2),o=f[0],d=f[1],h=xp(u[a],2),m=h[0],g=h[1],E=xp(u[a+1],2),P=E[0],j=E[1];o===m&&m===P||d===g&&g===j?u.splice(a,1):a++}return u}function l5(i,u,a,f){var o=[i[0],i[1]],d=[i[0],i[1]];switch(a){case"tl":return u==="tr"?(o[1]+=f,d[0]+=f):u==="lb"&&(o[0]+=f,d[1]+=f),[o,d];case"tr":return u==="tl"?(o[1]+=f,d[0]-=f):u==="rb"&&(o[0]-=f,d[1]+=f),[o,d];case"bl":return u==="br"?(o[1]-=f,d[0]+=f):u==="lt"&&(o[0]+=f,d[1]-=f),[o,d];case"br":return u==="bl"?(o[1]-=f,d[0]-=f):u==="rt"&&(o[0]-=f,d[1]-=f),[o,d];default:return[]}}function f5(i,u,a,f){var o,d="",h="";i[0]===u[0]?d=i[1]>u[1]?"t":"b":i[1]===u[1]&&(d=i[0]>u[0]?"l":"r"),u[0]===a[0]?h=u[1]>a[1]?"t":"b":u[1]===a[1]&&(h=u[0]>a[0]?"l":"r");var m=Math.min(Math.hypot(u[0]-i[0],u[1]-i[1])/2,Math.hypot(a[0]-u[0],a[1]-u[1])/2,f)||1/5*f,g=""+d+h,E=c5[g]||"-",P="L "+i[0]+" "+i[1];if(E==="-")P+="L "+u[0]+" "+u[1]+" L "+a[0]+" "+a[1];else{var j=xp(l5(u,g,E,m),2),k=j[0],T=j[1];k&&T&&(P+="L "+k[0]+" "+k[1]+" Q "+u[0]+" "+u[1]+" "+T[0]+" "+T[1],o=xp(T,2),u[0]=o[0],u[1]=o[1])}return P}function p5(i,u){var a=0,f="";if(i.length===2)f+="M"+i[a][0]+" "+i[a++][1]+" L "+i[a][0]+" "+i[a][1];else{for(f+="M"+i[a][0]+" "+i[a++][1];a+1<i.length;){var o=i[a-1],d=i[a],h=i[a+++1];f+=f5(o,d,h,u)}f+="L "+i[a][0]+" "+i[a][1]}return f}(function(i){PE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u.prototype.getEdge=function(){var a=this.props.model,f=a.points,o=a.isAnimation,d=a.arrowConfig,h=a.radius,m=h===void 0?5:h,g=a.getEdgeStyle(),E=a.getEdgeAnimationStyle(),P=s5(f.split(" ").map(function(T){return T.split(",").map(function(C){return+C})})),j=p5(P,m),k=hl(hl(hl({style:o?E:{}},g),d),{fill:"none"});return it.h("path",hl({d:j},k))},u})(it.PolylineEdge);(function(i){PE(u,i);function u(){return i!==null&&i.apply(this,arguments)||this}return u})(it.PolylineEdgeModel);const d5={class:"control-container"},h5=["title","onMouseenter"],y5=["disabled","onClick"],v5=_y({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(i,{emit:u}){const a=i,f=u,o=za(),d=za(),h=za(-1),m=za([{icon:"icon-zoom-out-hs",text:"缩小",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"放大",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:"17",disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:"17",disabled:!1}]),g=(P,j)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((k,T)=>{const C=a.lf;j===1&&C.zoom(!0),j===6&&f("catData"),j===T&&C[k]()})},E=P=>{h.value=P};return bw(()=>{a.lf.on("history:change",({data:{undoAble:P,redoAble:j}})=>{Co(m)[3].disabled=Co(o).disabled=!P,Co(m)[4].disabled=Co(d).disabled=!j})}),(P,j)=>{const k=P2("tippy");return ni(),Pu("div",d5,[Tu("ul",null,[(ni(!0),Pu(mw,null,_w(m.value,(T,C)=>(ni(),Pu("li",{key:C,title:T.text,class:"dark:text-bg_color",onMouseenter:B1(N=>E(C),["prevent"]),onMouseleave:j[0]||(j[0]=B1(N=>h.value=-1,["prevent"]))},[A2((ni(),Pu("button",{ref_for:!0,ref:"controlButton"+C,disabled:T.disabled,style:z1({cursor:T.disabled===!1?"pointer":"not-allowed",color:T.disabled===!1?"":"#00000040",background:"transparent"}),onClick:N=>g(T,C)},[Tu("span",{class:Ow("iconfont "+T.icon),style:z1({fontSize:`${T.size}px`})},null,6)],12,y5)),[[k,{content:T.text}]])],40,h5))),128))])])}}}),g5=ym(v5,[["__scopeId","data-v-002521e2"]]),b5={class:"node-panel"},m5=["onMousedown"],_5={key:0,class:"shape"},O5={class:"node-label"},w5=_y({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(i){const u=i,a=za({a:"efrwe",b:"wewe"}),f=o=>{u.lf.dnd.startDrag({type:o.type,properties:Co(a)})};return(o,d)=>(ni(),Pu("div",b5,[(ni(!0),Pu(mw,null,_w(u.nodeList,h=>(ni(),Pu("div",{key:h.text,class:"node-item dark:text-bg_color",onMousedown:m=>f(h)},[Tu("div",{class:Ow(["node-item-icon",h.class])},[h.type==="user"||h.type==="time"?(ni(),Pu("div",_5)):Gb("",!0)],2),Tu("span",O5,M2(h.text),1)],40,m5))),128))]))}}),x5=ym(w5,[["__scopeId","data-v-8a549e68"]]),E5=_y({__name:"DataDialog",props:{graphData:Object},setup(i){const u=i;return(a,f)=>(ni(),Jh(Co(D2),{path:"res",deep:3,showLength:!0,data:u.graphData},null,8,["data"]))}}),S5=vm(g5),j5=vm(x5),P5=vm(E5),A5={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function M5(i){const{incoming:u,outgoing:a,properties:f,key:o}=i,{text:d,startPoint:h,endPoint:m,pointsList:g,logicFlowType:E}=f,P={id:o,type:E,sourceNodeId:u[0],targetNodeId:a[0],text:d,startPoint:h,endPoint:m,pointsList:g,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(i.properties).forEach(k=>{j.indexOf(k)===-1&&(P.properties[k]=i.properties[k])}),P}function T5(i){const{properties:u,key:a}=i,{x:f,y:o,text:d,logicFlowType:h}=u,m={id:a,type:h,x:f,y:o,text:d,properties:{}},g=["x","y","text","logicFlowType"];return Object.keys(i.properties).forEach(E=>{g.indexOf(E)===-1&&(m.properties[E]=i.properties[E])}),m}function k5(i){const u={nodes:[],edges:[]},a=i.flowElementList;return a&&a.length>0&&a.forEach(f=>{if(f.type===A5.SEQUENCE_FLOW){const o=M5(f);u.edges.push(o)}else{const o=T5(f);u.nodes.push(o)}}),u}const D5=i=>(T2("data-v-bb77f9e6"),i=i(),k2(),i),N5={class:"card-header"},R5={class:"font-medium"},C5={class:"logic-flow-view"},I5=D5(()=>Tu("div",{id:"turbo"},null,-1)),L5=_y({name:"FlowChart",__name:"index",setup(i){const u=za(null),a=za(null),f=za(!1),o=za({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),d=G4;function h(){qh.use(o5),qh.use(p8),qh.use(u5);const E=new qh(I1(C1({},Co(o)),{container:document.querySelector("#turbo")}));u.value=E,Co(u).setDefaultEdgeType("bpmn:sequenceFlow"),m()}function m(){const E=k5(U4);u.value.render(E)}function g(){a.value=Co(u).getGraphData(),f.value=!0}return bw(()=>{h()}),(E,P)=>{const j=Vh("el-link"),k=Vh("el-scrollbar"),T=Vh("el-dialog"),C=Vh("el-card");return ni(),Jh(C,{shadow:"never"},{header:ll(()=>[Tu("div",N5,[Tu("span",R5,[Cb(" 流程图组件，采用开源的 "),hp(j,{href:"https://site.logic-flow.cn/docs/#/zh/guide/start",target:"_blank",style:{margin:"0 4px 5px","font-size":"16px"}},{default:ll(()=>[Cb(" LogicFlow ")]),_:1})])]),hp(j,{class:"mt-2",href:"https://github.com/pure-admin/vue-pure-admin/blob/main/src/views/flow-chart",target:"_blank"},{default:ll(()=>[Cb(" 代码位置 src/views/flow-chart ")]),_:1})]),default:ll(()=>[Tu("div",C5,[u.value?(ni(),Jh(Co(S5),{key:0,class:"demo-control",lf:u.value,catTurboData:!1,onCatData:g},null,8,["lf"])):Gb("",!0),u.value?(ni(),Jh(Co(j5),{key:1,lf:u.value,nodeList:Co(d)},null,8,["lf","nodeList"])):Gb("",!0),I5,hp(T,{modelValue:f.value,"onUpdate:modelValue":P[0]||(P[0]=N=>f.value=N),class:"flow-dialog",title:"数据",width:"50%"},{default:ll(()=>[hp(k,null,{default:ll(()=>[hp(Co(P5),{graphData:a.value},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}}),$5=ym(L5,[["__scopeId","data-v-bb77f9e6"]]);export{$5 as default};
