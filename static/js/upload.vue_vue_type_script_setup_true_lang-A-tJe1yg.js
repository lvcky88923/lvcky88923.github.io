import{d as D,a as t,e as v,A as I,B as u,f as l,k as d,i as m,w as _,g as r,u as f,a5 as N,b as V,j as h,t as i,cR as j}from"./index-WlA0U7AG.js";import{R as z}from"./index-CRU18UA-.js";const A={"element-loading-background":"transparent"},P={class:"w-[18vw]"},E={class:"mt-1 text-center"},J={class:"flex flex-wrap justify-center items-center text-center"},$={key:1,class:"mt-1"},H=D({__name:"upload",props:{imgSrc:String},emits:["cropper"],setup(g,{expose:w,emit:k}){const C=g,x=k,e=t(),p=t(),y=t(),o=t(!1),s=t("");function R({base64:c,blob:a,info:n}){e.value=n,s.value=c,x("cropper",{base64:c,blob:a,info:n})}function B(){p.value.hide()}return w({hidePopover:B}),(c,a)=>{const n=v("el-image"),S=v("el-popover"),b=I("loading");return u((l(),d("div",A,[m(S,{ref_key:"popoverRef",ref:p,visible:o.value,placement:"right",width:"18vw"},{reference:_(()=>[r("div",P,[m(f(z),{ref_key:"refCropper",ref:y,src:C.imgSrc,circled:"",onCropper:R,onReadied:a[0]||(a[0]=q=>o.value=!0)},null,8,["src"]),u(r("p",E," 温馨提示：右键上方裁剪区可开启功能菜单 ",512),[[N,o.value]])])]),default:_(()=>[r("div",J,[s.value?(l(),V(n,{key:0,src:s.value,"preview-src-list":Array.of(s.value),fit:"cover"},null,8,["src","preview-src-list"])):h("",!0),e.value?(l(),d("div",$,[r("p",null," 图像大小："+i(parseInt(e.value.width))+" × "+i(parseInt(e.value.height))+"像素 ",1),r("p",null," 文件大小："+i(f(j)(e.value.size))+"（"+i(e.value.size)+" 字节） ",1)])):h("",!0)])]),_:1},8,["visible"])])),[[b,!o.value]])}}});export{H as _};
